(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{7272:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(7437),c=a(9009),n=a(7065),i=a(703),l=a(8792),r=a(2265),d=a(7668),o=a(3951),h=function(e){let{isAllArticlesPage:t,highlightedEditors:a,editorsArticles:h=[]}=e,[,u]=(0,r.useState)([]),[g,m]=(0,r.useState)(null),[x,f]=(0,r.useState)(!1),[,j]=(0,r.useState)(null),[p,N]=(0,r.useState)({}),w=async e=>{try{console.log("clicked",e);let t=(0,c.JU)(o.Fs,"centeredStates",e),a=await (0,c.QT)(t);if(a.exists()){let e=a.data().centeredState;await (0,c.r7)(t,{centeredState:!e})}else await (0,c.pl)(t,{centeredState:!0});let s=await v();N(s)}catch(e){console.error("Error toggling centered state:",e)}},v=async()=>{let e=(0,c.hJ)(o.Fs,"centeredStates"),t=await (0,c.PL)(e),a={};return t.forEach(e=>{a[e.id]=e.data().centeredState}),a},k=async e=>{try{await (0,c.pl)((0,c.JU)(o.Fs,"highlighted","highlightedEditors"),{articleId:e}),j(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}};(0,r.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{m(e)});return()=>t()},[]);let y=async e=>{let t=(0,c.JU)(o.Fs,"editors-picks",e);await (0,c.oe)(t),u(t=>t.filter(t=>t.id!==e))},[S,b]=(0,r.useState)(1),E=h.length,C=(S-1)*6,F=h.slice(C,Math.min(C+6,E));return(0,s.jsxs)("div",{className:"editor_spac",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,s.jsx)("h1",{children:"Editor's Picks"})]}),(0,s.jsx)("div",{className:"flex-contents",children:x?(0,s.jsx)(d.Z,{}):(0,s.jsx)("div",{className:"page-contents",children:F.map((e,a)=>(0,s.jsx)("div",{className:"news-row",children:(0,s.jsx)(l.default,{href:g&&t&&!e.isHighlight?"#":"editors-picks/".concat(e.id),prefetch:!0,children:(0,s.jsxs)("div",{className:"content-card ".concat(p[e.id]?"centered":""),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,s.jsxs)("div",{className:"card-manager",children:[g&&t&&(0,s.jsx)("button",{onClick:()=>y(e.id),children:"Delete"}),g&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>w(e.id),children:"Change Center"}),!e.isHighlight&&t&&(0,s.jsx)("button",{onClick:()=>k(e.id),children:"Set as Editor's Highlight"})]}),(0,s.jsxs)("div",{className:"content-text",children:[(0,s.jsx)("h2",{className:"content-text-header",children:e.title}),(0,s.jsx)("p",{className:"content-text-body",children:e.summary})]})]},"col--row-".concat(a))},"col--row-".concat(a))},a))})}),(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{onClick:()=>{b(e=>Math.max(e-1,1))},disabled:1===S,className:"page-button",children:"Back"}),(0,s.jsxs)("span",{children:["Page ",S," of ",Math.ceil(E/6)]}),(0,s.jsx)("button",{onClick:()=>{b(e=>Math.min(e+1,Math.ceil(E/6)))},disabled:S===Math.ceil(E/6),className:"page-button",children:"Next"})]})]})}},8996:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),c=a(9009),n=a(7065),i=a(703),l=a(8792),r=a(2265),d=a(3951);a(7826),a(4273),a(7668);var o=e=>{let{isAllArticlesPage:t,fetchNewsData:a,initialNewsArticles:o,totalPagesCount:h}=e,[u,g]=(0,r.useState)(o),[m,x]=(0,r.useState)(null),[,f]=(0,r.useState)(null),[j,p]=(0,r.useState)(!1),[N,w]=(0,r.useState)({}),[v,k]=(0,r.useState)(null),[y,S]=(0,r.useState)(1),[b,E]=(0,r.useState)(h||1),C=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let t=(0,c.hJ)(d.Fs,"news"),a=(0,c.IO)(t,(0,c.Xo)("timestamp","desc"),(0,c.b9)(6)),s=a;e>1&&v&&(s=(0,c.IO)(a,(0,c.TQ)(v)));let n=await (0,c.PL)(s),i=n.docs.map(e=>({id:e.id,...e.data()})),l=n.docs[n.docs.length-1]||null;if(k(l),1===e){let e=i.slice(0,6);g(e)}else g(e=>{let t=i.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]})}catch(e){console.error("Error fetching news articles",e)}finally{p(!1)}},[v]);(0,r.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{x(e)});return()=>t()},[y,C]),(0,r.useEffect)(()=>{y>1&&C(y)},[y,C]);let F=async e=>{if(t){let t=(0,c.JU)(d.Fs,"news",e);await (0,c.oe)(t),g(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},J=async e=>{try{let t=(0,c.JU)(d.Fs,"centeredStates",e),a=await (0,c.QT)(t);if(a.exists()){let e=a.data().centeredState;await (0,c.r7)(t,{centeredState:!e})}else await (0,c.pl)(t,{centeredState:!0});let s=await M();w(s)}catch(e){console.error("Error toggling centered state:",e)}},I=async e=>{try{await (0,c.pl)((0,c.JU)(d.Fs,"highlighted","highlightedNews"),{articleId:e}),f(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},M=async()=>{let e=(0,c.hJ)(d.Fs,"centeredStates"),t=await (0,c.PL)(e),a={};return t.forEach(e=>{a[e.id]=e.data().centeredState}),a},H=u.length,P=(y-1)*6,L=u.slice(P,Math.min(P+6,H));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,s.jsx)("h1",{children:"NEWS"})]}),(0,s.jsx)("div",{className:"flex-contents",children:(0,s.jsx)("div",{className:"page-contents",children:L.map((e,a)=>(0,s.jsx)("div",{className:"news-row",children:(0,s.jsx)(l.default,{href:m&&t&&!e.isHighlight?"#":"news/".concat(e.id),prefetch:!0,children:(0,s.jsxs)("div",{className:"content-card ".concat(N[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,s.jsxs)("div",{className:"card-manager",children:[m&&t&&(0,s.jsx)("button",{onClick:()=>F(e.id),children:"Delete"}),m&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>J(e.id),children:"Change Center"}),m&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>I(e.id),children:"Set as News Highlight"})]}),(0,s.jsxs)("div",{className:"content-text",children:[(0,s.jsx)("h2",{className:"content-text-header",children:e.title}),(0,s.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},a)},a))})}),(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{onClick:()=>{S(e=>Math.max(e-1,1))},disabled:1===y,className:"page-button",children:"Back"}),(0,s.jsxs)("span",{className:"page-number",children:["Page ",y," of ",b]}),(0,s.jsx)("button",{onClick:()=>{S(e=>e+1)},disabled:y===b,className:"page-button",children:"Next"})]})]})}},7668:function(e,t,a){"use strict";var s=a(7437);a(2265),t.Z=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex-contents"}),(0,s.jsxs)("div",{className:"page-contents skeleton-cards",children:[(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"})]})]})},3951:function(e,t,a){"use strict";a.d(t,{Fs:function(){return r},I8:function(){return d},tO:function(){return o}});var s=a(6142),c=a(8121),n=a(7065),i=a(4905);let l=(0,s.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),r=(0,c.ad)(l),d=(0,n.v0)(l),o=(0,i.cF)(l)},7826:function(){},4273:function(){}}]);