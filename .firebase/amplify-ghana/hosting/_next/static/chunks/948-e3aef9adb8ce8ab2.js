(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{7272:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),c=s(9009),n=s(7065),i=s(703),l=s(8792),r=s(2265),d=s(7668),o=s(3951),h=function(e){let{isAllArticlesPage:t,highlightedEditors:s,editorsArticles:h=[]}=e,[,u]=(0,r.useState)([]),[g,x]=(0,r.useState)(null),[m,j]=(0,r.useState)(!1),[,f]=(0,r.useState)(null),[p,N]=(0,r.useState)({}),w=async e=>{try{console.log("clicked",e);let t=(0,c.JU)(o.Fs,"centeredStates",e),s=await (0,c.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,c.r7)(t,{centeredState:!e})}else await (0,c.pl)(t,{centeredState:!0});let a=await v();N(a)}catch(e){console.error("Error toggling centered state:",e)}},v=async()=>{let e=(0,c.hJ)(o.Fs,"centeredStates"),t=await (0,c.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},k=async e=>{try{await (0,c.pl)((0,c.JU)(o.Fs,"highlighted","highlightedEditors"),{articleId:e}),f(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}};(0,r.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{x(e)});return()=>t()},[]);let S=async e=>{let t=(0,c.JU)(o.Fs,"editors-picks",e);await (0,c.oe)(t),u(t=>t.filter(t=>t.id!==e))},[b,y]=(0,r.useState)(1),E=h.length,C=(b-1)*6,F=h.slice(C,Math.min(C+6,E));return(0,a.jsxs)("section",{className:"editor-page",id:"editors-pick",children:[(0,a.jsx)("div",{className:"editor_space"}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0}),(0,a.jsx)("h1",{children:"Editor's Picks"})]}),(0,a.jsx)("div",{className:"flex-contents",children:m?(0,a.jsx)(d.Z,{}):(0,a.jsx)("div",{className:"page-contents",children:F.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(l.default,{href:g&&t&&!e.isHighlight?"#":"editors-picks/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(p[e.id]?"centered":""),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[g&&t&&(0,a.jsx)("button",{onClick:()=>S(e.id),children:"Delete"}),g&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>w(e.id),children:"Change Center"}),!e.isHighlight&&t&&(0,a.jsx)("button",{onClick:()=>k(e.id),children:"Set as Editor's Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]},"col--row-".concat(s))},"col--row-".concat(s))},s))})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{y(e=>Math.max(e-1,1))},disabled:1===b,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{children:["Page ",b," of ",Math.ceil(E/6)]}),(0,a.jsx)("button",{onClick:()=>{y(e=>Math.min(e+1,Math.ceil(E/6)))},disabled:b===Math.ceil(E/6),className:"page-button",children:"Next"})]})]})}},8996:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),c=s(9009),n=s(7065),i=s(703),l=s(8792),r=s(2265),d=s(3951);s(7826),s(4273);var o=s(7668),h=e=>{let{isAllArticlesPage:t,fetchNewsData:s,initialNewsArticles:h,totalPagesCount:u}=e,[g,x]=(0,r.useState)(h),[m,j]=(0,r.useState)(null),[,f]=(0,r.useState)(null),[p,N]=(0,r.useState)(!1),[w,v]=(0,r.useState)({}),[k,S]=(0,r.useState)(null),[b,y]=(0,r.useState)(1),[E,C]=(0,r.useState)(u||1),F=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let t=(0,c.hJ)(d.Fs,"news"),s=(0,c.IO)(t,(0,c.Xo)("timestamp","desc"),(0,c.b9)(6)),a=s;e>1&&k&&(a=(0,c.IO)(s,(0,c.TQ)(k)));let n=await (0,c.PL)(a),i=n.docs.map(e=>({id:e.id,...e.data()})),l=n.docs[n.docs.length-1]||null;if(S(l),1===e){let e=i.slice(0,6);x(e)}else x(e=>{let t=i.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]})}catch(e){console.error("Error fetching news articles",e)}finally{N(!1)}},[k]);(0,r.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{j(e)});return()=>t()},[b,F]),(0,r.useEffect)(()=>{b>1&&F(b)},[b,F]);let J=async e=>{if(t){let t=(0,c.JU)(d.Fs,"news",e);await (0,c.oe)(t),x(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},I=async e=>{try{let t=(0,c.JU)(d.Fs,"centeredStates",e),s=await (0,c.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,c.r7)(t,{centeredState:!e})}else await (0,c.pl)(t,{centeredState:!0});let a=await H();v(a)}catch(e){console.error("Error toggling centered state:",e)}},M=async e=>{try{await (0,c.pl)((0,c.JU)(d.Fs,"highlighted","highlightedNews"),{articleId:e}),f(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},H=async()=>{let e=(0,c.hJ)(d.Fs,"centeredStates"),t=await (0,c.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},P=g.length,L=(b-1)*6,U=g.slice(L,Math.min(L+6,P));return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(o.Z,{}),children:(0,a.jsxs)("section",{className:"news-container",id:"news",children:[(0,a.jsx)("div",{className:"spacer"}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0}),(0,a.jsx)("h1",{children:"NEWS"})]}),(0,a.jsx)("div",{className:"flex-contents",children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(o.Z,{}),children:(0,a.jsx)("div",{className:"page-contents",children:U.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(l.default,{href:m&&t&&!e.isHighlight?"#":"news/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(w[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[m&&t&&(0,a.jsx)("button",{onClick:()=>J(e.id),children:"Delete"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>I(e.id),children:"Change Center"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>M(e.id),children:"Set as News Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},s)},s))})})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{y(e=>Math.max(e-1,1))},disabled:1===b,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{className:"page-number",children:["Page ",b," of ",E]}),(0,a.jsx)("button",{onClick:()=>{y(e=>e+1)},disabled:b===E,className:"page-button",children:"Next"})]})]})})}},7668:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex-contents"}),(0,a.jsxs)("div",{className:"page-contents skeleton-cards",children:[(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"})]})]})},3951:function(e,t,s){"use strict";s.d(t,{Fs:function(){return r},I8:function(){return d},tO:function(){return o}});var a=s(6142),c=s(8121),n=s(7065),i=s(4905);let l=(0,a.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),r=(0,c.ad)(l),d=(0,n.v0)(l),o=(0,i.cF)(l)},7826:function(){},4273:function(){}}]);