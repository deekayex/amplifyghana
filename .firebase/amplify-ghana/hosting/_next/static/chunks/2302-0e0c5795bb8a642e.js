(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2302],{5485:function(e,t,a){"use strict";a.d(t,{default:function(){return h}});var s=a(7437),n=a(8456),c=a(4752),i=a(3145),l=a(7648),r=a(2265),d=a(9206),o=a(7818),h=function(e){let{isAllArticlesPage:t,highlightedEditors:a,editorsArticles:h=[]}=e,[,u]=(0,r.useState)([]),[g,m]=(0,r.useState)(null),[x,f]=(0,r.useState)(!1),[,j]=(0,r.useState)(null),[p,N]=(0,r.useState)({}),w=async e=>{try{console.log("clicked",e);let t=(0,n.JU)(o.Fs,"centeredStates",e),a=await (0,n.QT)(t);if(a.exists()){let e=a.data().centeredState;await (0,n.r7)(t,{centeredState:!e})}else await (0,n.pl)(t,{centeredState:!0});let s=await S();N(s)}catch(e){console.error("Error toggling centered state:",e)}},S=async()=>{let e=(0,n.hJ)(o.Fs,"centeredStates"),t=await (0,n.PL)(e),a={};return t.forEach(e=>{a[e.id]=e.data().centeredState}),a},v=async e=>{try{await (0,n.pl)((0,n.JU)(o.Fs,"highlighted","highlightedEditors"),{articleId:e}),j(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}};(0,r.useEffect)(()=>{let e=(0,c.v0)(),t=(0,c.Aj)(e,e=>{m(e)});return()=>t()},[]);let y=async e=>{let t=(0,n.JU)(o.Fs,"editors-picks",e);await (0,n.oe)(t),u(t=>t.filter(t=>t.id!==e))},[k,b]=(0,r.useState)(1),E=h.length,C=(k-1)*6,F=h.slice(C,Math.min(C+6,E));return(0,s.jsxs)("div",{className:"editor_spac",children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,s.jsx)("h1",{children:"Editor's Picks"})]}),(0,s.jsx)("div",{className:"flex-contents",children:x?(0,s.jsx)(d.Z,{}):(0,s.jsx)("div",{className:"page-contents",children:F.map((e,a)=>(0,s.jsx)("div",{className:"news-row",children:(0,s.jsx)(l.default,{href:g&&t&&!e.isHighlight?"#":"editors-picks/".concat(e.id),prefetch:!0,children:(0,s.jsxs)("div",{className:"content-card ".concat(p[e.id]?"centered":""),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,s.jsxs)("div",{className:"card-manager",children:[g&&t&&(0,s.jsx)("button",{onClick:()=>y(e.id),children:"Delete"}),g&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>w(e.id),children:"Change Center"}),!e.isHighlight&&t&&(0,s.jsx)("button",{onClick:()=>v(e.id),children:"Set as Editor's Highlight"})]}),(0,s.jsxs)("div",{className:"content-text",children:[(0,s.jsx)("h2",{className:"content-text-header",children:e.title}),(0,s.jsx)("p",{className:"content-text-body",children:e.summary})]})]},"col--row-".concat(a))},"col--row-".concat(a))},a))})}),(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{onClick:()=>{b(e=>Math.max(e-1,1))},disabled:1===k,className:"page-button",children:"Back"}),(0,s.jsxs)("span",{children:["Page ",k," of ",Math.ceil(E/6)]}),(0,s.jsx)("button",{onClick:()=>{b(e=>Math.min(e+1,Math.ceil(E/6)))},disabled:k===Math.ceil(E/6),className:"page-button",children:"Next"})]})]})}},1860:function(e,t,a){"use strict";a.d(t,{default:function(){return h}});var s=a(7437),n=a(8456),c=a(4752),i=a(3145),l=a(7648),r=a(2265),d=a(7818);a(315),a(9824);var o=a(9206),h=e=>{let{isAllArticlesPage:t,fetchNewsData:a,initialNewsArticles:h,totalPagesCount:u}=e,[g,m]=(0,r.useState)(h),[x,f]=(0,r.useState)(null),[,j]=(0,r.useState)(null),[p,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)({}),[v,y]=(0,r.useState)({}),[k,b]=(0,r.useState)(1),[E,C]=(0,r.useState)(u||1),[F,J]=(0,r.useState)(new Set),[M,I]=(0,r.useState)(null),H=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!F.has(e)){N(!0),I(null),console.log("Fetching data for page: ".concat(e));try{let t=(0,n.hJ)(d.Fs,"news"),a=(0,n.IO)(t,(0,n.Xo)("timestamp","desc"),(0,n.b9)(6));e>1&&v[e-1]&&(a=(0,n.IO)(a,(0,n.TQ)(v[e-1])));let s=await (0,n.PL)(a),c=s.docs.map(e=>({id:e.id,...e.data()})),i=s.docs[s.docs.length-1]||null;y(i),y(t=>({...t,[e]:i})),m(e=>{let t=c.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]}),J(t=>new Set(t).add(e))}catch(t){console.error("Error fetching articles:",t),I("Failed to fetch articles. Please try again."),J(t=>{let a=new Set(t);return a.delete(e),a})}finally{N(!1)}}},[F,v]);(0,r.useEffect)(()=>{(async()=>{let e=(0,n.hJ)(d.Fs,"news");C(Math.ceil((await (0,n.Yp)(e)).data().count/6)),H(1)})()},[H]),(0,r.useEffect)(()=>{let e=(0,c.v0)(),t=(0,c.Aj)(e,e=>{f(e)});return H(k),()=>{t()}},[k,H]);let P=async e=>{if(t){let t=(0,n.JU)(d.Fs,"news",e);await (0,n.oe)(t),m(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},L=async e=>{try{let t=(0,n.JU)(d.Fs,"centeredStates",e),a=await (0,n.QT)(t);if(a.exists()){let e=a.data().centeredState;await (0,n.r7)(t,{centeredState:!e})}else await (0,n.pl)(t,{centeredState:!0});let s=await A();S(s)}catch(e){console.error("Error toggling centered state:",e)}},U=async e=>{try{await (0,n.pl)((0,n.JU)(d.Fs,"highlighted","highlightedNews"),{articleId:e}),j(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},A=async()=>{let e=(0,n.hJ)(d.Fs,"centeredStates"),t=await (0,n.PL)(e),a={};return t.forEach(e=>{a[e.id]=e.data().centeredState}),a},D=g.length,_=(k-1)*6,B=g.slice(_,Math.min(_+6,D));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)(i.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,s.jsx)("h1",{children:"NEWS"})]}),(0,s.jsx)("div",{className:"flex-contents",children:(0,s.jsxs)("div",{className:"page-contents",children:[p&&(0,s.jsx)(o.Z,{}),!p&&B.map((e,a)=>(0,s.jsx)("div",{className:"news-row",children:(0,s.jsx)(l.default,{href:x&&t&&!e.isHighlight?"#":"news/".concat(e.id),prefetch:!0,children:(0,s.jsxs)("div",{className:"content-card ".concat(w[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,s.jsxs)("div",{className:"card-manager",children:[x&&t&&(0,s.jsx)("button",{onClick:()=>P(e.id),children:"Delete"}),x&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>L(e.id),children:"Change Center"}),x&&t&&!e.isHighlight&&(0,s.jsx)("button",{onClick:()=>U(e.id),children:"Set as News Highlight"})]}),(0,s.jsxs)("div",{className:"content-text",children:[(0,s.jsx)("h2",{className:"content-text-header",children:e.title}),(0,s.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},a)},a))]})}),(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{onClick:()=>{b(e=>Math.max(e-1,1))},disabled:1===k,className:"page-button",children:"Back"}),(0,s.jsxs)("span",{className:"page-number",children:["Page ",k," of ",E]}),(0,s.jsx)("button",{onClick:()=>{b(e=>e+1)},disabled:k===E,className:"page-button",children:"Next"})]})]})}},9206:function(e,t,a){"use strict";var s=a(7437);a(2265),t.Z=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex-contents"}),(0,s.jsxs)("div",{className:"page-contents skeleton-cards",children:[(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"}),(0,s.jsx)("div",{className:"content-card card-skeleton"})]})]})},7818:function(e,t,a){"use strict";a.d(t,{Fs:function(){return r},I8:function(){return d},tO:function(){return o}});var s=a(738),n=a(5978),c=a(4752),i=a(62);let l=(0,s.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),r=(0,n.ad)(l),d=(0,c.v0)(l),o=(0,i.cF)(l)},315:function(){},9824:function(){}}]);