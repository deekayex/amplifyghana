(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5465],{2428:function(e,a,t){Promise.resolve().then(t.bind(t,8429))},8429:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var n=t(7437),i=t(2966),l=t(8456),s=t(5978),r=t(62),c=t(2265);t(3194);var o=t(247);function u(e){let{value:a,onChange:t}=e,i=(0,c.useRef)(null),[l]=(0,c.useState)(""),s=e=>{"IMG"===e.element.nodeName&&(console.log("Image alt text:",e.element.alt),l(e.element.alt))};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.M,{apiKey:"upzlvpyzyxwa2ruk88onayhmb7zk3vv4nsmtbx3svwmwwrqf",onInit:(e,a)=>{i.current=a,a.on("NodeChange Change",s)},initialValue:"<p>Type the article contents here.</p>",value:a,onEditorChange:e=>{t&&t(e)},init:{height:500,plugins:["advlist","autolink","lists","link","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount","image","imagetools"],toolbar:"undo redo spellcheckdialog| bold italic underline forecolor backcolor | | blocks fontfamily fontsize |alignleft aligncenter alignright alignjustify | lineheight | bullist numlist outdent indent | removeformat typography| help | link imagecharmap emoticons | hr pagebreak | searchreplace | spellchecker | fullscreen | formats | help",automatic_uploads:!0,file_picker_types:"image",file_picker_callback:function(e){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.onchange=function(){var a=this.files[0],t=new FileReader;t.onload=function(){var n="blobid"+new Date().getTime(),l=i.current.editorUpload.blobCache,s=t.result.split(",")[1],r=l.create(n,a,s);l.add(r),e(r.blobUri(),{title:a.name})},t.readAsDataURL(a)},a.click()},content_style:"body { font-family: Helvetica, Arial, sans-serif; font-size: 14px }",imagetools_toolbar:"rotateleft rotateright | flipv fliph | editimage imageoptions"}})})}var d=e=>{let{content:a,onContentChange:t,onSave:i,onPrevious:l,onCancel:s}=e;return(0,n.jsxs)("div",{className:"create-article-contents-container",children:[(0,n.jsx)("h2",{children:"Step 3: Article Content"}),(0,n.jsxs)("label",{children:["Content:",(0,n.jsx)(u,{value:a,onChange:t})]}),(0,n.jsxs)("div",{className:"buttons-flex-2",children:[(0,n.jsx)("button",{onClick:l,className:"btn",children:"Previous"}),(0,n.jsx)("button",{onClick:i,className:"btn",children:"Save"}),(0,n.jsx)("button",{onClick:s,className:"btn",children:"Cancel"})]})]})},h=t(3145),m=e=>{let{title:a,summary:t,onSummaryChange:i,onImageChange:l,onSectionChange:s,onNext:r,onPrevious:o,setImage:u}=e,[d,m]=(0,c.useState)(null);return(0,n.jsxs)("div",{className:"create-article-form-container",children:[(0,n.jsx)("h2",{children:"Step 2: Article Details"}),(0,n.jsxs)("label",{className:"article-section",children:["Select Section",(0,n.jsxs)("select",{onChange:s,required:!0,className:"select-category",children:[(0,n.jsx)("option",{value:"news",children:"News"}),(0,n.jsx)("option",{value:"editors-picks",children:"Editors Picks"})]})]}),(0,n.jsxs)("div",{className:"create-article-step2",children:[(0,n.jsx)("label",{children:(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];m(URL.createObjectURL(a)),l(a)},className:"image-picker"})}),d&&(0,n.jsx)("div",{children:(0,n.jsx)(h.default,{src:d,alt:"Image Preview",className:"set-image",width:100,height:100})}),(0,n.jsxs)("label",{children:[(0,n.jsx)("label",{className:"create-article-title",children:a}),(0,n.jsx)("textarea",{value:t,onChange:e=>i(e.target.value),placeholder:"Article summary",className:"article-summary"})]})]}),(0,n.jsxs)("div",{className:"buttons-flex",children:[(0,n.jsx)("button",{onClick:o,className:"btn",children:"Previous"}),(0,n.jsx)("button",{onClick:r,className:"btn",children:"Next"})]})]})},g=e=>{let{title:a,onTitleChange:t,onNext:i}=e;return(0,n.jsxs)("div",{className:"create-article-title-container",children:[(0,n.jsx)("h2",{children:"Step 1: Article Title"}),(0,n.jsx)("label",{children:(0,n.jsx)("input",{type:"text",value:a,onChange:e=>t(e.target.value),placeholder:"Article title",className:"article-input-title"})}),(0,n.jsx)("button",{onClick:i,className:"btn",children:"Next"})]})},p=t(7818);t(1912);let f=e=>{let{onSave:a,onCancel:t}=e,[l,s]=(0,c.useState)(1),[r,o]=(0,c.useState)(""),[u,h]=(0,c.useState)(""),[p,f]=(0,c.useState)(null),[x,j]=(0,c.useState)("news"),[v,w]=(0,c.useState)(""),k=e=>{o(e)},y=e=>{h(e)},b=e=>{f(e)},N=e=>{j(e.target.value)},C=e=>{w(e),console.log(e)},S=()=>{if(1===l&&""===r.trim()){alert("Charley where the title dey?");return}if(2===l&&(""===u.trim()||!p||""===x.trim())){alert("Charley you no fill the page finish!");return}s(l+1)},z=()=>{s(l-1)},A=()=>{if(""===v.trim()){alert("Charley you not type all oo!");return}a({title:r,summary:u,image:p,selectedSection:x,content:v}),s(1),o(""),h(""),f(null),j("news"),w("")};return(0,n.jsx)(i.default,{children:(0,n.jsx)("div",{className:"create-article-form",children:(()=>{switch(l){case 1:return(0,n.jsx)(g,{title:r,onTitleChange:k,onNext:S});case 2:return(0,n.jsx)(m,{title:r,summary:u,onSummaryChange:y,onImageChange:b,onSectionChange:N,onNext:S,onPrevious:z});case 3:return(0,n.jsx)(d,{content:v,onContentChange:C,onSave:A,onPrevious:z,onCancel:t});default:return null}})()})})};function x(){let[e]=(0,c.useState)(!1),a=async a=>{try{let t;let{title:n,summary:i,content:c,image:o,selectedSection:u}=a,d=(0,r.iH)(p.tO,"article_images/"+o.name);if("news"===u)t="news";else if("editors-picks"===u)t="editors-picks";else{alert("Invalid section selected!");return}await (0,r.KV)(d,o);let h=await (0,r.Jt)(d),m=n.toLowerCase().replace(/[^\w\s-"]/g,"").replace(/\s+/g,"-");await (0,s.pl)((0,l.JU)((0,l.hJ)(p.Fs,t),m),{title:n,summary:i,content:c,image:h,timestamp:(0,l.Bt)()}),alert("New article created successfully!"),e(!1)}catch(e){alert("Error creating new article",e)}};return(0,n.jsx)(f,{onSave:a,onCancel:()=>{e(!1)}})}},2966:function(e,a,t){"use strict";var n=t(7437),i=t(2265),l=t(7648),s=t(4752),r=t(7818);t(3496);var c=t(9376),o=t(3145);a.default=e=>{let{children:a}=e,[t,u]=(0,i.useState)(!1),d=(0,c.useRouter)(),h=async()=>{if(window.confirm("Are you sure you want to sign out?")){let e=(0,s.v0)();try{await (0,s.w7)(e),d.push("/")}catch(e){console.error("Error signing out",e)}}};return(0,i.useEffect)(()=>{(async()=>{try{(0,s.Aj)(r.I8,async e=>{if(e){let a=await (0,s.ag)(e);u(a.claims.admin||!1)}else(0,c.redirect)("/")})}catch(e){console.error("Error checking admin status:",e)}})()},[]),(0,n.jsxs)("div",{className:"admin-page",children:[(0,n.jsxs)("div",{className:"admin-flex",children:[(0,n.jsx)("div",{className:"admin-header",children:"Admin"}),(0,n.jsx)("button",{onClick:h,className:"sign-out",children:(0,n.jsx)(o.default,{src:"/power.svg",alt:"Sign Out",className:"sign-out-icon",width:100,height:100})})]}),(0,n.jsxs)("div",{className:"admin-page-links",children:[(0,n.jsxs)("div",{className:"page-managers",children:[(0,n.jsxs)("div",{className:"posts-manager",children:[(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/create-posts",children:"Create Posts"})}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517",children:"Manage Posts"})})]}),(0,n.jsxs)("div",{className:"playlists-manager",children:[(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/update-playlist",children:"Update Playlists"})}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/all-playlists",children:"Manage Playlists"})})]}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/top-picks",children:"Top Picks"})}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/featured-ad",children:"Featured Ad"})}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/inbox",children:"Messages"})}),(0,n.jsx)("div",{className:"admin-link",children:(0,n.jsx)(l.default,{href:"/cjuyu579ugnwh45h9mnhkulpnkzx6vwr0bni5pg3qsd9i0nh804w5gors9ihnyl8g4pa230uleij16ktraamuwi517/page-manager",children:"Edit Pages"})})]}),(0,n.jsx)("div",{className:"admin-pages",children:a})]})]})}},7818:function(e,a,t){"use strict";t.d(a,{Fs:function(){return c},I8:function(){return o},tO:function(){return u}});var n=t(738),i=t(5978),l=t(4752),s=t(62);let r=(0,n.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),c=(0,i.ad)(r),o=(0,l.v0)(r),u=(0,s.cF)(r)},1912:function(){},3496:function(){}},function(e){e.O(0,[3685,3781,4358,4533,5878,1896,2972,9752,2971,2117,1744],function(){return e(e.s=2428)}),_N_E=e.O()}]);