exports.id=170,exports.ids=[170],exports.modules={59601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;let r=[];function n(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function i(e){for(let{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}t.registerAdminService=n,t.addAdminServicesToServer=i},84934:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,n=1.6,i=12e4,s=.2;function A(e,t){return Math.random()*(t-e)+e}class o{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=n,this.maxDelay=i,this.jitter=s,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+A(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=o},78931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let n=r(62252);function i(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class s{static createFromMetadataGenerator(e){return new o(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,r)=>{let s;(s=i(e)?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){n(e);return}if(!t){n(Error("Headers not set by metadata plugin"));return}r(t)})})).then(e=>{let t=new n.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new a}}t.CallCredentials=s;class A extends s{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new n.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new A(this.creds.concat([e]))}_equals(e){return this===e||e instanceof A&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class o extends s{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new A([this,e])}_equals(e){return this===e||e instanceof o&&this.metadataGenerator===e.metadataGenerator}}class a extends s{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},46749:(e,t)=>{"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=r;class n{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=n},38445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;function n(){return r++}t.getNextCallNumber=n},78439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;let n=r(82361),i=r(12781),s=r(32678);function A(e,t){let r=`${e.code} ${s.Status[e.code]}: ${e.details}`,n=Error(r),i=`${n.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:i})}t.callErrorFromStatus=A;class o extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=o;class a extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class l extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class c extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;let i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},92528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let n=r(24404),i=r(78931),s=r(43009);function A(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class o{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var o;if(A(e,"Root certificate"),A(t,"Private key"),A(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new l((0,n.createSecureContext)({ca:null!==(o=null!=e?e:(0,s.getDefaultRootsData)())&&void 0!==o?o:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:s.CIPHER_SUITES}),null!=i?i:{})}static createFromSecureContext(e,t){return new l(e,null!=t?t:{})}static createInsecure(){return new a}}t.ChannelCredentials=o;class a extends o{constructor(e){super(e)}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof a}}class l extends o{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new c(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof l&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class c extends o{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new c(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},79387:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||e[r[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},t.channelOptionsEqual=r},46261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let n=r(92528),i=r(21118);class s{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}t.ChannelImplementation=s},5993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;let n=r(41808),i=r(33955),s=r(32678),A=r(23906),o=r(59601),a=r(35085);function l(e){return{channel_id:e.id,name:e.name}}function c(e){return{subchannel_id:e.id,name:e.name}}function h(e){return{server_id:e.id}}function u(e){return{socket_id:e.id,name:e.name}}let d=32;class g{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*d&&(this.events=this.events.slice(d)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:N(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:N(e.timestamp),channel_ref:e.childChannel?l(e.childChannel):null,subchannel_ref:e.childSubchannel?c(e.childSubchannel):null}))}}}t.ChannelzTrace=g;class f{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,n;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(n=this.socketChildren.get(e.id))&&void 0!==n?n:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t)}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t))}}}getChildLists(){let e=[];for(let{ref:t}of this.channelChildren.values())e.push(t);let t=[];for(let{ref:e}of this.subchannelChildren.values())t.push(e);let r=[];for(let{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}}t.ChannelzChildrenTracker=f;class E{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=E;let p=1;function C(){return p++}let I=[],m=[],Q=[],B=[];function y(e,t,r){let n=C(),i={id:n,name:e,kind:"channel"};return r&&(I[n]={ref:i,getInfo:t}),i}function w(e,t,r){let n=C(),i={id:n,name:e,kind:"subchannel"};return r&&(m[n]={ref:i,getInfo:t}),i}function b(e,t){let r=C(),n={id:r,kind:"server"};return t&&(Q[r]={ref:n,getInfo:e}),n}function v(e,t,r){let n=C(),i={id:n,name:e,kind:"socket"};return r&&(B[n]={ref:i,getInfo:t}),i}function S(e){switch(e.kind){case"channel":delete I[e.id];return;case"subchannel":delete m[e.id];return;case"server":delete Q[e.id];return;case"socket":delete B[e.id];return}}function D(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function R(e){return""===e?[]:[].concat(...e.split(":").map(e=>D(e)))}function T(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,n.isIPv6)(e))return null;{let t,r;let n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));let i=Buffer.from(R(t)),s=Buffer.from(R(r)),A=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,A,s])}}function k(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function N(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function F(e){let t=e.getInfo();return{ref:l(e.ref),data:{target:t.target,state:k(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:N(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>l(e)),subchannel_ref:t.children.subchannels.map(e=>c(e))}}function L(e,t){let r=Number.parseInt(e.request.channel_id),n=I[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+r});return}t(null,{channel:F(n)})}function M(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_channel_id);for(;i<I.length;i++){let e=I[i];if(void 0!==e&&(n.push(F(e)),n.length>=r))break}t(null,{channel:n,end:i>=Q.length})}function _(e){let t=e.getInfo();return{ref:h(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:N(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>u(e))}}function U(e,t){let r=Number.parseInt(e.request.server_id),n=Q[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}t(null,{server:_(n)})}function O(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_server_id);for(;i<Q.length;i++){let e=Q[i];if(void 0!==e&&(n.push(_(e)),n.length>=r))break}t(null,{server:n,end:i>=Q.length})}function x(e,t){let r=Number.parseInt(e.request.subchannel_id),n=m[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let i=n.getInfo();t(null,{subchannel:{ref:c(n.ref),data:{target:i.target,state:k(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:N(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>u(e))}})}function P(e){var t;return(0,A.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=T(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function V(e,t){var r,n,i,A,o;let a=Number.parseInt(e.request.socket_id),l=B[a];if(void 0===l){t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let c=l.getInfo(),h=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=c.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=c.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(A=c.security.remoteCertificate)&&void 0!==A?A:void 0}}:null;t(null,{socket:{ref:u(l.ref),local:c.localAddress?P(c.localAddress):null,remote:c.remoteAddress?P(c.remoteAddress):null,remote_name:null!==(o=c.remoteName)&&void 0!==o?o:void 0,security:h,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:N(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:N(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:N(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:N(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function G(e,t){let r=Number.parseInt(e.request.server_id),n=Q[r];if(void 0===n){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});return}let i=Number.parseInt(e.request.start_socket_id),A=Number.parseInt(e.request.max_results),o=n.getInfo().sessionChildren.sockets.sort((e,t)=>e.id-t.id),a=[],l=0;for(;l<o.length&&(!(o[l].id>=i)||(a.push(u(o[l])),!(a.length>=A)));l++);t(null,{socket_ref:a,end:l>=o.length})}function Y(){return{GetChannel:L,GetTopChannels:M,GetServer:U,GetServers:O,GetSubchannel:x,GetSocket:V,GetServerSockets:G}}t.registerChannelzChannel=y,t.registerChannelzSubchannel=w,t.registerChannelzServer=b,t.registerChannelzSocket=v,t.unregisterChannelzRef=S,t.getChannelzHandlers=Y;let J=null;function H(){if(J)return J;let e=(0,r(58715).J_)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return J=(0,a.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function q(){(0,o.registerAdminService)(H,Y)}t.getChannelzServiceDefinition=H,t.setup=q},68601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;let n=r(62252),i=r(46749),s=r(32678),A=r(75437);class o extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,o)}}t.InterceptorConfigurationError=o;class a{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=a;class l{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=l;let c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},h={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class u{constructor(e,t){var r,n,i,s;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!==(r=t.start)&&void 0!==r?r:h.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:h.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:h.halfClose,cancel:null!==(s=t.cancel)&&void 0!==s?s:h.cancel}:this.requester=h}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,s,A,o,a;let l={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(A=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==A?A:e=>{},onReceiveStatus:null!==(a=null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:e=>{}};this.processingMetadata=!0,this.requester.start(e,l,(e,t)=>{var r,n,s;let A;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))A=t;else{let e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:c.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:c.onReceiveStatus};A=new i.InterceptingListenerImpl(e,l)}this.nextCall.start(e,A),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function d(e,t,r){var n,i;let s=null!==(n=r.deadline)&&void 0!==n?n:1/0,A=r.host,o=null!==(i=r.parent)&&void 0!==i?i:null,a=r.propagate_flags,l=r.credentials,c=e.createCall(t,s,A,o,a);return l&&c.setCredentials(l),c}t.InterceptingCall=u;class g{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,A.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let o;try{o=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,A.getErrorMessage)(e)}`,metadata:new n.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,o)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class f extends g{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1,s={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,s),this.call.startRead()}}class E extends g{}function p(e,t,r){let n=d(e,r.path,t);return r.responseStream?new E(n,r):new f(n,r)}function C(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new o("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new o("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let s=Object.assign({},r,{method_definition:t});return i.reduceRight((e,t)=>r=>t(r,e),e=>p(n,e,t))(s)}t.getInterceptingCall=C},69800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r(78439),i=r(46261),s=r(33955),A=r(32678),o=r(62252),a=r(68601),l=Symbol(),c=Symbol(),h=Symbol(),u=Symbol();function d(e){return"function"==typeof e}function g(e){return e.stack.split("\n").slice(1).join("\n")}class f{constructor(e,t,r={}){var n,s;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[h]=null!==(s=r.interceptor_providers)&&void 0!==s?s:[],delete r.interceptor_providers,this[c].length>0&&this[h].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[u]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[l]=r.channelOverride;else if(r.channelFactoryOverride){let n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[l]=n(e,t,r)}else this[l]=new i.ChannelImplementation(e,t,r)}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){let r=n=>{let i;if(n){t(Error("Failed to connect before the deadline"));return}try{i=this[l].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(i===s.ConnectivityState.READY)t();else try{this[l].watchConnectivityState(i,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(d(e))return{metadata:new o.Metadata,options:{},callback:e};if(d(t))return e instanceof o.Metadata?{metadata:e,options:{},callback:t}:{metadata:new o.Metadata,options:e,callback:t};if(!(e instanceof o.Metadata&&t instanceof Object&&d(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,d){var f,E;let p=this.checkOptionalUnaryResponseArguments(s,o,d),C={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},I={argument:i,metadata:p.metadata,call:new n.ClientUnaryCallImpl,channel:this[l],methodDefinition:C,callOptions:p.options,callback:p.callback};this[u]&&(I=this[u](I));let m=I.call,Q={clientInterceptors:this[c],clientInterceptorProviders:this[h],callInterceptors:null!==(f=I.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(E=I.callOptions.interceptor_providers)&&void 0!==E?E:[]},B=(0,a.getInterceptingCall)(Q,I.methodDefinition,I.callOptions,I.channel);m.call=B;let y=null,w=!1,b=Error();return B.start(I.metadata,{onReceiveMetadata:e=>{m.emit("metadata",e)},onReceiveMessage(e){null!==y&&B.cancelWithStatus(A.Status.INTERNAL,"Too many responses received"),y=e},onReceiveStatus(e){if(!w){if(w=!0,e.code===A.Status.OK){if(null===y){let t=g(b);I.callback((0,n.callErrorFromStatus)({code:A.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else I.callback(null,y)}else{let t=g(b);I.callback((0,n.callErrorFromStatus)(e,t))}b=null,m.emit("status",e)}}}),B.sendMessage(i),B.halfClose(),m}makeClientStreamRequest(e,t,r,i,s,o){var d,f;let E=this.checkOptionalUnaryResponseArguments(i,s,o),p={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},C={metadata:E.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:p,callOptions:E.options,callback:E.callback};this[u]&&(C=this[u](C));let I=C.call,m={clientInterceptors:this[c],clientInterceptorProviders:this[h],callInterceptors:null!==(d=C.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=C.callOptions.interceptor_providers)&&void 0!==f?f:[]},Q=(0,a.getInterceptingCall)(m,C.methodDefinition,C.callOptions,C.channel);I.call=Q;let B=null,y=!1,w=Error();return Q.start(C.metadata,{onReceiveMetadata:e=>{I.emit("metadata",e)},onReceiveMessage(e){null!==B&&Q.cancelWithStatus(A.Status.INTERNAL,"Too many responses received"),B=e},onReceiveStatus(e){if(!y){if(y=!0,e.code===A.Status.OK){if(null===B){let t=g(w);C.callback((0,n.callErrorFromStatus)({code:A.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else C.callback(null,B)}else{let t=g(w);C.callback((0,n.callErrorFromStatus)(e,t))}w=null,I.emit("status",e)}}}),I}checkMetadataAndOptions(e,t){let r,n;return e instanceof o.Metadata?(r=e,n=t||{}):(n=e||{},r=new o.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,s,o){var d,f;let E=this.checkMetadataAndOptions(s,o),p={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},C={argument:i,metadata:E.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[l],methodDefinition:p,callOptions:E.options};this[u]&&(C=this[u](C));let I=C.call,m={clientInterceptors:this[c],clientInterceptorProviders:this[h],callInterceptors:null!==(d=C.callOptions.interceptors)&&void 0!==d?d:[],callInterceptorProviders:null!==(f=C.callOptions.interceptor_providers)&&void 0!==f?f:[]},Q=(0,a.getInterceptingCall)(m,C.methodDefinition,C.callOptions,C.channel);I.call=Q;let B=!1,y=Error();return Q.start(C.metadata,{onReceiveMetadata(e){I.emit("metadata",e)},onReceiveMessage(e){I.push(e)},onReceiveStatus(e){if(!B){if(B=!0,I.push(null),e.code!==A.Status.OK){let t=g(y);I.emit("error",(0,n.callErrorFromStatus)(e,t))}y=null,I.emit("status",e)}}}),Q.sendMessage(i),Q.halfClose(),I}makeBidiStreamRequest(e,t,r,i,s){var o,d;let f=this.checkMetadataAndOptions(i,s),E={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},p={metadata:f.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[l],methodDefinition:E,callOptions:f.options};this[u]&&(p=this[u](p));let C=p.call,I={clientInterceptors:this[c],clientInterceptorProviders:this[h],callInterceptors:null!==(o=p.callOptions.interceptors)&&void 0!==o?o:[],callInterceptorProviders:null!==(d=p.callOptions.interceptor_providers)&&void 0!==d?d:[]},m=(0,a.getInterceptingCall)(I,p.methodDefinition,p.callOptions,p.channel);C.call=m;let Q=!1,B=Error();return m.start(p.metadata,{onReceiveMetadata(e){C.emit("metadata",e)},onReceiveMessage(e){C.push(e)},onReceiveStatus(e){if(!Q){if(Q=!0,C.push(null),e.code!==A.Status.OK){let t=g(B);C.emit("error",(0,n.callErrorFromStatus)(e,t))}B=null,C.emit("status",e)}}}),C}}t.Client=f},59286:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},44299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let n=r(59796),i=r(59286),s=r(32678),A=r(78152),o=r(97504),a=e=>"number"==typeof e&&"string"==typeof i.CompressionAlgorithms[e];class l{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends l{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class h extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,A=[],o=n.createInflate();o.on("data",e=>{A.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(A))}),o.write(e),o.end()})}}class u extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,A=[],o=n.createGunzip();o.on("data",e=>{A.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(A))}),o.write(e),o.end()})}}class d extends l{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function g(e,t){switch(e){case"identity":return new c;case"deflate":return new h(t);case"gzip":return new u(t);default:return new d(e)}}class f extends A.BaseFilter{constructor(e,t){var r,n;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";let A=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==A){if(a(A)){let e=i.CompressionAlgorithms[A],r=null===(n=t.serverSupportedEncodingHeader)||void 0===n?void 0:n.split(",");(!r||r.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=g(this.currentCompressionAlgorithm,-1))}else o.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${A}`)}}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=g(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r;let n=await e;return r=!(this.sendCompression instanceof c)&&((null!==(t=n.flags)&&void 0!==t?t:0)&2)==0,{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f;class E{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=E},33955:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},32678:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},82155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;let n=r(32678),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];function s(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}t.restrictControlPlaneStatusCode=s},7931:(e,t)=>{"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=r;let n=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function i(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of n){let n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;let s=2147483647;function A(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>s?1/0:t}function o(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}t.getRelativeTimeout=A,t.deadlineToString=o},95330:(e,t)=>{"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function n(e){return 1e3*e.seconds+e.nanos/1e6|0}function i(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=r,t.durationToMs=n,t.isDuration=i},75437:(e,t)=>{"use strict";function r(e){return e instanceof Error?e.message:String(e)}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=r,t.getErrorCode=n},30345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(97504);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(40492);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var s=r(18429);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}});var A=r(95330);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return A.durationToMs}});var o=r(84934);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return o.BackoffTimeout}});var a=r(27176);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return a.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return a.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return a.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return a.validateLoadBalancingConfig}});var l=r(23906);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return l.subchannelAddressToString}});var c=r(982);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var h=r(17064);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return h.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return h.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return h.PickResultType}});var u=r(78152);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return u.BaseFilter}});var d=r(2472);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return d.FilterStackFactory}});var g=r(59601);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var f=r(21407);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return f.BaseSubchannelWrapper}});var E=r(81433);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return E.OutlierDetectionLoadBalancingConfig}})},2472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=n},78152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},82039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;let n=r(97504),i=r(32678),s=r(40492),A=r(13685),o=r(24404),a=r(97504),l=r(23906),c=r(18429),h=r(57310),u=r(54605),d="proxy";function g(e){a.trace(i.LogVerbosity.DEBUG,d,e)}function f(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new h.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),s=`${e.username}:${e.password}`):s=e.username);let A=e.hostname,o=e.port;""===o&&(o="80");let a={address:`${A}:${o}`};return s&&(a.creds=s),g("Proxy server "+a.address+" set by environment variable "+r),a}function E(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(g("No proxy server list set by environment variable "+t),e.split(",")):[]}function p(e,t){var r;let n={target:e,extraOptions:{}};if((null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1)===0||"unix"===e.scheme)return n;let i=f();if(!i.address)return n;let s=(0,c.splitHostPort)(e.path);if(!s)return n;let A=s.host;for(let t of E())if(t===A)return g("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),n;let o={"grpc.http_connect_target":(0,c.uriToString)(e)};return i.creds&&(o["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:o}}function C(e,t,r){var a;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let h=t["grpc.http_connect_target"],d=(0,c.parseUri)(h);if(null===d)return Promise.resolve({});let f=(0,c.splitHostPort)(d.path);if(null===f)return Promise.resolve({});let E=`${f.host}:${null!==(a=f.port)&&void 0!==a?a:u.DEFAULT_PORT}`,p={method:"CONNECT",path:E},C={Host:E};(0,l.isTcpSubchannelAddress)(e)?(p.host=e.host,p.port=e.port):p.socketPath=e.path,"grpc.http_connect_creds"in t&&(C["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),p.headers=C;let I=(0,l.subchannelAddressToString)(e);return g("Using proxy "+I+" to connect to "+p.path),new Promise((e,t)=>{let a=A.request(p);a.once("connect",(A,l,h)=>{var u;if(a.removeAllListeners(),l.removeAllListeners(),200===A.statusCode){if(g("Successfully connected to "+p.path+" through proxy "+I),"secureContext"in r){let n=(0,s.getDefaultAuthority)(d),i=(0,c.splitHostPort)(n),A=null!==(u=null==i?void 0:i.host)&&void 0!==u?u:n,a=o.connect(Object.assign({host:A,servername:A,socket:l},r),()=>{g("Successfully established a TLS connection to "+p.path+" through proxy "+I),e({socket:a,realTarget:d})});a.on("error",e=>{g("Failed to establish a TLS connection to "+p.path+" through proxy "+I+" with error "+e.message),t()})}else g("Successfully established a plaintext connection to "+p.path+" through proxy "+I),e({socket:l,realTarget:d})}else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+p.path+" through proxy "+I+" with status "+A.statusCode),t()}),a.once("error",e=>{a.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+I+" with error "+e.message),t()}),a.end()})}t.mapProxyName=p,t.getProxiedConnection=C},22165:(e,t,r)=>{"use strict";E={value:!0},E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=E=t.Rz=E=E=E=E=E=E=t.SF=t.K9=void 0;let n=r(78931);E={enumerable:!0,get:function(){return n.CallCredentials}};let i=r(46261);E={enumerable:!0,get:function(){return i.ChannelImplementation}};let s=r(59286);E={enumerable:!0,get:function(){return s.CompressionAlgorithms}};let A=r(33955);E={enumerable:!0,get:function(){return A.ConnectivityState}};let o=r(92528);E={enumerable:!0,get:function(){return o.ChannelCredentials}};let a=r(69800);E={enumerable:!0,get:function(){return a.Client}};let l=r(32678);E={enumerable:!0,get:function(){return l.LogVerbosity}},E={enumerable:!0,get:function(){return l.Status}},E={enumerable:!0,get:function(){return l.Propagate}};let c=r(97504),h=r(35085);Object.defineProperty(t,"Rz",{enumerable:!0,get:function(){return h.loadPackageDefinition}}),E={enumerable:!0,get:function(){return h.makeClientConstructor}},E={enumerable:!0,get:function(){return h.makeClientConstructor}};let u=r(62252);Object.defineProperty(t,"SF",{enumerable:!0,get:function(){return u.Metadata}});let d=r(57691);E={enumerable:!0,get:function(){return d.Server}};let g=r(74181);E={enumerable:!0,get:function(){return g.ServerCredentials}};let f=r(39932);E={enumerable:!0,get:function(){return f.StatusBuilder}},t.K9={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:o.ChannelCredentials.createInsecure,createSsl:o.ChannelCredentials.createSsl,createFromSecureContext:o.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},E=e=>e.close(),E=(e,t,r)=>e.waitForReady(t,r),E=(e,t)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},E=(e,t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},E=e=>{c.setLogger(e)},E=e=>{c.setLoggerVerbosity(e)},E=e=>a.Client.prototype.getChannel.call(e);var E,p=r(68601);E={enumerable:!0,get:function(){return p.ListenerBuilder}},E={enumerable:!0,get:function(){return p.RequesterBuilder}},E={enumerable:!0,get:function(){return p.InterceptingCall}},E={enumerable:!0,get:function(){return p.InterceptorConfigurationError}};var C=r(5993);E={enumerable:!0,get:function(){return C.getChannelzServiceDefinition}},E={enumerable:!0,get:function(){return C.getChannelzHandlers}};var I=r(59601);E={enumerable:!0,get:function(){return I.addAdminServicesToServer}},E=r(30345);let m=r(54605),Q=r(45862),B=r(53562),y=r(56170),w=r(62255),b=r(81433),v=r(5993);(()=>{m.setup(),Q.setup(),B.setup(),y.setup(),w.setup(),b.setup(),v.setup()})()},21118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let n=r(92528),i=r(82380),s=r(42328),A=r(17064),o=r(32678),a=r(2472),l=r(44299),c=r(40492),h=r(97504),u=r(82039),d=r(18429),g=r(33955),f=r(5993),E=r(60980),p=r(7931),C=r(63003),I=r(38445),m=r(82155),Q=r(44398),B=r(21407),y=2147483647,w=1e3,b=18e5,v=new Map,S=16777216,D=1048576;class R extends B.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class T{constructor(e,t,r){var E,p,C,I,B,T,k,N;if(this.credentials=t,this.options=r,this.connectivityState=g.ConnectivityState.IDLE,this.currentPicker=new A.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new f.ChannelzCallTracker,this.childrenTracker=new f.ChannelzChildrenTracker,"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let F=(0,d.parseUri)(e);if(null===F)throw Error(`Could not parse target name "${e}"`);let L=(0,c.mapUriDefaultScheme)(F);if(null===L)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},y),null===(p=(E=this.callRefTimer).unref)||void 0===p||p.call(E),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new f.ChannelzTrace,this.channelzRef=(0,f.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,c.getDefaultAuthority)(L);let M=(0,u.mapProxyName)(L,r);this.target=M.target,this.options=Object.assign({},this.options,M.extraOptions),this.subchannelPool=(0,s.getSubchannelPool)((null!==(C=r["grpc.use_local_subchannel_pool"])&&void 0!==C?C:0)===0),this.retryBufferTracker=new Q.MessageBufferTracker(null!==(I=r["grpc.retry_buffer_size"])&&void 0!==I?I:S,null!==(B=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==B?B:D),this.keepaliveTime=null!==(T=r["grpc.keepalive_time_ms"])&&void 0!==T?T:-1,this.idleTimeoutMs=Math.max(null!==(k=r["grpc.client_idle_timeout_ms"])&&void 0!==k?k:b,w);let _={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let n=new R(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,_,r,(e,t)=>{e.retryThrottling?v.set(this.getTarget(),new Q.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,v.get(this.getTarget()))):v.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,m.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new a.FilterStackFactory([new l.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let U=Error();(0,h.trace)(o.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(N=U.stack)||void 0===N?void 0:N.substring(U.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,h.trace)(null!=t?t:o.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,h.trace)(o.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+g.ConnectivityState[this.connectivityState]+" -> "+g.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+g.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==g.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.IDLE),this.currentPicker=new A.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===g.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){let s=(0,I.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"'),new E.LoadBalancingCall(this,e,t,r,n,i,s)}createRetryingCall(e,t,r,n,i){let s=(0,I.getNextCallNumber)();return this.trace("createRetryingCall ["+s+'] method="'+t+'"'),new Q.RetryingCall(this,e,t,r,n,i,s,this.retryBufferTracker,v.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){let s=(0,I.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,p.deadlineToString)(t));let A={deadline:t,flags:null!=i?i:o.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},a=new C.ResolvingCall(this,e,A,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);return this.onCallStart(),a.addStatusWatcher(e=>{this.onCallEnd(e)}),a}close(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,f.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,d.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let n=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s){process.nextTick(r,Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(i),r(Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}let i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}}t.InternalChannel=T},982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let n=r(27176),i=r(33955),s="child_load_balancer_helper";class A{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return s}}t.ChildLoadBalancerHandler=A},81433:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;let i=r(33955),s=r(32678),A=r(95330),o=r(30345),a=r(27176),l=r(982),c=r(17064),h=r(23906),u=r(21407),d=r(97504),g="outlier_detection";function f(e){d.trace(s.LogVerbosity.DEBUG,g,e)}let E="outlier_detection",p=(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true")==="true",C={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},I={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function m(e,t,r,n){if(t in e&&typeof e[t]!==r){let i=n?`${n}.${t}`:t;throw Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof e[t]}`)}}function Q(e,t,r){let n=r?`${r}.${t}`:t;if(t in e){if(!(0,A.isDuration)(e[t]))throw Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function B(e,t,r){let n=r?`${r}.${t}`:t;if(m(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class y{constructor(e,t,r,n,i,s,A){if(this.childPolicy=A,A.length>0&&"pick_first"===A[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},C),i):null,this.failurePercentageEjection=s?Object.assign(Object.assign({},I),s):null}getLoadBalancerName(){return E}toJsonObject(){return{interval:(0,A.msToDuration)(this.intervalMs),base_ejection_time:(0,A.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,A.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new y(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(Q(e,"interval"),Q(e,"base_ejection_time"),Q(e,"max_ejection_time"),B(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");m(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),B(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),m(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),m(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");B(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),B(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),m(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),m(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new y(e.interval?(0,A.durationToMs)(e.interval):null,e.base_ejection_time?(0,A.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,A.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(a.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=y;class w extends u.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((e,t,r,n)=>{if(this.childSubchannelState=r,!this.ejected)for(let e of this.stateListeners)e(this,t,r,n)})}getConnectivityState(){return this.ejected?i.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){for(let e of(this.ejected=!0,this.stateListeners))e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let e of(this.ejected=!1,this.stateListeners))e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function b(){return{success:0,failure:0}}class v{constructor(){this.activeBucket=b(),this.inactiveBucket=b()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=b()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class S{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==c.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===s.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}}}}class D{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new l.ChildLoadBalancerHandler((0,o.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let n=e.createSubchannel(t,r),i=this.addressMap.get((0,h.subchannelAddressToString)(t)),s=new w(n,i);return(null==i?void 0:i.currentEjectionTimestamp)!==null&&s.eject(),null==i||i.subchannelWrappers.push(s),s},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new S(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");let r=t.request_volume,n=0,i=[];for(let[e,t]of this.addressMap){let s=t.counter.getLastSuccesses(),A=t.counter.getLastFailures();f("Stats for "+e+": successes="+s+" failures="+A+" targetRequestVolume="+r),s+A>=r&&(n+=1,i.push(s/(s+A)))}if(f("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;let s=i.reduce((e,t)=>e+t)/i.length,A=0;for(let e of i){let t=e-s;A+=t*t}let o=Math.sqrt(A/i.length),a=s-t.stdev_factor/1e3*o;for(let[n,i]of(f("stdev="+o+" ejectionThreshold="+a),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let s=i.counter.getLastSuccesses(),A=i.counter.getLastFailures();if(s+A<r)continue;let o=s/(s+A);if(f("Checking candidate "+n+" successRate="+o),o<a){let r=100*Math.random();f("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,n]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=n.counter.getLastSuccesses(),s=n.counter.getLastFailures();if(f("Candidate successes="+i+" failures="+s),!(i+s<t.request_volume)&&100*s/(s+i)>t.threshold){let i=100*Math.random();f("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){let e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.addressMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(r.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,n))),i<new Date&&(f("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof y))return;let n=new Set;for(let t of e)n.add((0,h.subchannelAddressToString)(t));for(let e of n)this.addressMap.has(e)||(f("Adding map entry for "+e),this.addressMap.set(e,{counter:new v,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let e of this.addressMap.keys())n.has(e)||(f("Removing map entry for "+e),this.addressMap.delete(e));let i=(0,a.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,i,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets()}else for(let e of(f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return E}}function R(){p&&(0,o.registerLoadBalancerType)(E,D,y)}t.OutlierDetectionLoadBalancer=D,t.setup=R},56170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;let n=r(27176),i=r(33955),s=r(17064),A=r(97504),o=r(32678),a="pick_first";function l(e){A.trace(o.LogVerbosity.DEBUG,a,e)}let c="pick_first",h=250;class u{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new u(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=u;class d{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}t.shuffled=g;class f{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(i.ConnectivityState.READY,new d(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,n){var s;if(null===(s=this.currentPick)||void 0===s?void 0:s.realSubchannelEquals(e)){r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){r===i.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},h)).unref)||void 0===r?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(l("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))if(e.addConnectivityStateListener(this.subchannelStateListener),e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}for(let e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof u&&(t.getShuffleAddressList()&&(e=g(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}function E(){(0,n.registerLoadBalancerType)(c,f,u),(0,n.registerDefaultLoadBalancerType)(c)}t.PickFirstLoadBalancer=f,t.setup=E},62255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;let n=r(27176),i=r(33955),s=r(17064),A=r(23906),o=r(97504),a=r(32678),l="round_robin";function c(e){o.trace(a.LogVerbosity.DEBUG,l,e)}let h="round_robin";class u{getLoadBalancerName(){return h}constructor(){}toJsonObject(){return{[h]:{}}}static createFromJson(e){return new u}}class d{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class g{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(e,t,r,n,s)=>{this.calculateAndUpdateState(),(r===i.ConnectivityState.TRANSIENT_FAILURE||r===i.ConnectivityState.IDLE)&&(s&&(this.lastError=s),this.channelControlHelper.requestReresolution(),e.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){let e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY),t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(t=0),this.updateState(i.ConnectivityState.READY,new d(e,t))}else this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}updateState(e,t){c(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),c("Connect to address list "+e.map(e=>(0,A.subchannelAddressToString)(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{})),this.subchannels)){t.ref(),t.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(t.getChannelzRef());let e=t.getConnectivityState();(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.TRANSIENT_FAILURE)&&t.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return h}}function f(){(0,n.registerLoadBalancerType)(h,g,u)}t.RoundRobinLoadBalancer=g,t.setup=f},27176:(e,t)=>{"use strict";function r(e,t){var r,n,i,s,A,o,a,l,c,h;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(s=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==s?s:e.updateState.bind(e),requestReresolution:null!==(o=null===(A=t.requestReresolution)||void 0===A?void 0:A.bind(t))&&void 0!==o?o:e.requestReresolution.bind(e),addChannelzChild:null!==(l=null===(a=t.addChannelzChild)||void 0===a?void 0:a.bind(t))&&void 0!==l?l:e.addChannelzChild.bind(e),removeChannelzChild:null!==(h=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==h?h:e.removeChannelzChild.bind(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=r;let n={},i=null;function s(e,t,r){n[e]={LoadBalancer:t,LoadBalancingConfig:r}}function A(e){i=e}function o(e,t){let r=e.getLoadBalancerName();return r in n?new n[r].LoadBalancer(t):null}function a(e){return e in n}function l(e,t=!1){for(let t of e)if(t.getLoadBalancerName() in n)return t;return t&&i?new n[i].LoadBalancingConfig:null}function c(e){if(!(null!==e&&"object"==typeof e))throw Error("Load balancing config must be an object");let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in n)return n[r].LoadBalancingConfig.createFromJson(e[r]);throw Error(`Unrecognized load balancing config name ${r}`)}t.registerLoadBalancerType=s,t.registerDefaultLoadBalancerType=A,t.createLoadBalancer=o,t.isLoadBalancerNameRegistered=a,t.getFirstUsableConfig=l,t.validateLoadBalancingConfig=c},60980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let n=r(33955),i=r(32678),s=r(7931),A=r(62252),o=r(17064),a=r(18429),l=r(97504),c=r(82155),h=r(85158),u="load_balancing_call";class d{constructor(e,t,r,n,i,s,A){var o,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=A,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),h="";c.length>=2&&(h=c[1]);let u=null!==(l=null===(o=(0,a.splitHostPort)(this.host))||void 0===o?void 0:o.host)&&void 0!==l?l:"localhost";this.serviceUrl=`https://${u}/${h}`}trace(e){l.trace(i.LogVerbosity.DEBUG,u,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),a=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+o.PickResultType[r.pickResultType]+" subchannel: "+a+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case o.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,o,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let c=this.metadata.clone();if(c.merge(e),c.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new A.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==n.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+n.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===h.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){this.trace("Failed to start call on picked subchannel "+a+" with error "+e.message),this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new A.Metadata},"NOT_STARTED");return}null===(o=(t=this.callConfig).onCommitted)||void 0===o||o.call(t),null===(l=r.onCallStarted)||void 0===l||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new A.Metadata},"PROCESSED")});break;case o.PickResultType.DROP:let{code:l,details:u}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:l,details:u,metadata:r.status.metadata},"DROP")});break;case o.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")})}break;case o.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new A.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=d},97504:(e,t,r)=>{"use strict";var n,i,s,A;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;let o=r(32678),a=r(77282),l=r(81513).i8,c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},h=o.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":h=o.LogVerbosity.DEBUG;break;case"INFO":h=o.LogVerbosity.INFO;break;case"ERROR":h=o.LogVerbosity.ERROR;break;case"NONE":h=o.LogVerbosity.NONE}let u=()=>c;t.getLogger=u;let d=e=>{c=e};t.setLogger=d;let g=e=>{h=e};t.setLoggerVerbosity=g;let f=(e,...t)=>{let r;if(e>=h){switch(e){case o.LogVerbosity.DEBUG:r=c.debug;break;case o.LogVerbosity.INFO:r=c.info;break;case o.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};t.log=f;let E=null!==(A=null!==(s=process.env.GRPC_NODE_TRACE)&&void 0!==s?s:process.env.GRPC_TRACE)&&void 0!==A?A:"",p=new Set,C=new Set;for(let e of E.split(","))e.startsWith("-")?C.add(e.substring(1)):p.add(e);let I=p.has("all");function m(e,r,n){Q(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+l+" "+a.pid+" | "+r+" | "+n)}function Q(e){return!C.has(e)&&(I||p.has(e))}t.trace=m,t.isTracerEnabled=Q},35085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;let n=r(69800),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function A(e,t,r){r||(r={});class A extends n.Client{}return Object.keys(e).forEach(t=>{let r;if(s(t))return;let n=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";let a=n.requestSerialize,l=n.responseDeserialize,c=o(i[r],n.path,a,l);A.prototype[t]=c,Object.assign(A.prototype[t],n),n.originalName&&!s(n.originalName)&&(A.prototype[n.originalName]=A.prototype[t])}),A.service=e,A.serviceName=t,A}function o(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}function a(e){return"format"in e}function l(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r],i=r.split(".");if(i.some(e=>s(e)))continue;let o=i[i.length-1],l=t;for(let e of i.slice(0,-1))l[e]||(l[e]={}),l=l[e];a(n)?l[o]=n:l[o]=A(n,o,{})}return t}t.makeClientConstructor=A,t.loadPackageDefinition=l},62252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let n=r(97504),i=r(32678),s=r(75437),A=/^[0-9a-z_.-]+$/,o=/^[ -~]*$/;function a(e){return A.test(e)}function l(e){return o.test(e)}function c(e){return e.endsWith("-bin")}function h(e){return!e.startsWith("grpc-")}function u(e){return e.toLowerCase()}function d(e,t){if(!a(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t){if(c(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!l(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}}class g{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){d(e=u(e),t),this.internalRepr.set(e,[t])}add(e,t){d(e=u(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=u(e),this.internalRepr.delete(e)}get(e){return e=u(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){let e=new g(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(f);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new g;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let A=e[r];try{c(r)?Array.isArray(A)?A.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==A&&(h(r)?A.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(A,"base64"))):Array.isArray(A)?A.forEach(e=>{t.add(r,e)}):void 0!==A&&t.add(r,A)}catch(t){let e=`Failed to add metadata entry ${r}: ${A}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=g;let f=e=>Buffer.isBuffer(e)?e.toString("base64"):e},17064:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let i=r(62252),s=r(32678);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(n||(t.PickResultType=n={}));class A{constructor(e){this.status=Object.assign({code:s.Status.UNAVAILABLE,details:"No connection established",metadata:new i.Metadata},e)}pick(e){return{pickResultType:n.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=A;class o{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:n.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=o},54605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;let n=r(40492),i=r(9523),s=r(73837),A=r(26262),o=r(32678),a=r(62252),l=r(97504),c=r(32678),h=r(18429),u=r(41808),d=r(84934),g="dns_resolver";function f(e){l.trace(c.LogVerbosity.DEBUG,g,e)}t.DEFAULT_PORT=443;let E=3e4,p=s.promisify(i.resolveTxt),C=s.promisify(i.lookup);function I(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(let n of e)r<n.length&&t.push(n[r]);return t}class m{constructor(e,r,n){var i,s,A;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,f("Resolver constructed for target "+(0,h.uriToString)(e));let l=(0,h.splitHostPort)(e.path);null===l?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,u.isIPv4)(l.host)||(0,u.isIPv6)(l.host)?(this.ipResult=[{host:l.host,port:null!==(i=l.port)&&void 0!==i?i:t.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=l.host,this.port=null!==(s=l.port)&&void 0!==s?s:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:o.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,h.uriToString)(this.target)}`,metadata:new a.Metadata};let c={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new d.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(A=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==A?A:E,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(f("Returning IP address for target "+(0,h.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,h.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:o.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,h.uriToString)(this.target)}`,metadata:new a.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=C(e,{all:!0}),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=I(r,t).map(e=>({host:e.address,port:+this.port}));let n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";if(f("Resolved addresses for target "+(0,h.uriToString)(this.target)+": "+n),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(f("Resolution error for target "+(0,h.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=p(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,A.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:o.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new a.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?f('resolution update delayed by "min time between resolutions" rate limit'):f("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function Q(){(0,n.registerResolver)("dns",m),(0,n.registerDefaultScheme)("dns")}t.setup=Q},53562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(41808),i=r(32678),s=r(62252),A=r(40492),o=r(18429),a=r(97504),l="ip_resolver";function c(e){a.trace(i.LogVerbosity.DEBUG,l,e)}let h="ipv4",u="ipv6",d=443;class g{constructor(e,t,r){var A;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,o.uriToString)(e));let a=[];if(!(e.scheme===h||e.scheme===u)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}for(let t of e.path.split(",")){let r=(0,o.splitHostPort)(t);if(null===r||e.scheme===h&&!(0,n.isIPv4)(r.host)||e.scheme===u&&!(0,n.isIPv6)(r.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}a.push({host:r.host,port:null!==(A=r.port)&&void 0!==A?A:d})}this.addresses=a,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function f(){(0,A.registerResolver)(h,g),(0,A.registerResolver)(u,g)}t.setup=f},45862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(40492);class i{constructor(e,t,r){let n;this.listener=t,this.addresses=[],this.hasReturnedResult=!1,n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}}function s(){(0,n.registerResolver)("unix",i)}t.setup=s},40492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;let n=r(18429),i={},s=null;function A(e,t){i[e]=t}function o(e){s=e}function a(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)}function l(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,n.uriToString)(e)}`)}function c(e){return void 0!==e.scheme&&e.scheme in i?e:null!==s?{scheme:s,authority:void 0,path:(0,n.uriToString)(e)}:null}t.registerResolver=A,t.registerDefaultScheme=o,t.createResolver=a,t.getDefaultAuthority=l,t.mapUriDefaultScheme=c},63003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let n=r(32678),i=r(7931),s=r(62252),A=r(97504),o=r(82155),a="resolving_call";class l{constructor(e,t,r,s,A,o){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=A,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){A.trace(n.LogVerbosity.DEBUG,a,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));let e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type){this.channel.queueCallForConfig(this);return}if("ERROR"===e.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==n.Status.OK){let{code:e,details:r}=(0,o.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new s.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=l},82380:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let n=r(27176),i=r(26262),s=r(33955),A=r(40492),o=r(17064),a=r(84934),l=r(32678),c=r(62252),h=r(97504),u=r(32678),d=r(18429),g=r(982),f="resolving_load_balancer";function E(e){h.trace(u.LogVerbosity.DEBUG,f,e)}let p=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function C(e,t,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function I(e,t,r,n){for(let i of r)if(C(e,t,i,n))return i;return null}function m(e){return function(t,r){var n,i;let s=t.split("/").filter(e=>e.length>0),A=null!==(n=s[0])&&void 0!==n?n:"",o=null!==(i=s[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(let t of p){let r=I(A,o,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}class Q{constructor(e,t,r,h,u){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=h,this.onFailedResolution=u,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new o.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new o.QueuePicker(this)),this.childLoadBalancer=new g.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(E("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,A.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,s)=>{var A;this.backoffTimeout.stop(),this.backoffTimeout.reset();let o=null;null===t?null===r?(this.previousServiceConfig=null,o=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):o=this.previousServiceConfig:(o=t,this.previousServiceConfig=t);let a=null!==(A=null==o?void 0:o.loadBalancingConfig)&&void 0!==A?A:[],h=(0,n.getFirstUsableConfig)(a,!0);if(null===h){this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});return}this.childLoadBalancer.updateAddressList(e,h,s);let u=null!=o?o:this.defaultServiceConfig;this.onSuccessfulResolution(u,null!=i?i:m(u))},onError:e=>{this.handleResolutionFailure(e)}},r);let d={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new a.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},d),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,new o.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){E((0,d.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]),e===s.ConnectivityState.IDLE&&(t=new o.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new o.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=Q},44398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let n=r(32678),i=r(62252),s=r(97504),A="retrying_call";class o{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=o;class a{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;let r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=a;let l="grpc-previous-rpc-attempts";class c{constructor(e,t,r,n,i,s,A,o,a){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=A,this.bufferTracker=o,this.retryThrottler=a,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){s.trace(n.LogVerbosity.DEBUG,A,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state){t(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(!1);return}if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state){t(!1);return}(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(s=this.retryThrottler)||void 0===s||s.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK){null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(n.maxAttempts,5))return;let i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*s),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(l,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(l,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(l,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let n={message:t,flags:e.flags},i=this.getNextBufferIndex(),s={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(s),s.allocated)for(let[n,s]of(null===(r=e.callback)||void 0===r||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===s.state&&s.nextMessageToSend===i&&s.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(n)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=c},37061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;let n=r(82361),i=r(85158),s=r(12781),A=r(59796),o=r(32678),a=r(62252),l=r(38326),c=r(97504),h=r(75437),u="server_call";function d(e){c.trace(o.LogVerbosity.DEBUG,u,e)}let g="grpc-message",f="grpc-status",E="grpc-timeout",p=/(\d{1,8})\s*([HMSmun])/,C={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},I={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},m={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Q={waitForTrailers:!0};class B extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=B;class y extends s.Readable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=y;class w extends s.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",r);return}}catch(e){this.emit("error",{details:(0,h.getErrorMessage)(e),code:o.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:o.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=w;class b extends s.Duplex{constructor(e,t,r,n,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=b,b.prototype._read=y.prototype._read,b.prototype._write=w.prototype._write,b.prototype._final=w.prototype._final;class v extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;d("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:o.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if("identity"===t)return r;if("deflate"!==t&&"gzip"!==t)return Promise.reject({code:o.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`});{let e;return e="deflate"===t?A.createInflate():A.createGunzip(),new Promise((t,n)=>{let i=0,s=[];e.on("data",t=>{s.push(t),i+=t.byteLength,-1!==this.maxReceiveMessageSize&&i>this.maxReceiveMessageSize&&(e.destroy(),n({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),e.on("end",()=>{t(Buffer.concat(s))}),e.write(r),e.end()})}}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},m),I),t);this.stream.respond(r,Q)}receiveMetadata(e){let t=a.Metadata.fromHttp2Headers(e);c.isTracerEnabled(u)&&d("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(E);if(r.length>0){let e=r[0].toString().match(p);if(null===e){let e=Error("Invalid deadline");return e.code=o.Status.OUT_OF_RANGE,this.sendError(e),t}let n=+e[1]*C[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(S,n,this),t.remove(E)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:n}=this,i=0,s=this,A=[],a=this.maxReceiveMessageSize;function l(e){if(i+=e.byteLength,-1!==a&&i>a){n.removeListener("data",l),n.removeListener("end",c),n.removeListener("error",c),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${a})`});return}A.push(e)}function c(a){if(n.removeListener("data",l),n.removeListener("end",c),n.removeListener("error",c),void 0!==a){r({code:o.Status.INTERNAL,details:a.message});return}if(0===i){r({code:o.Status.INTERNAL,details:"received empty unary message"});return}s.emit("receiveMessage");let h=Buffer.concat(A,i),u=1===h.readUInt8(0)?e:"identity",d=s.getDecompressedMessage(h,u);if(Buffer.isBuffer(d)){t(s.deserializeMessageWithInternalError(d));return}d.then(e=>t(s.deserializeMessageWithInternalError(e)),t=>r(t.code?t:{code:o.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}this.stream.on("data",l),this.stream.on("end",c),this.stream.on("error",c)})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,h.getErrorMessage)(e),code:o.Status.INTERNAL}}}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(void 0===r&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let e=this.serializeMessage(t);this.write(e),this.sendStatus({code:o.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,h.getErrorMessage)(e),code:o.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===o.Status.OK),!this.checkCancelled()){if(d("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+o.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;let r=Object.assign({[f]:e.code,[g]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0}),this.stream.end());else{let t=Object.assign(Object.assign({[f]:e.code,[g]:encodeURI(e.details)},m),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}}sendError(e){let t={code:o.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize){this.sendError({code:o.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new l.StreamDecoder(this.maxReceiveMessageSize),n=!1,i=!1,s=!1,A=async()=>{s||!n||i||(s=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",async n=>{let s;try{s=r.write(n)}catch(e){this.sendError({code:o.Status.RESOURCE_EXHAUSTED,details:e.message});return}for(let r of(i=!0,this.stream.pause(),s)){let n;this.emit("receiveMessage");let i=1===r.readUInt8(0)?t:"identity";try{n=await this.getDecompressedMessage(r,i)}catch(e){this.sendError(e);return}if(!n)return;await this.pushOrBufferMessage(e,n)}i=!1,this.stream.resume(),await A()}),this.stream.once("end",async()=>{n=!0,await A()})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t){d("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}d("Received message of length "+t.length),this.isPushPending=!0;try{let r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let t=(0,h.getErrorCode)(r);(null===t||t<o.Status.OK||t>o.Status.UNAUTHENTICATED)&&(t=o.Status.INTERNAL),e.emit("error",{details:(0,h.getErrorMessage)(r),code:t})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;let t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function S(e){let t=Error("Deadline exceeded");t.code=o.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=v},74181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;let n=r(43009);class i{static createInsecure(){return new s}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),s.push(r.private_key)}return new A({ca:e||(0,n.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return!1}_getSettings(){return null}}class A extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},57691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let n=r(85158),i=r(32678),s=r(37061),A=r(74181),o=r(40492),a=r(97504),l=r(23906),c=r(18429),h=r(5993),u=2147483647,d=2147483647,g=2e4,{HTTP2_HEADER_PATH:f}=n.constants,E="server";function p(){}function C(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function I(e,t){let r=C(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}class m{constructor(e){var t,r,n,i;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new h.ChannelzTrace,this.callTracker=new h.ChannelzCallTracker,this.listenerChildrenTracker=new h.ChannelzChildrenTracker,this.sessionChildrenTracker=new h.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,h.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:u,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:u,this.keepaliveTimeMs=null!==(n=this.options["grpc.keepalive_time_ms"])&&void 0!==n?n:d,this.keepaliveTimeoutMs=null!==(i=this.options["grpc.keepalive_timeout_ms"])&&void 0!==i?i:g,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,n;let i;let s=this.sessions.get(e),A=e.socket,o=A.remoteAddress?(0,l.stringToSubchannelAddress)(A.remoteAddress,A.remotePort):null,a=A.localAddress?(0,l.stringToSubchannelAddress)(A.localAddress,A.localPort):null;if(e.encrypted){let e=A,r=e.getCipher(),n=e.getCertificate(),s=e.getPeerCertificate();i={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else i=null;return{remoteAddress:o,localAddress:a,security:i,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}}trace(e){a.trace(i.LogVerbosity.DEBUG,E,"("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let n,i;let s=e[r];n=s.requestStream?s.responseStream?"bidi":"clientStream":s.responseStream?"serverStream":"unary";let A=t[r];if(void 0===A&&"string"==typeof s.originalName&&(A=t[s.originalName]),i=void 0!==A?A.bind(t):I(n,r),!1===this.register(s.path,i,s.responseSerialize,s.requestDeserialize,n))throw Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof A.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");let s=(0,c.parseUri)(e);if(null===s)throw Error(`Could not parse port "${e}"`);let u=(0,o.mapUriDefaultScheme)(s);if(null===u)throw Error(`Could not get a default scheme for port "${e}"`);let d={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?d.maxSessionMemory=this.options["grpc-node.max_session_memory"]:d.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(d.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let g=(e,t)=>{process.nextTick(()=>r(e,t))},f=()=>{let e;if(t._isSecure()){let r=Object.assign(d,t._getSettings());r.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(e=n.createSecureServer(r)).on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else e=n.createServer(d);return e.setTimeout(0,p),this._setupHandlers(e),e},E=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;this.trace("Attempting to bind "+(0,l.subchannelAddressToString)(e)),r=(0,l.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;let n=f();return new Promise((i,s)=>{let A=t=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(e)+" with error "+t.message),i(t)};n.once("error",A),n.listen(r,()=>{let e;if(this.shutdown){n.close(),i(Error("bindAsync failed because server is shutdown"));return}let r=n.address();e="string"==typeof r?{path:r}:{host:r.address,port:r.port};let s=(0,h.registerChannelzSocket)((0,l.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:n,channelzRef:s}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(e)),i("port"in e?e.port:t),n.removeListener("error",A)})})})).then(e=>{let n=0;for(let r of e)if("number"==typeof r&&(n+=1,r!==t))throw Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}}),C=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});let t=e[0],r=f();return new Promise((n,i)=>{let s=r=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(t)+" with error "+r.message),n(C(e.slice(1)))};r.once("error",s),r.listen(t,()=>{if(this.shutdown){r.close(),n({port:0,count:0});return}let t=r.address(),i={host:t.address,port:t.port},A=(0,h.registerChannelzSocket)((0,l.subchannelAddressToString)(i),()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(A),this.http2ServerList.push({server:r,channelzRef:A}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(i)),n(E(e.slice(1),t.port,1)),r.removeListener("error",s)})})},I={onSuccessfulResolution:(t,r,n)=>{let s;if(I.onSuccessfulResolution=()=>{},this.shutdown&&g(Error("bindAsync failed because server is shutdown"),0),0===t.length){g(Error(`No addresses resolved for port ${e}`),0);return}(s=(0,l.isTcpSubchannelAddress)(t[0])?0===t[0].port?C(t):E(t,t[0].port,0):E(t,1,0)).then(e=>{if(0===e.count){let e=`No address added out of total ${t.length} resolved`;a.log(i.LogVerbosity.ERROR,e),g(Error(e),0)}else e.count<t.length&&a.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),g(null,e.port)},e=>{let r=`No address added out of total ${t.length} resolved`;a.log(i.LogVerbosity.ERROR,r),g(Error(r),0)})},onError:e=>{g(Error(e.details),0)}};(0,o.createResolver)(u,I,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,h.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(n.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,h.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:e})=>!0!==e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=t=>{this.channelzEnabled&&(0,h.unregisterChannelzRef)(this.channelzRef),e(t)},r=0;function n(){0==--r&&t()}for(let{server:e,channelzRef:t}of(this.started=!1,this.shutdown=!0,this.http2ServerList))e.listening&&(r++,e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,h.unregisterChannelzRef)(t)),n()}));this.sessions.forEach((e,t)=>{t.closed||(r+=1,t.close(n))}),0===r&&t()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[n.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof r&&r.startsWith("application/grpc"))||(e.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let n=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),n.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed();return}let n=t[f],A=this._retrieveHandler(n);if(!A){this._respondWithError(C(n),e,r);return}let o=new s.Http2ServerCallStream(e,A,this.options);o.once("callEnd",e=>{e===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,A,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),o.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${A.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;let r=t[f],n=this._retrieveHandler(r);if(!n){this._respondWithError(C(r),e,null);return}let A=new s.Http2ServerCallStream(e,n,this.options);this._runHandlerForCall(A,n,t)||A.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(e,t,r){var n;let i=e.receiveMetadata(r),s=null!==(n=i.get("grpc-encoding")[0])&&void 0!==n?n:"identity";i.remove("grpc-encoding");let{type:A}=t;if("unary"===A)Q(e,t,i,s);else if("clientStream"===A)B(e,t,i,s);else if("serverStream"===A)y(e,t,i,s);else{if("bidi"!==A)return!1;w(e,t,i,s)}return!0}_setupHandlers(e){if(null===e)return;let t=e.address(),r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",e=>{var t,r,i,s,A;if(!this.started){e.destroy();return}let o=(0,h.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled),a={ref:o,streamTracker:new h.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,a);let l=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+l),this.sessionChildrenTracker.refChild(o));let c=null,d=null,g=!1;if(this.maxConnectionAgeMs!==u){let t=this.maxConnectionAgeMs/10,s=Math.random()*t*2-t;c=null===(i=(r=setTimeout(()=>{var t,r;g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+l);try{e.goaway(n.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(t){e.destroy();return}e.close(),this.maxConnectionAgeGraceMs!==u&&(d=null===(r=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))},this.maxConnectionAgeMs+s)).unref)||void 0===i?void 0:i.call(r)}let f=null===(A=(s=setInterval(()=>{var t,r;let n=null===(r=(t=setTimeout(()=>{g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+l),e.close()},this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping((e,t,r)=>{clearTimeout(n)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)||void 0===A?void 0:A.call(s);e.on("close",()=>{this.channelzEnabled&&(g||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+l),this.sessionChildrenTracker.unrefChild(o),(0,h.unregisterChannelzRef)(o)),c&&clearTimeout(c),d&&clearTimeout(d),f&&clearTimeout(f),this.sessions.delete(e)})})}}async function Q(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let A=new s.ServerUnaryCallImpl(e,r,i);t.func(A,(t,r,n,i)=>{e.sendUnaryMessage(t,r,n,i)})}catch(t){e.sendError(t)}}function B(e,t,r,n){let i=new s.ServerReadableStreamImpl(e,r,t.deserialize,n);function A(t,r,n,s){i.destroy(),e.sendUnaryMessage(t,r,n,s)}e.cancelled||(i.on("error",A),t.func(i,A))}async function y(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let A=new s.ServerWritableStreamImpl(e,r,t.serialize,i);t.func(A)}catch(t){e.sendError(t)}}function w(e,t,r,n){let i=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,n);e.cancelled||t.func(i)}t.Server=m},26262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;let n=r(22037),i=r(32678),s=r(27176),A=/^\d+(\.\d{1,9})?s$/,o="node";function a(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!A.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!A.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!A.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function h(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(a(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e){if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&A.test(e.timeout)){let n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:(null!==(t=n[1])&&void 0!==t?t:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=l(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function u(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function d(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(r));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(h(r));"retryThrottling"in e&&(t.retryThrottling=u(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function g(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:d(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in e){if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in e){if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage")}let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function f(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=g(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===o&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function E(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return f(JSON.parse(r.join("").substring(12)),t);return null}t.validateRetryThrottling=u,t.validateServiceConfig=d,t.extractAndSelectServiceConfig=E},39932:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},38326:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class n{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0,i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw Error("Unexpected read state")}return i}}t.StreamDecoder=n},23906:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;let n=r(41808);function i(e){return"port"in e}function s(e,t){return!e&&!t||!!e&&!!t&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function A(e){return i(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=s,t.subchannelAddressToString=A;let o=443;function a(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:o}:{path:e}}t.stringToSubchannelAddress=a},87060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let n=r(85158),i=r(22037),s=r(32678),A=r(62252),o=r(38326),a=r(97504),l=r(32678),c="subchannel_call";function h(e){for(let[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}class u{constructor(e,t,r,i,a){var l;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=a,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=s.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let c=null!==(l=i.getOptions()["grpc.max_receive_message_length"])&&void 0!==l?l:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new o.StreamDecoder(c),e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=A.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new A.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{let t;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message);return}for(let e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===s.Status.OK)return;let i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=s.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=s.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=s.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=s.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=s.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=s.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new A.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+h(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new A.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){a.trace(l.LogVerbosity.DEBUG,c,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===s.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===s.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t;this.callEventTracker.onStreamEnd(!0);let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=A.Metadata.fromHttp2Headers(e)}catch(e){t=new A.Metadata}let n=t.getMap(),i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){let e=Number(n["grpc-status"]);e in s.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let o="";if("string"==typeof n["grpc-message"]){try{o=decodeURI(n["grpc-message"])}catch(e){o=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:i,details:o,metadata:t};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===s.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new A.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let n=s.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=s.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new A.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=u},21407:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},42328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;let n=r(79387),i=r(91727),s=r(23906),A=r(18429),o=r(62869),a=1e4;class l{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},a),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,a){this.ensureCleanupTask();let l=(0,A.uriToString)(e);if(l in this.pool){for(let e of this.pool[l])if((0,s.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,n.channelOptionsEqual)(r,e.channelArguments)&&a._equals(e.channelCredentials))return e.subchannel}let c=new i.Subchannel(e,t,r,a,new o.Http2SubchannelConnector(e));return l in this.pool||(this.pool[l]=[]),this.pool[l].push({subchannelAddress:t,channelArguments:r,channelCredentials:a,subchannel:c}),c.ref(),c}}t.SubchannelPool=l;let c=new l;function h(e){return e?c:new l}t.getSubchannelPool=h},91727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let n=r(33955),i=r(84934),s=r(97504),A=r(32678),o=r(18429),a=r(23906),l=r(5993),c="subchannel",h=2147483647;class u{constructor(e,t,r,s,A){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=s,this.connector=A,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new l.ChannelzCallTracker,this.childrenTracker=new l.ChannelzChildrenTracker,this.streamTracker=new l.ChannelzCallTracker;let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,a.subchannelAddressToString)(t),this.keepaliveTime=null!==(o=r["grpc.keepalive_time_ms"])&&void 0!==o?o:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new l.ChannelzTrace,this.channelzRef=(0,l.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(A.LogVerbosity.DEBUG,c,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(A.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,h);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,s.log(A.LogVerbosity.ERROR,`Connection to ${(0,o.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var i,s;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);let A=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(s=this.transport)||void 0===s||s.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,A,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){let i;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===A.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState!==n.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=u},43009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;let n=r(57147);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,s=null;function A(){return i?(null===s&&(s=n.readFileSync(i)),s):null}t.getDefaultRootsData=A},62869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let n=r(85158),i=r(24404),s=r(5993),A=r(32678),o=r(82039),a=r(97504),l=r(40492),c=r(23906),h=r(18429),u=r(41808),d=r(87060),g=r(38445),f="transport",E="transport_flowctrl",p=r(81513).i8,{HTTP2_HEADER_AUTHORITY:C,HTTP2_HEADER_CONTENT_TYPE:I,HTTP2_HEADER_METHOD:m,HTTP2_HEADER_PATH:Q,HTTP2_HEADER_TE:B,HTTP2_HEADER_USER_AGENT:y}=n.constants,w=2e4,b=Buffer.from("too_many_pings","ascii");class v{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=w,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new s.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${p}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(b)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),a.isTracerEnabled(f)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let n;let i=this.session.socket,s=i.remoteAddress?(0,c.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,A=i.localAddress?(0,c.stringToSubchannelAddress)(i.localAddress,i.localPort):null;if(this.session.encrypted){let t=i,r=t.getCipher(),s=t.getCertificate(),A=t.getPeerCertificate();n={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:s&&"raw"in s?s.raw:null,remoteCertificate:A&&"raw"in A?A.raw:null}}else n=null;return{remoteAddress:s,localAddress:A,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){a.trace(A.LogVerbosity.DEBUG,f,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){a.trace(A.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){a.trace(A.LogVerbosity.DEBUG,E,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){a.trace(A.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping((e,t,r)=>{e&&(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){let s,A,o;let a=e.toHttp2Headers();a[C]=t,a[y]=this.userAgent,a[I]="application/grpc",a[m]="POST",a[Q]=r,a[B]="trailers";try{s=this.session.request(a)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),A={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(o)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):A={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(o)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},o=new d.Http2SubchannelCall(s,A,n,this,(0,g.getNextCallNumber)()),this.addActiveCall(o),o}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,s.unregisterChannelzRef)(this.channelzRef)}}class S{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){a.trace(A.LogVerbosity.DEBUG,f,(0,h.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,s){return this.isShutdown?Promise.reject():new Promise((A,o)=>{var a,d,g;let f;s.realTarget?(f=(0,h.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,h.uriToString)(s.realTarget))):(f=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));let E=(0,l.getDefaultAuthority)(null!==(a=s.realTarget)&&void 0!==a?a:this.channelTarget),p=t._getConnectionOptions()||{};p.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?p.maxSessionMemory=r["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER;let C="http://";if("secureContext"in p){if(C="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];p.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),p.servername=e}else{let e=null!==(g=null===(d=(0,h.splitHostPort)(E))||void 0===d?void 0:d.host)&&void 0!==g?g:"localhost";p.servername=e}s.socket&&(p.createConnection=(e,t)=>s.socket)}else p.createConnection=(t,r)=>s.socket?s.socket:u.connect(e);p=Object.assign(Object.assign(Object.assign({},p),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let I=n.connect(C+E,p);this.session=I;let m="Failed to connect";I.unref(),I.once("connect",()=>{I.removeAllListeners(),A(new v(I,e,r,f)),this.session=null}),I.once("close",()=>{this.session=null,setImmediate(()=>{o(`${m} (${new Date().toISOString()})`)})}),I.once("error",e=>{m=e.message,this.trace("connection failed with error "+m)})})}connect(e,t,r){var n,s;if(this.isShutdown)return Promise.reject();let A=t._getConnectionOptions()||{};if("secureContext"in A){if(A.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];A.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),A.servername=e}else if("grpc.http_connect_target"in r){let e=(0,l.getDefaultAuthority)(null!==(n=(0,h.parseUri)(r["grpc.http_connect_target"]))&&void 0!==n?n:{path:"localhost"}),t=(0,h.splitHostPort)(e);A.servername=null!==(s=null==t?void 0:t.host)&&void 0!==s?s:e}r["grpc-node.tls_enable_trace"]&&(A.enableTrace=!0)}return(0,o.getProxiedConnection)(e,r,A).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}t.Http2SubchannelConnector=S},18429:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function n(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=n;let i=/^\d+$/;function s(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let n=e.substring(t+2);return i.test(n)?{host:r,port:+n}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:i.test(t[1])?{host:t[0],port:+t[1]}:null}}function A(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}t.splitHostPort=s,t.uriToString=A},58715:(e,t,r)=>{"use strict";var n,i;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */n={value:!0},n=n=t.im=t.J_=n=t.Cp=n=n=void 0;let s=r(51382),A=r(25269),o=r(21725),a=r(72916);n=r(31468),n=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(i=t.Cp||(t.Cp={}));let l={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){return""===e?t:e+"."+t}function h(e){return e instanceof A.Service||e instanceof A.Type||e instanceof A.Enum}function u(e){return e instanceof A.Namespace||e instanceof A.Root}function d(e,t){let r=c(t,e.name);return h(e)?[[r,e]]:u(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>d(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function g(e,t){return function(r){return e.toObject(e.decode(r),t)}}function f(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function E(e){return(e||[]).reduce((e,t)=>{for(let[r,n]of Object.entries(t))"uninterpreted_option"===r?e.uninterpreted_option.push(t.uninterpreted_option):e[r]=n;return e},{deprecated:!1,idempotency_level:i.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function p(e,t,r,n){let i=e.resolvedRequestType,A=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:f(i),requestDeserialize:g(i,r),responseSerialize:f(A),responseDeserialize:g(A,r),originalName:s(e.name),requestType:I(i,n),responseType:I(A,n),options:E(e.parsedOptions)}}function C(e,t,r,n){let i={};for(let s of e.methodsArray)i[s.name]=p(s,t,r,n);return i}function I(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function m(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,l),fileDescriptorProtos:t}}function Q(e,t,r,n){if(e instanceof A.Service)return C(e,t,r,n);if(e instanceof A.Type)return I(e,n);if(e instanceof A.Enum)return m(e,n);throw Error("Type mismatch in reflection object handling")}function B(e,t){let r={};e.resolveAll();let n=e.toDescriptor("proto3").file.map(e=>Buffer.from(o.FileDescriptorProto.encode(e).finish()));for(let[i,s]of d(e,""))r[i]=Q(s,i,t,n);return r}function y(e,t){t=t||{};let r=A.Root.fromDescriptor(e);return r.resolveAll(),B(r,t)}function w(e,t){return B((0,a.loadProtosWithOptionsSync)(e,t),t)}function b(e,t){t=t||{};let r=A.Root.fromJSON(e);return r.resolveAll(),B(r,t)}n=function(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>B(e,t))},t.J_=w,t.im=b,n=function(e,t){return y(o.FileDescriptorSet.decode(e),t)},n=function(e,t){return y(o.FileDescriptorSet.fromObject(e),t)},(0,a.addCommonProtos)()},72916:(e,t,r)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let n=r(57147),i=r(71017),s=r(25269);function A(e,t){let r=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s))return s;for(let e of t){let t=i.join(e,s);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),r(e,s)}}async function o(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));A(r,t.includeDirs)}let n=await r.load(e,t);return n.resolveAll(),n}function a(e,t){let r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");A(r,t.includeDirs)}let n=r.loadSync(e,t);return n.resolveAll(),n}function l(){let e=r(56541),t=r(89987),n=r(57674),i=r(73795);s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",n.nested.google.nested.protobuf.nested),s.common("type",i.nested.google.nested.protobuf.nested)}t.loadProtosWithOptions=o,t.loadProtosWithOptionsSync=a,t.addCommonProtos=l},70799:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,A){r[n]=function(e){if(s){if(s=!1,e)A(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,A(e))}})}e.exports=t},92130:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var i,s=null,A=[],o=0,a=0;t<r;){var l=e[t++];switch(a){case 0:A[o++]=n[l>>2],i=(3&l)<<4,a=1;break;case 1:A[o++]=n[i|l>>4],i=(15&l)<<2,a=2;break;case 2:A[o++]=n[i|l>>6],A[o++]=n[63&l],a=0}o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,A)),o=0)}return(a&&(A[o++]=n[i],A[o++]=61,1===a&&(A[o++]=61)),s)?(o&&s.push(String.fromCharCode.apply(String,A.slice(0,o))),s.join("")):String.fromCharCode.apply(String,A.slice(0,o))};var A="invalid encoding";r.decode=function(e,t,r){for(var n,s=r,o=0,a=0;a<e.length;){var l=e.charCodeAt(a++);if(61===l&&o>1)break;if(void 0===(l=i[l]))throw Error(A);switch(o){case 0:n=l,o=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,o=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,o=3;break;case 3:t[r++]=(3&n)<<6|l,o=0}}if(1===o)throw Error(A);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},52012:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=s();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var A=Object.keys(e),o=Array(A.length+1),a=Array(A.length),l=0;l<A.length;)o[l]=A[l],a[l]=e[A[l++]];return o[l]=r,Function.apply(null,o).apply(null,a)}return Function(r)()}for(var c=Array(arguments.length-1),h=0;h<c.length;)c[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[h++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),h!==c.length)throw Error("parameter count mismatch");return n.push(e),i}function s(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},80854:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},63035:(e,t,r)=>{"use strict";e.exports=s;var n=r(70799),i=r(20449)("fs");function s(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):s.xhr(e,t,r):n(s,this,e,t)}s.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},14324:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function A(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function o(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i,e.readFloatLE=n?A:o,e.readFloatBE=n?o:A}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2),A=8388607&Math.round(t*Math.pow(2,-s)*8388608);e((i<<31|s+127<<23|A)>>>0,r,n)}}function A(e,t,r){var n=e(t,r),i=(n>>31)*2+1,s=n>>>23&255,A=8388607&n;return 255===s?A?NaN:1/0*i:0===s?1401298464324817e-60*i*A:i*Math.pow(2,s-150)*(A+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=A.bind(null,i),e.readFloatBE=A.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function A(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function o(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i,e.readDoubleLE=n?A:o,e.readDoubleBE=n?o:A}():function(){function t(e,t,r,n,i,s){var A,o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,s+t),e(1/n>0?0:2147483648,i,s+r);else if(isNaN(n))e(0,i,s+t),e(2146959360,i,s+r);else if(n>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+r);else if(n<22250738585072014e-324)e((A=n/5e-324)>>>0,i,s+t),e((o<<31|A/4294967296)>>>0,i,s+r);else{var a=Math.floor(Math.log(n)/Math.LN2);1024===a&&(a=1023),e(4503599627370496*(A=n*Math.pow(2,-a))>>>0,i,s+t),e((o<<31|a+1023<<20|1048576*A&1048575)>>>0,i,s+r)}}function A(e,t,r,n,i){var s=e(n,i+t),A=e(n,i+r),o=(A>>31)*2+1,a=A>>>20&2047,l=4294967296*(1048575&A)+s;return 2047===a?l?NaN:1/0*o:0===a?5e-324*o*l:o*Math.pow(2,a-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=A.bind(null,i,0,4),e.readDoubleBE=A.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},20449:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},29986:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};r.resolve=function(e,t,r){return(r||(t=i(t)),n(t))?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},56035:e=>{"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,s=null,A=n;return function(r){if(r<1||r>i)return e(r);A+r>n&&(s=e(n),A=0);var o=t.call(s,A,A+=r);return 7&A&&(A=(7|A)+1),o}}e.exports=t},78131:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],A=0;t<r;)(n=e[t++])<128?s[A++]=n:n>191&&n<224?s[A++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[A++]=55296+(n>>10),s[A++]=56320+(1023&n)):s[A++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],A>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),A=0);return i?(A&&i.push(String.fromCharCode.apply(String,s.slice(0,A))),i.join("")):String.fromCharCode.apply(String,s.slice(0,A))},r.write=function(e,t,r){for(var n,i,s=r,A=0;A<e.length;++A)(n=e.charCodeAt(A))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(A+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++A,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-s}},51382:e=>{var t=1/0,r="[object Symbol]",n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\ud800-\udfff",A="\\u0300-\\u036f\\ufe20-\\ufe23",o="\\u20d0-\\u20f0",a="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="[']",g="["+s+"]",f="["+u+"]",E="["+A+o+"]",p="\\d+",C="["+a+"]",I="["+l+"]",m="[^"+s+u+p+a+l+c+"]",Q="\ud83c[\udffb-\udfff]",B="[^"+s+"]",y="(?:\ud83c[\udde6-\uddff]){2}",w="[\ud800-\udbff][\udc00-\udfff]",b="["+c+"]",v="\\u200d",S="(?:"+I+"|"+m+")",D="(?:"+b+"|"+m+")",R="(?:"+d+"(?:d|ll|m|re|s|t|ve))?",T="(?:"+d+"(?:D|LL|M|RE|S|T|VE))?",k="(?:"+E+"|"+Q+")?",N="["+h+"]?",F="(?:"+v+"(?:"+[B,y,w].join("|")+")"+N+k+")*",L=N+k+F,M="(?:"+[C,y,w].join("|")+")"+L,_="(?:"+[B+E+"?",E,y,w,g].join("|")+")",U=RegExp(d,"g"),O=RegExp(E,"g"),x=RegExp(Q+"(?="+Q+")|"+_+L,"g"),P=RegExp([b+"?"+I+"+"+R+"(?="+[f,b,"$"].join("|")+")",D+"+"+T+"(?="+[f,b+S,"$"].join("|")+")",b+"?"+S+"+"+R,b+"+"+T,p,M].join("|"),"g"),V=RegExp("["+v+s+A+o+h+"]"),G=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Y={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},J="object"==typeof global&&global&&global.Object===Object&&global,H="object"==typeof self&&self&&self.Object===Object&&self,q=J||H||Function("return this")();function W(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function j(e){return e.split("")}function z(e){return e.match(n)||[]}var K=function(e){return function(t){return null==e?void 0:e[t]}}(Y);function X(e){return V.test(e)}function Z(e){return G.test(e)}function $(e){return X(e)?ee(e):j(e)}function ee(e){return e.match(x)||[]}function et(e){return e.match(P)||[]}var er=Object.prototype.toString,en=q.Symbol,ei=en?en.prototype:void 0,es=ei?ei.toString:void 0;function eA(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}function eo(e){if("string"==typeof e)return e;if(eh(e))return es?es.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function ea(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:eA(e,t,r)}function el(e){return function(t){var r=X(t=eu(t))?$(t):void 0,n=r?r[0]:t.charAt(0),i=r?ea(r,1).join(""):t.slice(1);return n[e]()+i}}function ec(e){return!!e&&"object"==typeof e}function eh(e){return"symbol"==typeof e||ec(e)&&er.call(e)==r}function eu(e){return null==e?"":eo(e)}var ed=function(e){return function(t){return W(ep(ef(t).replace(U,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?eg(t):t)});function eg(e){return eE(eu(e).toLowerCase())}function ef(e){return(e=eu(e))&&e.replace(i,K).replace(O,"")}var eE=el("toUpperCase");function ep(e,t,r){return(e=eu(e),void 0===(t=r?void 0:t))?Z(e)?et(e):z(e):e.match(t)||[]}e.exports=ed},21725:(e,t,r)=>{"use strict";var n=r(25269);e.exports=t=n.descriptor=n.Root.fromJSON(r(89987)).lookup(".google.protobuf");var i=n.Namespace,s=n.Root,A=n.Enum,o=n.Type,a=n.Field,l=n.MapField,c=n.OneOf,h=n.Service,u=n.Method;function d(e,r,n){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(l.syntax=n),e instanceof s||(l.package=e.fullName.substring(1));for(var c,u=0;u<e.nestedArray.length;++u)(c=e._nestedArray[u])instanceof o?l.messageType.push(c.toDescriptor(n)):c instanceof A?l.enumType.push(c.toDescriptor()):c instanceof a?l.extension.push(c.toDescriptor(n)):c instanceof h?l.service.push(c.toDescriptor()):c instanceof i&&d(c,r,n);l.options=w(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&r.push(l)}s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new s;if(e.file)for(var n,i,l,c=0;c<e.file.length;++c){if(i=r,(n=e.file[c]).package&&n.package.length&&(i=r.define(n.package)),n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(l=0;l<n.messageType.length;++l)i.add(o.fromDescriptor(n.messageType[l],n.syntax));if(n.enumType)for(l=0;l<n.enumType.length;++l)i.add(A.fromDescriptor(n.enumType[l]));if(n.extension)for(l=0;l<n.extension.length;++l)i.add(a.fromDescriptor(n.extension[l]));if(n.service)for(l=0;l<n.service.length;++l)i.add(h.fromDescriptor(n.service[l]));var u=y(n.options,t.FileOptions);if(u){var d=Object.keys(u);for(l=0;l<d.length;++l)i.setOption(d[l],u[d[l]])}}return r},s.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return d(this,r.file,e),r};var g=0;o.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,i=new o(e.name.length?e.name:"Type"+g++,y(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)i.add(c.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var s=a.fromDescriptor(e.field[n],r);i.add(s),e.field[n].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[n].oneofIndex].add(s)}if(e.extension)for(n=0;n<e.extension.length;++n)i.add(a.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)i.add(o.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)i.add(A.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(n=0,i.extensions=[];n<e.extensionRange.length;++n)i.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)i.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)i.reserved.push(e.reservedName[n])}return i},o.prototype.toDescriptor=function(e){var r,n,i=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n)if(i.field.push(r=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof l){var s=B(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),c=B(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),h=11===c||14===c?this._fieldsArray[n].resolvedType&&b(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:h})],options:t.MessageOptions.create({mapEntry:!0})}))}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof a?i.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof o?i.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof A&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?i.reservedName.push(this.reserved[n]):i.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=w(this.options,t.MessageOptions),i};var f=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;a.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(n=e.typeName&&e.typeName.length?e.typeName:m(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var n,i,s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var A=new a(e.name.length?e.name:"field"+e.number,e.number,n,i,s);if(A.options=y(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var o=e.defaultValue;switch(o){case"true":case"TRUE":o=!0;break;case"false":case"FALSE":o=!1;break;default:f.exec(o)&&(o=parseInt(o))}A.setOption("default",o)}return Q(e.type)&&("proto3"===r?e.options&&!e.options.packed&&A.setOption("packed",!1):e.options&&e.options.packed||A.setOption("packed",!1)),A},a.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=B(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?b(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=w(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var E=0;A.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,s=e.value[n].number||0;r[i&&i.length?i:"NAME"+s]=s}return new A(e.name&&e.name.length?e.name:"Enum"+E++,r,y(e.options,t.EnumOptions))},A.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:w(this.options,t.EnumOptions)})};var p=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+p++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var C=0;h.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new h(e.name&&e.name.length?e.name:"Service"+C++,y(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(u.fromDescriptor(e.method[n]));return r},h.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:w(this.options,t.ServiceOptions)})};var I=0;function m(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function Q(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function B(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof A)return 14;if(t instanceof o)return t.group?10:11;throw Error("illegal type: "+e)}function y(e,t){if(e){for(var r,i,s,o=[],a=0;a<t.fieldsArray.length;++a)"uninterpretedOption"!==(i=(r=t._fieldsArray[a]).name)&&e.hasOwnProperty(i)&&(s=e[i],r.resolvedType instanceof A&&"number"==typeof s&&void 0!==r.resolvedType.valuesById[s]&&(s=r.resolvedType.valuesById[s]),o.push(v(i),s));return o.length?n.util.toObject(o):void 0}}function w(e,t){if(e){for(var r,i,s=[],A=0,o=Object.keys(e);A<o.length;++A)if(i=e[r=o[A]],"default"!==r){var a=t.fields[r];(a||(a=t.fields[r=n.util.camelCase(r)]))&&s.push(r,i)}return s.length?t.fromObject(n.util.toObject(s)):void 0}}function b(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),A=0,o=0,a=n.length-1;if(!(e instanceof s)&&t instanceof i)for(;A<r.length&&o<a&&r[A]===n[o];){var l=t.lookup(r[A++],!0);if(null!==l&&l!==t)break;++o}else for(;A<r.length&&o<a&&r[A]===n[o];++A,++o);return n.slice(o).join(".")}function v(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}u.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new u(e.name&&e.name.length?e.name:"Method"+I++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,y(e.options,t.MethodOptions))},u.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:w(this.options,t.MethodOptions)})}},25269:(e,t,r)=>{"use strict";e.exports=r(57954)},62516:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},5944:(e,t,r)=>{"use strict";var n=t,i=r(33982),s=r(18289);function A(e,t,r,n){var s=!1;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var A=t.resolvedType.values,o=Object.keys(A),a=0;a<o.length;++a)A[o[a]]!==t.typeDefault||s||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),s=!0),e("case%j:",o[a])("case %i:",A[o[a]])("m%s=%j",n,A[o[a]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n)}else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,l)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function o(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var o=t[n].resolve(),a=s.safeProp(o.name);o.map?(r("if(d%s){",a)('if(typeof d%s!=="object")',a)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",a)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",a),A(r,o,n,a+"[ks[i]]")("}")("}")):o.repeated?(r("if(d%s){",a)("if(!Array.isArray(d%s))",a)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",a)("for(var i=0;i<d%s.length;++i){",a),A(r,o,n,a+"[i]")("}")("}")):(o.resolvedType instanceof i||r("if(d%s!=null){",a),A(r,o,n,a),o.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],A=[],a=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?A:a).push(t[l]);if(n.length){for(r("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)r("d%s=[]",s.safeProp(n[l].name));r("}")}if(A.length){for(r("if(o.objects||o.defaults){"),l=0;l<A.length;++l)r("d%s={}",s.safeProp(A[l].name));r("}")}if(a.length){for(r("if(o.defaults){"),l=0;l<a.length;++l){var c=a[l],h=s.safeProp(c.name);if(c.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",h,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",h,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else r("d%s=%j",h,c.typeDefault)}r("}")}var d=!1;for(l=0;l<t.length;++l){var c=t[l],g=e._fieldsArray.indexOf(c),h=s.safeProp(c.name);c.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),o(r,c,g,h+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),o(r,c,g,h+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",h,c.name),o(r,c,g,h),c.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},98983:(e,t,r)=>{"use strict";e.exports=o;var n=r(33982),i=r(31627),s=r(18289);function A(e){return"missing required '"+e.name+"'"}function o(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var o=e._fieldsArray[r].resolve(),a=o.resolvedType instanceof n?"int32":o.type,l="m"+s.safeProp(o.name);t("case %i: {",o.id),o.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[o.keyType]?t("k=%j",i.defaults[o.keyType]):t("k=null"),void 0!==i.defaults[a]?t("value=%j",i.defaults[a]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),void 0===i.basic[a]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",a),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t(void 0!==i.long[o.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",l)):o.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[a]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,a)("}else"),void 0===i.basic[a]?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,a)):void 0===i.basic[a]?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,a),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",A(c))}return t("return m")}},67337:(e,t,r)=>{"use strict";e.exports=o;var n=r(33982),i=r(31627),s=r(18289);function A(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function o(e){for(var t,r,o=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(s.compareFieldsById),t=0;t<a.length;++t){var l=a[t].resolve(),c=e._fieldsArray.indexOf(l),h=l.resolvedType instanceof n?"int32":l.type,u=i.basic[h];r="m"+s.safeProp(l.name),l.map?(o("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===u?o("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,r):o(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,h,r),o("}")("}")):l.repeated?(o("if(%s!=null&&%s.length){",r,r),l.packed&&void 0!==i.packed[h]?o("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",h,r)("w.ldelim()"):(o("for(var i=0;i<%s.length;++i)",r),void 0===u?A(o,l,c,r+"[i]"):o("w.uint32(%i).%s(%s[i])",(l.id<<3|u)>>>0,h,r)),o("}")):(l.optional&&o("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,l.name),void 0===u?A(o,l,c,r):o("w.uint32(%i).%s(%s)",(l.id<<3|u)>>>0,h,r))}return o("return w")}},33982:(e,t,r)=>{"use strict";e.exports=A;var n=r(58831);((A.prototype=Object.create(n.prototype)).constructor=A).className="Enum";var i=r(44622),s=r(18289);function A(e,t,r,i,s,A){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=A,this.reserved=void 0,t)for(var o=Object.keys(t),a=0;a<o.length;++a)"number"==typeof t[o[a]]&&(this.valuesById[this.values[o[a]]=t[o[a]]]=o[a])}A.fromJSON=function(e,t){var r=new A(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},A.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},A.prototype.add=function(e,t,r,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},A.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},A.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},A.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},92548:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(58831);((l.prototype=Object.create(i.prototype)).constructor=l).className="Field";var s=r(33982),A=r(31627),o=r(18289),a=/^required|optional|repeated$/;function l(e,t,r,n,s,l,c){if(o.isObject(n)?(c=s,l=n,n=s=void 0):o.isObject(s)&&(c=l,l=s,s=void 0),i.call(this,e,l),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!a.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!o.isString(s))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==A.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,r)},l.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=A.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},l.d=function(e,t,r,n){return"function"==typeof t?t=o.decorateType(t).name:t&&"object"==typeof t&&(t=o.decorateEnum(t).name),function(i,s){o.decorateType(i.constructor).add(new l(s,e,t,r,{default:n}))}},l._configure=function(e){n=e}},72822:(e,t,r)=>{"use strict";var n=e.exports=r(65748);function i(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function s(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=s,n.encoder=r(67337),n.decoder=r(98983),n.verifier=r(31181),n.converter=r(5944),n.ReflectionObject=r(58831),n.Namespace=r(44622),n.Root=r(34955),n.Enum=r(33982),n.Type=r(69396),n.Field=r(92548),n.OneOf=r(85677),n.MapField=r(30372),n.Service=r(26962),n.Method=r(3055),n.Message=r(55326),n.wrappers=r(82969),n.types=r(31627),n.util=r(18289),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},65748:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(47474),n.BufferWriter=r(96985),n.Reader=r(8645),n.BufferReader=r(2126),n.util=r(86416),n.rpc=r(84415),n.roots=r(43675),n.configure=i,i()},57954:(e,t,r)=>{"use strict";var n=e.exports=r(72822);n.build="full",n.tokenize=r(89468),n.parse=r(60580),n.common=r(62516),n.Root._configure(n.Type,n.parse,n.common)},30372:(e,t,r)=>{"use strict";e.exports=A;var n=r(92548);((A.prototype=Object.create(n.prototype)).constructor=A).className="MapField";var i=r(31627),s=r(18289);function A(e,t,r,i,A,o){if(n.call(this,e,t,i,void 0,void 0,A,o),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}A.fromJSON=function(e,t){return new A(e,t.id,t.keyType,t.type,t.options,t.comment)},A.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},A.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},A.d=function(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(n,i){s.decorateType(n.constructor).add(new A(i,e,t,r))}}},55326:(e,t,r)=>{"use strict";e.exports=i;var n=r(86416);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},3055:(e,t,r)=>{"use strict";e.exports=s;var n=r(58831);((s.prototype=Object.create(n.prototype)).constructor=s).className="Method";var i=r(18289);function s(e,t,r,s,A,o,a,l,c){if(i.isObject(A)?(a=A,A=o=void 0):i.isObject(o)&&(a=o,o=void 0),!(void 0===t||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");n.call(this,e,a),this.type=t||"rpc",this.requestType=r,this.requestStream=!!A||void 0,this.responseType=s,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=c}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},44622:(e,t,r)=>{"use strict";e.exports=h;var n,i,s,A=r(58831);((h.prototype=Object.create(A.prototype)).constructor=h).className="Namespace";var o=r(92548),a=r(18289),l=r(85677);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function h(e,t){A.call(this,e,t),this.nested=void 0,this._nestedArray=null}function u(e){return e._nestedArray=null,e}h.fromJSON=function(e,t){return new h(e,t.options).addJSON(t.nested)},h.arrayToJSON=c,h.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},h.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=a.toArray(this.nested))}}),h.prototype.toJSON=function(e){return a.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},h.prototype.addJSON=function(e){var t=this;if(e)for(var r,A=Object.keys(e),a=0;a<A.length;++a)r=e[A[a]],t.add((void 0!==r.fields?n.fromJSON:void 0!==r.values?s.fromJSON:void 0!==r.methods?i.fromJSON:void 0!==r.id?o.fromJSON:h.fromJSON)(A[a],r));return this},h.prototype.get=function(e){return this.nested&&this.nested[e]||null},h.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},h.prototype.add=function(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof n||e instanceof l||e instanceof s||e instanceof i||e instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(t instanceof h&&e instanceof h&&!(t instanceof n||t instanceof i)){for(var r=t.nestedArray,A=0;A<r.length;++A)e.add(r[A]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),u(this)},h.prototype.remove=function(e){if(!(e instanceof A))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),u(this)},h.prototype.define=function(e,t){if(a.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof h))throw Error("path conflicts with non-namespace objects")}else r.add(r=new h(n))}return t&&r.addJSON(t),r},h.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof h?e[t++].resolveAll():e[t++].resolve();return this.resolve()},h.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),a.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof h&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof h&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},h.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},h.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},h.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},h.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},h._configure=function(e,t,r){n=e,i=t,s=r}},58831:(e,t,r)=>{"use strict";e.exports=s,s.className="ReflectionObject";var n,i=r(18289);function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var s=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(s){var A=s[e];i.setProperty(A,r,t)}else(s={})[e]=i.setProperty({},r,t),n.push(s)}else{var o={};o[e]=t,n.push(o)}return this},s.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){n=e}},85677:(e,t,r)=>{"use strict";e.exports=A;var n=r(58831);((A.prototype=Object.create(n.prototype)).constructor=A).className="OneOf";var i=r(92548),s=r(18289);function A(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function o(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}A.fromJSON=function(e,t){return new A(e,t.oneof,t.options,t.comment)},A.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},A.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,o(this),this},A.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},A.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}o(this)},A.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},A.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new A(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},60580:(e,t,r)=>{"use strict";e.exports=w,w.filename=null,w.defaults={keepCase:!1};var n=r(89468),i=r(34955),s=r(69396),A=r(92548),o=r(30372),a=r(85677),l=r(33982),c=r(26962),h=r(3055),u=r(31627),d=r(18289),g=/^[1-9][0-9]*$/,f=/^-?[1-9][0-9]*$/,E=/^0[x][0-9a-fA-F]+$/,p=/^-?0[x][0-9a-fA-F]+$/,C=/^0[0-7]+$/,I=/^-?0[0-7]+$/,m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Q=/^[a-zA-Z_][a-zA-Z_0-9]*$/,B=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,y=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function w(e,t,r){t instanceof i||(r=t,t=new i),r||(r=w.defaults);var b,v,S,D,R,T=r.preferTrailingComment||!1,k=n(e,r.alternateCommentMode||!1),N=k.next,F=k.push,L=k.peek,M=k.skip,_=k.cmnt,U=!0,O=!1,x=t,P=r.keepCase?function(e){return e}:d.camelCase;function V(e,t,r){var n=w.filename;return r||(w.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+k.line+")")}function G(){var e,t=[];do{if('"'!==(e=N())&&"'"!==e)throw V(e);t.push(N()),M(e),e=L()}while('"'===e||"'"===e);return t.join("")}function Y(e){var t=N();switch(t){case"'":case'"':return F(t),G();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return H(t,!0)}catch(r){if(e&&B.test(t))return t;throw V(t,"value")}}function J(e,t){do t&&('"'===(r=L())||"'"===r)?e.push(G()):e.push([n=q(N()),M("to",!0)?q(N()):n]);while(M(",",!0));var r,n,i={options:void 0};i.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},X(i,function(e){if("option"===e)es(i,e),M(";");else throw V(e)},function(){el(i)})}function H(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(g.test(e))return r*parseInt(e,10);if(E.test(e))return r*parseInt(e,16);if(C.test(e))return r*parseInt(e,8);if(m.test(e))return r*parseFloat(e);throw V(e,"number",t)}function q(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(f.test(e))return parseInt(e,10);if(p.test(e))return parseInt(e,16);if(I.test(e))return parseInt(e,8);throw V(e,"id")}function W(){if(void 0!==v)throw V("package");if(v=N(),!B.test(v))throw V(v,"name");x=x.define(v),M(";")}function j(){var e,t=L();switch(t){case"weak":e=D||(D=[]),N();break;case"public":N();default:e=S||(S=[])}t=G(),M(";"),e.push(t)}function z(){if(M("="),!(O="proto3"===(R=G()))&&"proto2"!==R)throw V(R,"syntax");M(";")}function K(e,t){switch(t){case"option":return es(e,t),M(";"),!0;case"message":return Z(e,t),!0;case"enum":return en(e,t),!0;case"service":return ec(e,t),!0;case"extend":return eu(e,t),!0}return!1}function X(e,t,r){var n,i=k.line;if(e&&("string"!=typeof e.comment&&(e.comment=_()),e.filename=w.filename),M("{",!0)){for(;"}"!==(n=N());)t(n);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||T)&&(e.comment=_(i)||e.comment)}function Z(e,t){if(!Q.test(t=N()))throw V(t,"type name");var r=new s(t);X(r,function(e){if(!K(r,e))switch(e){case"map":et(r,e);break;case"required":case"repeated":$(r,e);break;case"optional":O?$(r,"proto3_optional"):$(r,"optional");break;case"oneof":er(r,e);break;case"extensions":J(r.extensions||(r.extensions=[]));break;case"reserved":J(r.reserved||(r.reserved=[]),!0);break;default:if(!O||!B.test(e))throw V(e);F(e),$(r,"optional")}}),e.add(r)}function $(e,t,r){var n=N();if("group"===n){ee(e,t);return}for(;n.endsWith(".")||L().startsWith(".");)n+=N();if(!B.test(n))throw V(n,"type");var i=N();if(!Q.test(i))throw V(i,"name");i=P(i),M("=");var s=new A(i,q(N()),n,t,r);if(X(s,function(e){if("option"===e)es(s,e),M(";");else throw V(e)},function(){el(s)}),"proto3_optional"===t){var o=new a("_"+i);s.setOption("proto3_optional",!0),o.add(s),e.add(o)}else e.add(s);!O&&s.repeated&&(void 0!==u.packed[n]||void 0===u.basic[n])&&s.setOption("packed",!1,!0)}function ee(e,t){var r=N();if(!Q.test(r))throw V(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r)),M("=");var i=q(N()),o=new s(r);o.group=!0;var a=new A(n,i,r,t);a.filename=w.filename,X(o,function(e){switch(e){case"option":es(o,e),M(";");break;case"required":case"repeated":$(o,e);break;case"optional":O?$(o,"proto3_optional"):$(o,"optional");break;case"message":Z(o,e);break;case"enum":en(o,e);break;default:throw V(e)}}),e.add(o).add(a)}function et(e){M("<");var t=N();if(void 0===u.mapKey[t])throw V(t,"type");M(",");var r=N();if(!B.test(r))throw V(r,"type");M(">");var n=N();if(!Q.test(n))throw V(n,"name");M("=");var i=new o(P(n),q(N()),t,r);X(i,function(e){if("option"===e)es(i,e),M(";");else throw V(e)},function(){el(i)}),e.add(i)}function er(e,t){if(!Q.test(t=N()))throw V(t,"name");var r=new a(P(t));X(r,function(e){"option"===e?(es(r,e),M(";")):(F(e),$(r,"optional"))}),e.add(r)}function en(e,t){if(!Q.test(t=N()))throw V(t,"name");var r=new l(t);X(r,function(e){switch(e){case"option":es(r,e),M(";");break;case"reserved":J(r.reserved||(r.reserved=[]),!0);break;default:ei(r,e)}}),e.add(r)}function ei(e,t){if(!Q.test(t))throw V(t,"name");M("=");var r=q(N(),!0),n={options:void 0};n.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},X(n,function(e){if("option"===e)es(n,e),M(";");else throw V(e)},function(){el(n)}),e.add(t,r,n.comment,n.options)}function es(e,t){var r,n=M("(",!0);if(!B.test(t=N()))throw V(t,"name");var i=t,s=i;n&&(M(")"),s=i="("+i+")",t=L(),y.test(t)&&(r=t.slice(1),i+=t,N())),M("=");var A=eA(e,i);ea(e,s,A,r)}function eA(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!Q.test(b=N()))throw V(b,"name");if(null===b)throw V(b,"end of input");var n,i,s=b;if(M(":",!0),"{"===L())n=eA(e,t+"."+b);else if("["===L()){if(n=[],M("[",!0)){do i=Y(!0),n.push(i);while(M(",",!0));M("]"),void 0!==i&&eo(e,t+"."+b,i)}}else n=Y(!0),eo(e,t+"."+b,n);var A=r[s];A&&(n=[].concat(A).concat(n)),r[s]=n,M(",",!0),M(";",!0)}return r}var o=Y(!0);return eo(e,t,o),o}function eo(e,t,r){e.setOption&&e.setOption(t,r)}function ea(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}function el(e){if(M("[",!0)){do es(e,"option");while(M(",",!0));M("]")}return e}function ec(e,t){if(!Q.test(t=N()))throw V(t,"service name");var r=new c(t);X(r,function(e){if(!K(r,e)){if("rpc"===e)eh(r,e);else throw V(e)}}),e.add(r)}function eh(e,t){var r=_(),n=t;if(!Q.test(t=N()))throw V(t,"name");var i,s,A,o,a=t;if(M("("),M("stream",!0)&&(s=!0),!B.test(t=N())||(i=t,M(")"),M("returns"),M("("),M("stream",!0)&&(o=!0),!B.test(t=N())))throw V(t);A=t,M(")");var l=new h(a,n,i,A,s,o);l.comment=r,X(l,function(e){if("option"===e)es(l,e),M(";");else throw V(e)}),e.add(l)}function eu(e,t){if(!B.test(t=N()))throw V(t,"reference");var r=t;X(null,function(t){switch(t){case"required":case"repeated":$(e,t,r);break;case"optional":O?$(e,"proto3_optional",r):$(e,"optional",r);break;default:if(!O||!B.test(t))throw V(t);F(t),$(e,"optional",r)}})}for(;null!==(b=N());)switch(b){case"package":if(!U)throw V(b);W();break;case"import":if(!U)throw V(b);j();break;case"syntax":if(!U)throw V(b);z();break;case"option":es(x,b),M(";");break;default:if(K(x,b)){U=!1;continue}throw V(b)}return w.filename=null,{package:v,imports:S,weakImports:D,syntax:R,root:t}}},8645:(e,t,r)=>{"use strict";e.exports=a;var n,i=r(86416),s=i.LongBits,A=i.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(a.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function h(){var e=new s(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function u(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw o(this,8);return new s(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}a.create=c(),a.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,a.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return e}}(),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|u(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw o(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return A.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do if(this.pos>=this.len)throw o(this);while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){n=e,a.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(a.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},2126:(e,t,r)=>{"use strict";e.exports=s;var n=r(8645);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(86416);function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},34955:(e,t,r)=>{"use strict";e.exports=h;var n,i,s,A=r(44622);((h.prototype=Object.create(A.prototype)).constructor=h).className="Root";var o=r(92548),a=r(33982),l=r(85677),c=r(18289);function h(e){A.call(this,"",e),this.deferred=[],this.files=[]}function u(){}h.fromJSON=function(e,t){return t||(t=new h),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},h.prototype.resolvePath=c.path.resolve,h.prototype.fetch=c.fetch,h.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var A=this;if(!n)return c.asPromise(e,A,t,r);var o=n===u;function a(e,t){if(n){if(o)throw e;var r=n;n=null,r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function h(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,s=i(t,A,r),h=0;if(s.imports)for(;h<s.imports.length;++h)(n=l(s.imports[h])||A.resolvePath(e,s.imports[h]))&&d(n);if(s.weakImports)for(h=0;h<s.weakImports.length;++h)(n=l(s.weakImports[h])||A.resolvePath(e,s.weakImports[h]))&&d(n,!0)}else A.setOptions(t.options).addJSON(t.nested)}catch(e){a(e)}o||g||a(null,A)}function d(e,t){if(e=l(e)||e,!(A.files.indexOf(e)>-1)){if(A.files.push(e),e in s){o?h(e,s[e]):(++g,setTimeout(function(){--g,h(e,s[e])}));return}if(o){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){t||a(e);return}h(e,r)}else++g,A.fetch(e,function(r,i){if(--g,n){if(r){t?g||a(null,A):a(r);return}h(e,i)}})}}var g=0;c.isString(t)&&(t=[t]);for(var f,E=0;E<t.length;++E)(f=A.resolvePath("",t[E]))&&d(f);if(o)return A;g||a(null,A)},h.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,u)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return A.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function g(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new o(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n),!0)}return!1}h.prototype._handleAdd=function(e){if(e instanceof o)void 0===e.extend||e.extensionField||g(this,e)||this.deferred.push(e);else if(e instanceof a)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof n)for(var t=0;t<this.deferred.length;)g(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},h.prototype._handleRemove=function(e){if(e instanceof o){if(void 0!==e.extend){if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}}else if(e instanceof a)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof A){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}},h._configure=function(e,t,r){n=e,i=t,s=r}},43675:e=>{"use strict";e.exports={}},84415:(e,t,r)=>{"use strict";t.Service=r(49861)},49861:(e,t,r)=>{"use strict";e.exports=i;var n=r(86416);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,s,A){if(!s)throw TypeError("request must be specified");var o=this;if(!A)return n.asPromise(e,o,t,r,i,s);if(!o.rpcImpl){setTimeout(function(){A(Error("already ended"))},0);return}try{return o.rpcImpl(t,r[o.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,r){if(e)return o.emit("error",e,t),A(e);if(null===r){o.end(!0);return}if(!(r instanceof i))try{r=i[o.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return o.emit("error",e,t),A(e)}return o.emit("data",r,t),A(null,r)})}catch(e){o.emit("error",e,t),setTimeout(function(){A(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},26962:(e,t,r)=>{"use strict";e.exports=o;var n=r(44622);((o.prototype=Object.create(n.prototype)).constructor=o).className="Service";var i=r(3055),s=r(18289),A=r(84415);function o(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function a(e){return e._methodsArray=null,e}o.fromJSON=function(e,t){var r=new o(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),s=0;s<n.length;++s)r.add(i.fromJSON(n[s],t.methods[n[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},o.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return s.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),o.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},o.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},o.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,a(this)):n.prototype.add.call(this,e)},o.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,a(this)}return n.prototype.remove.call(this,e)},o.prototype.create=function(e,t,r){for(var n,i=new A.Service(e,t,r),o=0;o<this.methodsArray.length;++o){var a=s.lcFirst((n=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[a]=s.codegen(["r","c"],s.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},89468:e=>{"use strict";e.exports=h;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,A=/\n/g,o=/\s/,a=/\\(.?)/g,l={0:"\x00",r:"\r",n:"\n",t:"	"};function c(e){return e.replace(a,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}function h(e,a){e=e.toString();var l=0,h=e.length,u=1,d=0,g={},f=[],E=null;function p(e){return Error("illegal "+e+" (line "+u+")")}function C(){var t="'"===E?n:r;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw p("string");return l=t.lastIndex,w(E),E=null,c(i[1])}function I(t){return e.charAt(t)}function m(t,r,n){var o,l,c={type:e.charAt(t++),lineEmpty:!1,leading:n},h=t-(o=a?2:3);do if(--h<0||"\n"===(l=e.charAt(h))){c.lineEmpty=!0;break}while(" "===l||"	"===l);for(var f=e.substring(t,r).split(A),E=0;E<f.length;++E)f[E]=f[E].replace(a?s:i,"").trim();c.text=f.join("\n").trim(),g[u]=c,d=u}function Q(t){var r=B(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function B(e){for(var t=e;t<h&&"\n"!==I(t);)t++;return t}function y(){if(f.length>0)return f.shift();if(E)return C();var r,n,i,s,A,c=0===l;do{if(l===h)return null;for(r=!1;o.test(i=I(l));)if("\n"===i&&(c=!0,++u),++l===h)return null;if("/"===I(l)){if(++l===h)throw p("comment");if("/"===I(l)){if(a){if(s=l,A=!1,Q(l-1)){A=!0;do if((l=B(l))===h||(l++,!c))break;while(Q(l))}else l=Math.min(h,B(l)+1);A&&(m(s,l,c),c=!0),u++,r=!0}else{for(A="/"===I(s=l+1);"\n"!==I(++l);)if(l===h)return null;++l,A&&(m(s,l-1,c),c=!0),++u,r=!0}}else{if("*"!==(i=I(l)))return"/";s=l+1,A=a||"*"===I(s);do{if("\n"===i&&++u,++l===h)throw p("comment");n=i,i=I(l)}while("*"!==n||"/"!==i);++l,A&&(m(s,l-2,c),c=!0),r=!0}}}while(r);var d=l;if(t.lastIndex=0,!t.test(I(d++)))for(;d<h&&!t.test(I(d));)++d;var g=e.substring(l,l=d);return('"'===g||"'"===g)&&(E=g),g}function w(e){f.push(e)}function b(){if(!f.length){var e=y();if(null===e)return null;w(e)}return f[0]}function v(e,t){var r=b();if(r===e)return y(),!0;if(!t)throw p("token '"+r+"', '"+e+"' expected");return!1}function S(e){var t,r=null;return void 0===e?(t=g[u-1],delete g[u-1],t&&(a||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(d<e&&b(),t=g[e],delete g[e],t&&!t.lineEmpty&&(a||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:y,peek:b,push:w,skip:v,cmnt:S},"line",{get:function(){return u}})}h.unescape=c},69396:(e,t,r)=>{"use strict";e.exports=C;var n=r(44622);((C.prototype=Object.create(n.prototype)).constructor=C).className="Type";var i=r(33982),s=r(85677),A=r(92548),o=r(30372),a=r(26962),l=r(55326),c=r(8645),h=r(47474),u=r(18289),d=r(67337),g=r(98983),f=r(31181),E=r(5944),p=r(82969);function C(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function I(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(C.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=u.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=u.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=C.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,u.merge(e.prototype,t)),e.$type=e.prototype.$type=this,u.merge(e,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:u.oneOfGetter(this._oneofsArray[r].oneof),set:u.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),C.generateConstructor=function(e){for(var t,r=u.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",u.safeProp(t.name)):t.repeated&&r("this%s=[]",u.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},C.fromJSON=function(e,t){var r=new C(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var l=Object.keys(t.fields),c=0;c<l.length;++c)r.add((void 0!==t.fields[l[c]].keyType?o.fromJSON:A.fromJSON)(l[c],t.fields[l[c]]));if(t.oneofs)for(l=Object.keys(t.oneofs),c=0;c<l.length;++c)r.add(s.fromJSON(l[c],t.oneofs[l[c]]));if(t.nested)for(l=Object.keys(t.nested),c=0;c<l.length;++c){var h=t.nested[l[c]];r.add((void 0!==h.id?A.fromJSON:void 0!==h.fields?C.fromJSON:void 0!==h.values?i.fromJSON:void 0!==h.methods?a.fromJSON:n.fromJSON)(l[c],h))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},C.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return u.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},C.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},C.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},C.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof A&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),I(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),I(this)):n.prototype.add.call(this,e)},C.prototype.remove=function(e){if(e instanceof A&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),I(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),I(this)}return n.prototype.remove.call(this,e)},C.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},C.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},C.prototype.create=function(e){return new this.ctor(e)},C.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:h,types:t,util:u}),this.decode=g(this)({Reader:c,types:t,util:u}),this.verify=f(this)({types:t,util:u}),this.fromObject=E.fromObject(this)({types:t,util:u}),this.toObject=E.toObject(this)({types:t,util:u});var n=p[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},C.prototype.encode=function(e,t){return this.setup().encode(e,t)},C.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},C.prototype.decode=function(e,t){return this.setup().decode(e,t)},C.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},C.prototype.verify=function(e){return this.setup().verify(e)},C.prototype.fromObject=function(e){return this.setup().fromObject(e)},C.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},C.d=function(e){return function(t){u.decorateType(t,e)}}},31627:(e,t,r)=>{"use strict";var n=t,i=r(18289),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function A(e,t){var r=0,n={};for(t|=0;r<e.length;)n[s[r+t]]=e[r++];return n}n.basic=A([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=A([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=A([0,0,0,1,1],7),n.mapKey=A([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=A([1,5,0,0,0,5,5,0,0,0,1,1,0])},18289:(e,t,r)=>{"use strict";var n,i,s=e.exports=r(86416),A=r(43675);s.codegen=r(52012),s.fetch=r(63035),s.path=r(29986),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},s.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var o=/\\/g,a=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(o,"\\\\").replace(a,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;n||(n=r(69396));var i=new n(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(33982));var t=new i("Enum"+c++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,r){function n(e,t,r){var i=t.shift();if("__proto__"===i||"prototype"===i)return e;if(t.length>0)e[i]=n(e[i]||{},t,r);else{var s=e[i];s&&(r=[].concat(s).concat(r)),e[i]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return n(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return A.decorated||(A.decorated=new(r(34955)))}})},59535:(e,t,r)=>{"use strict";e.exports=i;var n=r(86416);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var A=i.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var o=String.prototype.charCodeAt;i.fromHash=function(e){return e===A?s:new i((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},86416:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(70799),n.base64=r(92130),n.EventEmitter=r(80854),n.float=r(14324),n.inquire=r(20449),n.utf8=r(78131),n.pool=r(56035),n.LongBits=r(59535),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},31181:(e,t,r)=>{"use strict";e.exports=a;var n=r(33982),i=r(18289);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function A(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var A=Object.keys(t.resolvedType.values),o=0;o<A.length;++o)e("case %i:",t.resolvedType.values[A[o]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}")}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function o(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"))}return e}function a(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var a=0;a<e.fieldsArray.length;++a){var l=e._fieldsArray[a].resolve(),c="m"+i.safeProp(l.name);if(l.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,l.name),l.map)t("if(!util.isObject(%s))",c)("return%j",s(l,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),o(t,l,"k[i]"),A(t,l,a,c+"[k[i]]")("}");else if(l.repeated)t("if(!Array.isArray(%s))",c)("return%j",s(l,"array"))("for(var i=0;i<%s.length;++i){",c),A(t,l,a,c+"[i]")("}");else{if(l.partOf){var h=i.safeProp(l.partOf.name);1===n[l.partOf.name]&&t("if(p%s===1)",h)("return%j",l.partOf.name+": multiple values"),n[l.partOf.name]=1,t("p%s=1",h)}A(t,l,a,c)}l.optional&&t("}")}return t("return null")}},82969:(e,t,r)=>{"use strict";var n=t,i=r(55326);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var A=this.lookup(s);A&&(e=A.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t),a="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===n&&(n=r),s=n+a,o["@type"]=s,o}return this.toObject(e,t)}}},47474:(e,t,r)=>{"use strict";e.exports=h;var n,i=r(86416),s=i.LongBits,A=i.base64,o=i.utf8;function a(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new a(l,0,0),this.tail=this.head,this.states=null}var u=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function d(e,t,r){t[r]=255&e}function g(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function E(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function p(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=u(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new a(e,t,r),this.len+=t,this},f.prototype=Object.create(a.prototype),f.prototype.fn=g,h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(E,10,s.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=s.from(e);return this._push(E,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(E,t.length(),t)},h.prototype.bool=function(e){return this._push(d,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(p,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=s.from(e);return this._push(p,4,t.lo)._push(p,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var C=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var r=h.alloc(t=A.length(e));A.decode(e,r,0),e=r}return this.uint32(t)._push(C,t,e)},h.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new a(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new a(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=u(),n._configure()}},96985:(e,t,r)=>{"use strict";e.exports=s;var n=r(47474);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(86416);function s(){n.call(this)}function A(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(A,t,e),this},s._configure()},29730:(e,t,r)=>{"use strict";var n;let i;let s=r(99758),A=r(68176),o=r(56888),a=r(3323),l=r(74278),c=r(72931),h=r(17906),{InvalidArgumentError:u}=o,d=r(40878),g=r(13231),f=r(52410),E=r(91552),p=r(56954),C=r(86342),I=r(90182),m=r(19186),{getGlobalDispatcher:Q,setGlobalDispatcher:B}=r(96836),y=r(32308),w=r(29788),b=r(60374);try{r(6113),i=!0}catch{i=!1}function v(e){return(t,r,n)=>{if("function"==typeof r&&(n=r,r=null),!t||"string"!=typeof t&&"object"!=typeof t&&!(t instanceof URL))throw new u("invalid url");if(null!=r&&"object"!=typeof r)throw new u("invalid opts");if(r&&null!=r.path){if("string"!=typeof r.path)throw new u("invalid opts.path");let e=r.path;r.path.startsWith("/")||(e=`/${e}`),t=new URL(h.parseOrigin(t).origin+e)}else r||(r="object"==typeof t?t:{}),t=h.parseURL(t);let{agent:i,dispatcher:s=Q()}=r;if(i)throw new u("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}if(Object.assign(A.prototype,d),n=A,n=s,n=a,n=l,n=c,n=I,n=m,n=y,n=w,n=b,n=g,n=o,n=B,n=Q,h.nodeMajor>16||16===h.nodeMajor&&h.nodeMinor>=8){let t=null;e.exports.he=async function(e){t||(t=r(79219).fetch);try{return await t(...arguments)}catch(e){throw"object"==typeof e&&Error.captureStackTrace(e,this),e}},e.exports.Headers=r(24656).Headers,e.exports.Response=r(84638).Response,r(36152).Request,r(35827).FormData,r(26198).File,r(23760).FileReader;let{setGlobalOrigin:i,getGlobalOrigin:s}=r(64792);n=i,n=s;let{CacheStorage:A}=r(90143),{kConstruct:o}=r(73205);n=new A(o)}if(h.nodeMajor>=16){let{deleteCookie:e,getCookies:t,getSetCookies:i,setCookie:s}=r(35973);n=e,n=t,n=i,n=s;let{parseMIMEType:A,serializeAMimeType:o}=r(88103);n=A,n=o}if(h.nodeMajor>=18&&i){let{WebSocket:e}=r(14105);n=e}n=v(d.request),n=v(d.stream),n=v(d.pipeline),n=v(d.connect),n=v(d.upgrade),n=f,n=p,n=E,n=C},72931:(e,t,r)=>{"use strict";let{InvalidArgumentError:n}=r(56888),{kClients:i,kRunning:s,kClose:A,kDestroy:o,kDispatch:a,kInterceptors:l}=r(75111),c=r(74118),h=r(3323),u=r(99758),d=r(17906),g=r(60374),{WeakRef:f,FinalizationRegistry:E}=r(34687)(),p=Symbol("onConnect"),C=Symbol("onDisconnect"),I=Symbol("onConnectionError"),m=Symbol("maxRedirections"),Q=Symbol("onDrain"),B=Symbol("factory"),y=Symbol("finalizer"),w=Symbol("options");function b(e,t){return t&&1===t.connections?new u(e,t):new h(e,t)}class v extends c{constructor({factory:e=b,maxRedirections:t=0,connect:r,...s}={}){if(super(),"function"!=typeof e)throw new n("factory must be a function.");if(null!=r&&"function"!=typeof r&&"object"!=typeof r)throw new n("connect must be a function or an object");if(!Number.isInteger(t)||t<0)throw new n("maxRedirections must be a positive number");r&&"function"!=typeof r&&(r={...r}),this[l]=s.interceptors&&s.interceptors.Agent&&Array.isArray(s.interceptors.Agent)?s.interceptors.Agent:[g({maxRedirections:t})],this[w]={...d.deepClone(s),connect:r},this[w].interceptors=s.interceptors?{...s.interceptors}:void 0,this[m]=t,this[B]=e,this[i]=new Map,this[y]=new E(e=>{let t=this[i].get(e);void 0!==t&&void 0===t.deref()&&this[i].delete(e)});let A=this;this[Q]=(e,t)=>{A.emit("drain",e,[A,...t])},this[p]=(e,t)=>{A.emit("connect",e,[A,...t])},this[C]=(e,t,r)=>{A.emit("disconnect",e,[A,...t],r)},this[I]=(e,t,r)=>{A.emit("connectionError",e,[A,...t],r)}}get[s](){let e=0;for(let t of this[i].values()){let r=t.deref();r&&(e+=r[s])}return e}[a](e,t){let r;if(e.origin&&("string"==typeof e.origin||e.origin instanceof URL))r=String(e.origin);else throw new n("opts.origin must be a non-empty string or URL.");let s=this[i].get(r),A=s?s.deref():null;return A||(A=this[B](e.origin,this[w]).on("drain",this[Q]).on("connect",this[p]).on("disconnect",this[C]).on("connectionError",this[I]),this[i].set(r,new f(A)),this[y].register(A,r)),A.dispatch(e,t)}async [A](){let e=[];for(let t of this[i].values()){let r=t.deref();r&&e.push(r.close())}await Promise.all(e)}async [o](e){let t=[];for(let r of this[i].values()){let n=r.deref();n&&t.push(n.destroy(e))}await Promise.all(t)}}e.exports=v},93664:(e,t,r)=>{let{addAbortListener:n}=r(17906),{RequestAbortedError:i}=r(56888),s=Symbol("kListener"),A=Symbol("kSignal");function o(e){e.abort?e.abort():e.onError(new i)}function a(e,t){if(e[A]=null,e[s]=null,t){if(t.aborted){o(e);return}e[A]=t,e[s]=()=>{o(e)},n(e[A],e[s])}}function l(e){e[A]&&("removeEventListener"in e[A]?e[A].removeEventListener("abort",e[s]):e[A].removeListener("abort",e[s]),e[A]=null,e[s]=null)}e.exports={addSignal:a,removeSignal:l}},57690:(e,t,r)=>{"use strict";let{AsyncResource:n}=r(50852),{InvalidArgumentError:i,RequestAbortedError:s,SocketError:A}=r(56888),o=r(17906),{addSignal:a,removeSignal:l}=r(93664);class c extends n{constructor(e,t){if(!e||"object"!=typeof e)throw new i("invalid opts");if("function"!=typeof t)throw new i("invalid callback");let{signal:r,opaque:n,responseHeaders:s}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=n||null,this.responseHeaders=s||null,this.callback=t,this.abort=null,a(this,r)}onConnect(e,t){if(!this.callback)throw new s;this.abort=e,this.context=t}onHeaders(){throw new A("bad connect",null)}onUpgrade(e,t,r){let{callback:n,opaque:i,context:s}=this;l(this),this.callback=null;let A=t;null!=A&&(A="raw"===this.responseHeaders?o.parseRawHeaders(t):o.parseHeaders(t)),this.runInAsyncScope(n,null,null,{statusCode:e,headers:A,socket:r,opaque:i,context:s})}onError(e){let{callback:t,opaque:r}=this;l(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function h(e,t){if(void 0===t)return new Promise((t,r)=>{h.call(this,e,(e,n)=>e?r(e):t(n))});try{let r=new c(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=h},16271:(e,t,r)=>{"use strict";let{Readable:n,Duplex:i,PassThrough:s}=r(12781),{InvalidArgumentError:A,InvalidReturnValueError:o,RequestAbortedError:a}=r(56888),l=r(17906),{AsyncResource:c}=r(50852),{addSignal:h,removeSignal:u}=r(93664),d=r(39491),g=Symbol("resume");class f extends n{constructor(){super({autoDestroy:!0}),this[g]=null}_read(){let{[g]:e}=this;e&&(this[g]=null,e())}_destroy(e,t){this._read(),t(e)}}class E extends n{constructor(e){super({autoDestroy:!0}),this[g]=e}_read(){this[g]()}_destroy(e,t){e||this._readableState.endEmitted||(e=new a),t(e)}}class p extends c{constructor(e,t){if(!e||"object"!=typeof e)throw new A("invalid opts");if("function"!=typeof t)throw new A("invalid handler");let{signal:r,method:n,opaque:s,onInfo:o,responseHeaders:c}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new A("signal must be an EventEmitter or EventTarget");if("CONNECT"===n)throw new A("invalid method");if(o&&"function"!=typeof o)throw new A("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=c||null,this.handler=t,this.abort=null,this.context=null,this.onInfo=o||null,this.req=new f().on("error",l.nop),this.ret=new i({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{let{body:e}=this;e&&e.resume&&e.resume()},write:(e,t,r)=>{let{req:n}=this;n.push(e,t)||n._readableState.destroyed?r():n[g]=r},destroy:(e,t)=>{let{body:r,req:n,res:i,ret:s,abort:A}=this;e||s._readableState.endEmitted||(e=new a),A&&e&&A(),l.destroy(r,e),l.destroy(n,e),l.destroy(i,e),u(this),t(e)}}).on("prefinish",()=>{let{req:e}=this;e.push(null)}),this.res=null,h(this,r)}onConnect(e,t){let{ret:r,res:n}=this;if(d(!n,"pipeline cannot be retried"),r.destroyed)throw new a;this.abort=e,this.context=t}onHeaders(e,t,r){let n;let{opaque:i,handler:s,context:A}=this;if(e<200){if(this.onInfo){let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);this.onInfo({statusCode:e,headers:r})}return}this.res=new E(r);try{this.handler=null;let r="raw"===this.responseHeaders?l.parseRawHeaders(t):l.parseHeaders(t);n=this.runInAsyncScope(s,null,{statusCode:e,headers:r,opaque:i,body:this.res,context:A})}catch(e){throw this.res.on("error",l.nop),e}if(!n||"function"!=typeof n.on)throw new o("expected Readable");n.on("data",e=>{let{ret:t,body:r}=this;!t.push(e)&&r.pause&&r.pause()}).on("error",e=>{let{ret:t}=this;l.destroy(t,e)}).on("end",()=>{let{ret:e}=this;e.push(null)}).on("close",()=>{let{ret:e}=this;e._readableState.ended||l.destroy(e,new a)}),this.body=n}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;t.push(null)}onError(e){let{ret:t}=this;this.handler=null,l.destroy(t,e)}}function C(e,t){try{let r=new p(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(e){return new s().destroy(e)}}e.exports=C},9265:(e,t,r)=>{"use strict";let n=r(69003),{InvalidArgumentError:i,RequestAbortedError:s}=r(56888),A=r(17906),{getResolveErrorBodyCallback:o}=r(1492),{AsyncResource:a}=r(50852),{addSignal:l,removeSignal:c}=r(93664);class h extends a{constructor(e,t){if(!e||"object"!=typeof e)throw new i("invalid opts");let{signal:r,method:n,opaque:s,body:o,onInfo:a,responseHeaders:c,throwOnError:h,highWaterMark:u}=e;try{if("function"!=typeof t)throw new i("invalid callback");if(u&&("number"!=typeof u||u<0))throw new i("invalid highWaterMark");if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new i("signal must be an EventEmitter or EventTarget");if("CONNECT"===n)throw new i("invalid method");if(a&&"function"!=typeof a)throw new i("invalid onInfo callback");super("UNDICI_REQUEST")}catch(e){throw A.isStream(o)&&A.destroy(o.on("error",A.nop),e),e}this.responseHeaders=c||null,this.opaque=s||null,this.callback=t,this.res=null,this.abort=null,this.body=o,this.trailers={},this.context=null,this.onInfo=a||null,this.throwOnError=h,this.highWaterMark=u,A.isStream(o)&&o.on("error",e=>{this.onError(e)}),l(this,r)}onConnect(e,t){if(!this.callback)throw new s;this.abort=e,this.context=t}onHeaders(e,t,r,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:h,highWaterMark:u}=this,d="raw"===h?A.parseRawHeaders(t):A.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:d});return}let g=("raw"===h?A.parseHeaders(t):d)["content-type"],f=new n({resume:r,abort:l,contentType:g,highWaterMark:u});this.callback=null,this.res=f,null!==s&&(this.throwOnError&&e>=400?this.runInAsyncScope(o,null,{callback:s,body:f,contentType:g,statusCode:e,statusMessage:i,headers:d}):this.runInAsyncScope(s,null,null,{statusCode:e,headers:d,trailers:this.trailers,opaque:a,body:f,context:c}))}onData(e){let{res:t}=this;return t.push(e)}onComplete(e){let{res:t}=this;c(this),A.parseHeaders(e,this.trailers),t.push(null)}onError(e){let{res:t,callback:r,body:n,opaque:i}=this;c(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:i})})),t&&(this.res=null,queueMicrotask(()=>{A.destroy(t,e)})),n&&(this.body=null,A.destroy(n,e))}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,n)=>e?r(e):t(n))});try{this.dispatch(e,new h(e,t))}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=u,e.exports.RequestHandler=h},44916:(e,t,r)=>{"use strict";let{finished:n,PassThrough:i}=r(12781),{InvalidArgumentError:s,InvalidReturnValueError:A,RequestAbortedError:o}=r(56888),a=r(17906),{getResolveErrorBodyCallback:l}=r(1492),{AsyncResource:c}=r(50852),{addSignal:h,removeSignal:u}=r(93664);class d extends c{constructor(e,t,r){if(!e||"object"!=typeof e)throw new s("invalid opts");let{signal:n,method:i,opaque:A,body:o,onInfo:l,responseHeaders:c,throwOnError:u}=e;try{if("function"!=typeof r)throw new s("invalid callback");if("function"!=typeof t)throw new s("invalid factory");if(n&&"function"!=typeof n.on&&"function"!=typeof n.addEventListener)throw new s("signal must be an EventEmitter or EventTarget");if("CONNECT"===i)throw new s("invalid method");if(l&&"function"!=typeof l)throw new s("invalid onInfo callback");super("UNDICI_STREAM")}catch(e){throw a.isStream(o)&&a.destroy(o.on("error",a.nop),e),e}this.responseHeaders=c||null,this.opaque=A||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=o,this.onInfo=l||null,this.throwOnError=u||!1,a.isStream(o)&&o.on("error",e=>{this.onError(e)}),h(this,n)}onConnect(e,t){if(!this.callback)throw new o;this.abort=e,this.context=t}onHeaders(e,t,r,s){let o;let{factory:c,opaque:h,context:u,callback:d,responseHeaders:g}=this,f="raw"===g?a.parseRawHeaders(t):a.parseHeaders(t);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:f});return}if(this.factory=null,this.throwOnError&&e>=400){let r=("raw"===g?a.parseHeaders(t):f)["content-type"];o=new i,this.callback=null,this.runInAsyncScope(l,null,{callback:d,body:o,contentType:r,statusCode:e,statusMessage:s,headers:f})}else{if(null===c)return;if(!(o=this.runInAsyncScope(c,null,{statusCode:e,headers:f,opaque:h,context:u}))||"function"!=typeof o.write||"function"!=typeof o.end||"function"!=typeof o.on)throw new A("expected Writable");n(o,{readable:!1},e=>{let{callback:t,res:r,opaque:n,trailers:i,abort:s}=this;this.res=null,(e||!r.readable)&&a.destroy(r,e),this.callback=null,this.runInAsyncScope(t,null,e||null,{opaque:n,trailers:i}),e&&s()})}return o.on("drain",r),this.res=o,!0!==(void 0!==o.writableNeedDrain?o.writableNeedDrain:o._writableState&&o._writableState.needDrain)}onData(e){let{res:t}=this;return!t||t.write(e)}onComplete(e){let{res:t}=this;u(this),t&&(this.trailers=a.parseHeaders(e),t.end())}onError(e){let{res:t,callback:r,opaque:n,body:i}=this;u(this),this.factory=null,t?(this.res=null,a.destroy(t,e)):r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})})),i&&(this.body=null,a.destroy(i,e))}}function g(e,t,r){if(void 0===r)return new Promise((r,n)=>{g.call(this,e,t,(e,t)=>e?n(e):r(t))});try{this.dispatch(e,new d(e,t,r))}catch(n){if("function"!=typeof r)throw n;let t=e&&e.opaque;queueMicrotask(()=>r(n,{opaque:t}))}}e.exports=g},61827:(e,t,r)=>{"use strict";let{InvalidArgumentError:n,RequestAbortedError:i,SocketError:s}=r(56888),{AsyncResource:A}=r(50852),o=r(17906),{addSignal:a,removeSignal:l}=r(93664),c=r(39491);class h extends A{constructor(e,t){if(!e||"object"!=typeof e)throw new n("invalid opts");if("function"!=typeof t)throw new n("invalid callback");let{signal:r,opaque:i,responseHeaders:s}=e;if(r&&"function"!=typeof r.on&&"function"!=typeof r.addEventListener)throw new n("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=t,this.abort=null,this.context=null,a(this,r)}onConnect(e,t){if(!this.callback)throw new i;this.abort=e,this.context=null}onHeaders(){throw new s("bad upgrade",null)}onUpgrade(e,t,r){let{callback:n,opaque:i,context:s}=this;c.strictEqual(e,101),l(this),this.callback=null;let A="raw"===this.responseHeaders?o.parseRawHeaders(t):o.parseHeaders(t);this.runInAsyncScope(n,null,null,{headers:A,socket:r,opaque:i,context:s})}onError(e){let{callback:t,opaque:r}=this;l(this),t&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(t,null,e,{opaque:r})}))}}function u(e,t){if(void 0===t)return new Promise((t,r)=>{u.call(this,e,(e,n)=>e?r(e):t(n))});try{let r=new h(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(n){if("function"!=typeof t)throw n;let r=e&&e.opaque;queueMicrotask(()=>t(n,{opaque:r}))}}e.exports=u},40878:(e,t,r)=>{"use strict";e.exports.request=r(9265),e.exports.stream=r(44916),e.exports.pipeline=r(16271),e.exports.upgrade=r(61827),e.exports.connect=r(57690)},69003:(e,t,r)=>{"use strict";let n;let i=r(39491),{Readable:s}=r(12781),{RequestAbortedError:A,NotSupportedError:o,InvalidArgumentError:a}=r(56888),l=r(17906),{ReadableStreamFrom:c,toUSVString:h}=r(17906),u=Symbol("kConsume"),d=Symbol("kReading"),g=Symbol("kBody"),f=Symbol("abort"),E=Symbol("kContentType"),p=()=>{};function C(e){return e[g]&&!0===e[g].locked||e[u]}function I(e){return l.isDisturbed(e)||C(e)}async function m(e,t){if(I(e))throw TypeError("unusable");return i(!e[u]),new Promise((r,n)=>{e[u]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(e){w(this[u],e)}).on("close",function(){null!==this[u].body&&w(this[u],new A)}),process.nextTick(Q,e[u])})}function Q(e){if(null===e.body)return;let{_readableState:t}=e.stream;for(let r of t.buffer)y(e,r);for(t.endEmitted?B(this[u]):e.stream.on("end",function(){B(this[u])}),e.stream.resume();null!=e.stream.read(););}function B(e){let{type:t,body:i,resolve:s,stream:A,length:o}=e;try{if("text"===t)s(h(Buffer.concat(i)));else if("json"===t)s(JSON.parse(Buffer.concat(i)));else if("arrayBuffer"===t){let e=new Uint8Array(o),t=0;for(let r of i)e.set(r,t),t+=r.byteLength;s(e.buffer)}else"blob"===t&&(n||(n=r(14300).Blob),s(new n(i,{type:A[E]})));w(e)}catch(e){A.destroy(e)}}function y(e,t){e.length+=t.length,e.body.push(t)}function w(e,t){null!==e.body&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}e.exports=class extends s{constructor({resume:e,abort:t,contentType:r="",highWaterMark:n=65536}){super({autoDestroy:!0,read:e,highWaterMark:n}),this._readableState.dataEmitted=!1,this[f]=t,this[u]=null,this[g]=null,this[E]=r,this[d]=!1}destroy(e){return this.destroyed?this:(e||this._readableState.endEmitted||(e=new A),e&&this[f](),super.destroy(e))}emit(e,...t){return"data"===e?this._readableState.dataEmitted=!0:"error"===e&&(this._readableState.errorEmitted=!0),super.emit(e,...t)}on(e,...t){return("data"===e||"readable"===e)&&(this[d]=!0),super.on(e,...t)}addListener(e,...t){return this.on(e,...t)}off(e,...t){let r=super.off(e,...t);return("data"===e||"readable"===e)&&(this[d]=this.listenerCount("data")>0||this.listenerCount("readable")>0),r}removeListener(e,...t){return this.off(e,...t)}push(e){return this[u]&&null!==e&&0===this.readableLength?(y(this[u],e),!this[d]||super.push(e)):super.push(e)}async text(){return m(this,"text")}async json(){return m(this,"json")}async blob(){return m(this,"blob")}async arrayBuffer(){return m(this,"arrayBuffer")}async formData(){throw new o}get bodyUsed(){return l.isDisturbed(this)}get body(){return!this[g]&&(this[g]=c(this),this[u]&&(this[g].getReader(),i(this[g].locked))),this[g]}dump(e){let t=e&&Number.isFinite(e.limit)?e.limit:262144,r=e&&e.signal;if(r)try{if("object"!=typeof r||!("aborted"in r))throw new a("signal must be an AbortSignal");l.throwIfAborted(r)}catch(e){return Promise.reject(e)}return this.closed?Promise.resolve(null):new Promise((e,n)=>{let i=r?l.addAbortListener(r,()=>{this.destroy()}):p;this.on("close",function(){i(),r&&r.aborted?n(r.reason||Object.assign(Error("The operation was aborted"),{name:"AbortError"})):e(null)}).on("error",p).on("data",function(e){(t-=e.length)<=0&&this.destroy()}).resume()})}}},1492:(e,t,r)=>{let n=r(39491),{ResponseStatusCodeError:i}=r(56888),{toUSVString:s}=r(17906);async function A({callback:e,body:t,contentType:r,statusCode:A,statusMessage:o,headers:a}){n(t);let l=[],c=0;for await(let e of t)if(l.push(e),(c+=e.length)>131072){l=null;break}if(204===A||!r||!l){process.nextTick(e,new i(`Response status code ${A}${o?`: ${o}`:""}`,A,a));return}try{if(r.startsWith("application/json")){let t=JSON.parse(s(Buffer.concat(l)));process.nextTick(e,new i(`Response status code ${A}${o?`: ${o}`:""}`,A,a,t));return}if(r.startsWith("text/")){let t=s(Buffer.concat(l));process.nextTick(e,new i(`Response status code ${A}${o?`: ${o}`:""}`,A,a,t));return}}catch(e){}process.nextTick(e,new i(`Response status code ${A}${o?`: ${o}`:""}`,A,a))}e.exports={getResolveErrorBodyCallback:A}},74278:(e,t,r)=>{"use strict";let{BalancedPoolMissingUpstreamError:n,InvalidArgumentError:i}=r(56888),{PoolBase:s,kClients:A,kNeedDrain:o,kAddClient:a,kRemoveClient:l,kGetDispatcher:c}=r(57736),h=r(3323),{kUrl:u,kInterceptors:d}=r(75111),{parseOrigin:g}=r(17906),f=Symbol("factory"),E=Symbol("options"),p=Symbol("kGreatestCommonDivisor"),C=Symbol("kCurrentWeight"),I=Symbol("kIndex"),m=Symbol("kWeight"),Q=Symbol("kMaxWeightPerServer"),B=Symbol("kErrorPenalty");function y(e,t){return 0===t?e:y(t,e%t)}function w(e,t){return new h(e,t)}class b extends s{constructor(e=[],{factory:t=w,...r}={}){if(super(),this[E]=r,this[I]=-1,this[C]=0,this[Q]=this[E].maxWeightPerServer||100,this[B]=this[E].errorPenalty||15,Array.isArray(e)||(e=[e]),"function"!=typeof t)throw new i("factory must be a function.");for(let n of(this[d]=r.interceptors&&r.interceptors.BalancedPool&&Array.isArray(r.interceptors.BalancedPool)?r.interceptors.BalancedPool:[],this[f]=t,e))this.addUpstream(n);this._updateBalancedPoolStats()}addUpstream(e){let t=g(e).origin;if(this[A].find(e=>e[u].origin===t&&!0!==e.closed&&!0!==e.destroyed))return this;let r=this[f](t,Object.assign({},this[E]));for(let e of(this[a](r),r.on("connect",()=>{r[m]=Math.min(this[Q],r[m]+this[B])}),r.on("connectionError",()=>{r[m]=Math.max(1,r[m]-this[B]),this._updateBalancedPoolStats()}),r.on("disconnect",(...e)=>{let t=e[2];t&&"UND_ERR_SOCKET"===t.code&&(r[m]=Math.max(1,r[m]-this[B]),this._updateBalancedPoolStats())}),this[A]))e[m]=this[Q];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){this[p]=this[A].map(e=>e[m]).reduce(y,0)}removeUpstream(e){let t=g(e).origin,r=this[A].find(e=>e[u].origin===t&&!0!==e.closed&&!0!==e.destroyed);return r&&this[l](r),this}get upstreams(){return this[A].filter(e=>!0!==e.closed&&!0!==e.destroyed).map(e=>e[u].origin)}[c](){if(0===this[A].length)throw new n;if(!this[A].find(e=>!e[o]&&!0!==e.closed&&!0!==e.destroyed)||this[A].map(e=>e[o]).reduce((e,t)=>e&&t,!0))return;let e=0,t=this[A].findIndex(e=>!e[o]);for(;e++<this[A].length;){this[I]=(this[I]+1)%this[A].length;let e=this[A][this[I]];if(e[m]>this[A][t][m]&&!e[o]&&(t=this[I]),0===this[I]&&(this[C]=this[C]-this[p],this[C]<=0&&(this[C]=this[Q])),e[m]>=this[C]&&!e[o])return e}return this[C]=this[A][t][m],this[I]=t,this[A][t]}}e.exports=b},60550:(e,t,r)=>{"use strict";let{kConstruct:n}=r(73205),{urlEquals:i,fieldValues:s}=r(66832),{kEnumerableProperty:A,isDisturbed:o}=r(17906),{kHeadersList:a}=r(75111),{webidl:l}=r(37164),{Response:c,cloneResponse:h}=r(84638),{Request:u}=r(36152),{kState:d,kHeaders:g,kGuard:f,kRealm:E}=r(33084),{fetching:p}=r(79219),{urlIsHttpHttpsScheme:C,createDeferredPromise:I,readAllBytes:m}=r(73138),Q=r(39491),{getGlobalDispatcher:B}=r(96836);class y{#e;constructor(){arguments[0]!==n&&l.illegalConstructor(),this.#e=arguments[1]}async match(e,t={}){l.brandCheck(this,y),l.argumentLengthCheck(arguments,1,{header:"Cache.match"}),e=l.converters.RequestInfo(e),t=l.converters.CacheQueryOptions(t);let r=await this.matchAll(e,t);if(0!==r.length)return r[0]}async matchAll(e,t={}){l.brandCheck(this,y),void 0!==e&&(e=l.converters.RequestInfo(e)),t=l.converters.CacheQueryOptions(t);let r=null;if(void 0!==e){if(e instanceof u){if("GET"!==(r=e[d]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(r=new u(e)[d])}let n=[];if(void 0===e)for(let e of this.#e)n.push(e[1]);else for(let e of this.#t(r,t))n.push(e[1]);let i=[];for(let e of n){let t=new c(e.body?.source??null),r=t[d].body;t[d]=e,t[d].body=r,t[g][a]=e.headersList,t[g][f]="immutable",i.push(t)}return Object.freeze(i)}async add(e){l.brandCheck(this,y),l.argumentLengthCheck(arguments,1,{header:"Cache.add"});let t=[e=l.converters.RequestInfo(e)],r=this.addAll(t);return await r}async addAll(e){l.brandCheck(this,y),l.argumentLengthCheck(arguments,1,{header:"Cache.addAll"});let t=[],r=[];for(let t of e=l.converters["sequence<RequestInfo>"](e)){if("string"==typeof t)continue;let e=t[d];if(!C(e.url)||"GET"!==e.method)throw l.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme when method is not GET."})}let n=[];for(let i of e){let e=new u(i)[d];if(!C(e.url))throw l.errors.exception({header:"Cache.addAll",message:"Expected http/s scheme."});e.initiator="fetch",e.destination="subresource",r.push(e);let A=I();n.push(p({request:e,dispatcher:B(),processResponse(e){if("error"===e.type||206===e.status||e.status<200||e.status>299)A.reject(l.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(e.headersList.contains("vary")){for(let t of s(e.headersList.get("vary")))if("*"===t){for(let e of(A.reject(l.errors.exception({header:"Cache.addAll",message:"invalid vary field value"})),n))e.abort();return}}},processResponseEndOfBody(e){if(e.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(e)}})),t.push(A.promise)}let i=Promise.all(t),A=await i,o=[],a=0;for(let e of A){let t={type:"put",request:r[a],response:e};o.push(t),a++}let c=I(),h=null;try{this.#r(o)}catch(e){h=e}return queueMicrotask(()=>{null===h?c.resolve(void 0):c.reject(h)}),c.promise}async put(e,t){l.brandCheck(this,y),l.argumentLengthCheck(arguments,2,{header:"Cache.put"}),e=l.converters.RequestInfo(e),t=l.converters.Response(t);let r=null;if(!C((r=e instanceof u?e[d]:new u(e)[d]).url)||"GET"!==r.method)throw l.errors.exception({header:"Cache.put",message:"Expected an http/s scheme when method is not GET"});let n=t[d];if(206===n.status)throw l.errors.exception({header:"Cache.put",message:"Got 206 status"});if(n.headersList.contains("vary")){for(let e of s(n.headersList.get("vary")))if("*"===e)throw l.errors.exception({header:"Cache.put",message:"Got * vary field value"})}if(n.body&&(o(n.body.stream)||n.body.stream.locked))throw l.errors.exception({header:"Cache.put",message:"Response body is locked or disturbed"});let i=h(n),A=I();null!=n.body?m(n.body.stream.getReader()).then(A.resolve,A.reject):A.resolve(void 0);let a=[],c={type:"put",request:r,response:i};a.push(c);let g=await A.promise;null!=i.body&&(i.body.source=g);let f=I(),E=null;try{this.#r(a)}catch(e){E=e}return queueMicrotask(()=>{null===E?f.resolve():f.reject(E)}),f.promise}async delete(e,t={}){let r;l.brandCheck(this,y),l.argumentLengthCheck(arguments,1,{header:"Cache.delete"}),e=l.converters.RequestInfo(e),t=l.converters.CacheQueryOptions(t);let n=null;if(e instanceof u){if("GET"!==(n=e[d]).method&&!t.ignoreMethod)return!1}else Q("string"==typeof e),n=new u(e)[d];let i=[],s={type:"delete",request:n,options:t};i.push(s);let A=I(),o=null;try{r=this.#r(i)}catch(e){o=e}return queueMicrotask(()=>{null===o?A.resolve(!!r?.length):A.reject(o)}),A.promise}async keys(e,t={}){l.brandCheck(this,y),void 0!==e&&(e=l.converters.RequestInfo(e)),t=l.converters.CacheQueryOptions(t);let r=null;if(void 0!==e){if(e instanceof u){if("GET"!==(r=e[d]).method&&!t.ignoreMethod)return[]}else"string"==typeof e&&(r=new u(e)[d])}let n=I(),i=[];if(void 0===e)for(let e of this.#e)i.push(e[0]);else for(let e of this.#t(r,t))i.push(e[0]);return queueMicrotask(()=>{let e=[];for(let t of i){let r=new u("https://a");r[d]=t,r[g][a]=t.headersList,r[g][f]="immutable",r[E]=t.client,e.push(r)}n.resolve(Object.freeze(e))}),n.promise}#r(e){let t=this.#e,r=[...t],n=[],i=[];try{for(let r of e){let e;if("delete"!==r.type&&"put"!==r.type)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if("delete"===r.type&&null!=r.response)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#t(r.request,r.options,n).length)throw new DOMException("???","InvalidStateError");if("delete"===r.type){if(e=this.#t(r.request,r.options),0===e.length)return[];for(let r of e){let e=t.indexOf(r);Q(-1!==e),t.splice(e,1)}}else if("put"===r.type){if(null==r.response)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let i=r.request;if(!C(i.url))throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if("GET"!==i.method)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(null!=r.options)throw l.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});for(let n of e=this.#t(r.request)){let e=t.indexOf(n);Q(-1!==e),t.splice(e,1)}t.push([r.request,r.response]),n.push([r.request,r.response])}i.push([r.request,r.response])}return i}catch(e){throw this.#e.length=0,this.#e=r,e}}#t(e,t,r){let n=[];for(let i of r??this.#e){let[r,s]=i;this.#n(e,r,s,t)&&n.push(i)}return n}#n(e,t,r=null,n){let A=new URL(e.url),o=new URL(t.url);if(n?.ignoreSearch&&(o.search="",A.search=""),!i(A,o,!0))return!1;if(null==r||n?.ignoreVary||!r.headersList.contains("vary"))return!0;for(let n of s(r.headersList.get("vary")))if("*"===n||t.headersList.get(n)!==e.headersList.get(n))return!1;return!0}}Object.defineProperties(y.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:A,matchAll:A,add:A,addAll:A,put:A,delete:A,keys:A});let w=[{key:"ignoreSearch",converter:l.converters.boolean,defaultValue:!1},{key:"ignoreMethod",converter:l.converters.boolean,defaultValue:!1},{key:"ignoreVary",converter:l.converters.boolean,defaultValue:!1}];l.converters.CacheQueryOptions=l.dictionaryConverter(w),l.converters.MultiCacheQueryOptions=l.dictionaryConverter([...w,{key:"cacheName",converter:l.converters.DOMString}]),l.converters.Response=l.interfaceConverter(c),l.converters["sequence<RequestInfo>"]=l.sequenceConverter(l.converters.RequestInfo),e.exports={Cache:y}},90143:(e,t,r)=>{"use strict";let{kConstruct:n}=r(73205),{Cache:i}=r(60550),{webidl:s}=r(37164),{kEnumerableProperty:A}=r(17906);class o{#i=new Map;constructor(){arguments[0]!==n&&s.illegalConstructor()}async match(e,t={}){if(s.brandCheck(this,o),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.match"}),e=s.converters.RequestInfo(e),null!=(t=s.converters.MultiCacheQueryOptions(t)).cacheName){if(this.#i.has(t.cacheName)){let r=new i(n,this.#i.get(t.cacheName));return await r.match(e,t)}}else for(let r of this.#i.values()){let s=new i(n,r),A=await s.match(e,t);if(void 0!==A)return A}}async has(e){return s.brandCheck(this,o),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.has"}),e=s.converters.DOMString(e),this.#i.has(e)}async open(e){if(s.brandCheck(this,o),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.open"}),e=s.converters.DOMString(e),this.#i.has(e))return new i(n,this.#i.get(e));let t=[];return this.#i.set(e,t),new i(n,t)}async delete(e){return s.brandCheck(this,o),s.argumentLengthCheck(arguments,1,{header:"CacheStorage.delete"}),e=s.converters.DOMString(e),this.#i.delete(e)}async keys(){return s.brandCheck(this,o),[...this.#i.keys()]}}Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:A,has:A,open:A,delete:A,keys:A}),e.exports={CacheStorage:o}},73205:(e,t,r)=>{"use strict";e.exports={kConstruct:r(75111).kConstruct}},66832:(e,t,r)=>{"use strict";let n=r(39491),{URLSerializer:i}=r(88103),{isValidHeaderName:s}=r(73138);function A(e,t,r=!1){return i(e,r)===i(t,r)}function o(e){n(null!==e);let t=[];for(let r of e.split(","))(r=r.trim()).length&&s(r)&&t.push(r);return t}e.exports={urlEquals:A,fieldValues:o}},99758:(e,t,r)=>{"use strict";let n;let i=r(39491),s=r(41808),A=r(13685),{pipeline:o}=r(12781),a=r(17906),l=r(93050),c=r(55430),h=r(74118),{RequestContentLengthMismatchError:u,ResponseContentLengthMismatchError:d,InvalidArgumentError:g,RequestAbortedError:f,HeadersTimeoutError:E,HeadersOverflowError:p,SocketError:C,InformationalError:I,BodyTimeoutError:m,HTTPParserError:Q,ResponseExceededMaxSizeError:B,ClientDestroyedError:y}=r(56888),w=r(13231),{kUrl:b,kReset:v,kServerName:S,kClient:D,kBusy:R,kParser:T,kConnect:k,kBlocking:N,kResuming:F,kRunning:L,kPending:M,kSize:_,kWriting:U,kQueue:O,kConnected:x,kConnecting:P,kNeedDrain:V,kNoRef:G,kKeepAliveDefaultTimeout:Y,kHostHeader:J,kPendingIdx:H,kRunningIdx:q,kError:W,kPipelining:j,kSocket:z,kKeepAliveTimeoutValue:K,kMaxHeadersSize:X,kKeepAliveMaxTimeout:Z,kKeepAliveTimeoutThreshold:$,kHeadersTimeout:ee,kBodyTimeout:et,kStrictContentLength:er,kConnector:en,kMaxRedirections:ei,kMaxRequests:es,kCounter:eA,kClose:eo,kDestroy:ea,kDispatch:el,kInterceptors:ec,kLocalAddress:eh,kMaxResponseSize:eu,kHTTPConnVersion:ed,kHost:eg,kHTTP2Session:ef,kHTTP2SessionState:eE,kHTTP2BuildRequest:ep,kHTTP2CopyHeaders:eC,kHTTP1BuildRequest:eI}=r(75111);try{n=r(85158)}catch{n={constants:{}}}let{constants:{HTTP2_HEADER_AUTHORITY:em,HTTP2_HEADER_METHOD:eQ,HTTP2_HEADER_PATH:eB,HTTP2_HEADER_SCHEME:ey,HTTP2_HEADER_CONTENT_LENGTH:ew,HTTP2_HEADER_EXPECT:eb,HTTP2_HEADER_STATUS:ev}}=n,eS=!1,eD=Buffer[Symbol.species],eR=Symbol("kClosedResolve"),eT={};try{let e=r(67643);eT.sendHeaders=e.channel("undici:client:sendHeaders"),eT.beforeConnect=e.channel("undici:client:beforeConnect"),eT.connectError=e.channel("undici:client:connectError"),eT.connected=e.channel("undici:client:connected")}catch{eT.sendHeaders={hasSubscribers:!1},eT.beforeConnect={hasSubscribers:!1},eT.connectError={hasSubscribers:!1},eT.connected={hasSubscribers:!1}}class ek extends h{constructor(e,{interceptors:t,maxHeaderSize:r,headersTimeout:n,socketTimeout:i,requestTimeout:o,connectTimeout:l,bodyTimeout:c,idleTimeout:h,keepAlive:u,keepAliveTimeout:d,maxKeepAliveTimeout:f,keepAliveMaxTimeout:E,keepAliveTimeoutThreshold:p,socketPath:C,pipelining:I,tls:m,strictContentLength:Q,maxCachedSessions:B,maxRedirections:y,connect:v,maxRequestsPerClient:D,localAddress:R,maxResponseSize:T,autoSelectFamily:k,autoSelectFamilyAttemptTimeout:N,allowH2:L,maxConcurrentStreams:M}={}){if(super(),void 0!==u)throw new g("unsupported keepAlive, use pipelining=0 instead");if(void 0!==i)throw new g("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==o)throw new g("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(void 0!==h)throw new g("unsupported idleTimeout, use keepAliveTimeout instead");if(void 0!==f)throw new g("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(null!=r&&!Number.isFinite(r))throw new g("invalid maxHeaderSize");if(null!=C&&"string"!=typeof C)throw new g("invalid socketPath");if(null!=l&&(!Number.isFinite(l)||l<0))throw new g("invalid connectTimeout");if(null!=d&&(!Number.isFinite(d)||d<=0))throw new g("invalid keepAliveTimeout");if(null!=E&&(!Number.isFinite(E)||E<=0))throw new g("invalid keepAliveMaxTimeout");if(null!=p&&!Number.isFinite(p))throw new g("invalid keepAliveTimeoutThreshold");if(null!=n&&(!Number.isInteger(n)||n<0))throw new g("headersTimeout must be a positive integer or zero");if(null!=c&&(!Number.isInteger(c)||c<0))throw new g("bodyTimeout must be a positive integer or zero");if(null!=v&&"function"!=typeof v&&"object"!=typeof v)throw new g("connect must be a function or an object");if(null!=y&&(!Number.isInteger(y)||y<0))throw new g("maxRedirections must be a positive number");if(null!=D&&(!Number.isInteger(D)||D<0))throw new g("maxRequestsPerClient must be a positive number");if(null!=R&&("string"!=typeof R||0===s.isIP(R)))throw new g("localAddress must be valid string IP address");if(null!=T&&(!Number.isInteger(T)||T<-1))throw new g("maxResponseSize must be a positive number");if(null!=N&&(!Number.isInteger(N)||N<-1))throw new g("autoSelectFamilyAttemptTimeout must be a positive number");if(null!=L&&"boolean"!=typeof L)throw new g("allowH2 must be a valid boolean value");if(null!=M&&("number"!=typeof M||M<1))throw new g("maxConcurrentStreams must be a possitive integer, greater than 0");"function"!=typeof v&&(v=w({...m,maxCachedSessions:B,allowH2:L,socketPath:C,timeout:l,...a.nodeHasAutoSelectFamily&&k?{autoSelectFamily:k,autoSelectFamilyAttemptTimeout:N}:void 0,...v})),this[ec]=t&&t.Client&&Array.isArray(t.Client)?t.Client:[eU({maxRedirections:y})],this[b]=a.parseOrigin(e),this[en]=v,this[z]=null,this[j]=null!=I?I:1,this[X]=r||A.maxHeaderSize,this[Y]=null==d?4e3:d,this[Z]=null==E?6e5:E,this[$]=null==p?1e3:p,this[K]=this[Y],this[S]=null,this[eh]=null!=R?R:null,this[F]=0,this[V]=0,this[J]=`host: ${this[b].hostname}${this[b].port?`:${this[b].port}`:""}\r
`,this[et]=null!=c?c:3e5,this[ee]=null!=n?n:3e5,this[er]=null==Q||Q,this[ei]=y,this[es]=D,this[eR]=null,this[eu]=T>-1?T:-1,this[ed]="h1",this[ef]=null,this[eE]=L?{openStreams:0,maxConcurrentStreams:null!=M?M:100}:null,this[eg]=`${this[b].hostname}${this[b].port?`:${this[b].port}`:""}`,this[O]=[],this[q]=0,this[H]=0}get pipelining(){return this[j]}set pipelining(e){this[j]=e,e9(this,!0)}get[M](){return this[O].length-this[H]}get[L](){return this[H]-this[q]}get[_](){return this[O].length-this[q]}get[x](){return!!this[z]&&!this[P]&&!this[z].destroyed}get[R](){let e=this[z];return e&&(e[v]||e[U]||e[N])||this[_]>=(this[j]||1)||this[M]>0}[k](e){e1(this),this.once("connect",e)}[el](e,t){let r=e.origin||this[b].origin,n="h2"===this[ed]?c[ep](r,e,t):c[eI](r,e,t);return this[O].push(n),this[F]||(null==a.bodyLength(n.body)&&a.isIterable(n.body)?(this[F]=1,process.nextTick(e9,this)):e9(this,!0)),this[F]&&2!==this[V]&&this[R]&&(this[V]=2),this[V]<2}async [eo](){return new Promise(e=>{this[_]?this[eR]=e:e(null)})}async [ea](e){return new Promise(t=>{let r=this[O].splice(this[H]);for(let t=0;t<r.length;t++)tr(this,r[t],e);let n=()=>{this[eR]&&(this[eR](),this[eR]=null),t()};null!=this[ef]&&(a.destroy(this[ef],e),this[ef]=null,this[eE]=null),this[z]?a.destroy(this[z].on("close",n),e):queueMicrotask(n),e9(this)})}}function eN(e){i("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),this[z][W]=e,eZ(this[D],e)}function eF(e,t,r){let n=new I(`HTTP/2: "frameError" received - type ${e}, code ${t}`);0===r&&(this[z][W]=n,eZ(this[D],n))}function eL(){a.destroy(this,new C("other side closed")),a.destroy(this[z],new C("other side closed"))}function eM(e){let t=this[D],r=new I(`HTTP/2: "GOAWAY" frame received with code ${e}`);if(t[z]=null,t[ef]=null,t.destroyed){i(0===this[M]);let e=t[O].splice(t[q]);for(let t=0;t<e.length;t++)tr(this,e[t],r)}else if(t[L]>0){let e=t[O][t[q]];t[O][t[q]++]=null,tr(t,e,r)}t[H]=t[q],i(0===t[L]),t.emit("disconnect",t[b],[t],r),e9(t)}let e_=r(89833),eU=r(60374),eO=Buffer.alloc(0),ex=null,eP=async function(){let e;let t=process.env.JEST_WORKER_ID?r(35903):void 0;try{e=await WebAssembly.compile(Buffer.from(r(27823),"base64"))}catch(n){e=await WebAssembly.compile(Buffer.from(t||r(35903),"base64"))}return await WebAssembly.instantiate(e,{env:{wasm_on_url:(e,t,r)=>0,wasm_on_status:(e,t,r)=>{i.strictEqual(eV.ptr,e);let n=t-eJ+eG.byteOffset;return eV.onStatus(new eD(eG.buffer,n,r))||0},wasm_on_message_begin:e=>(i.strictEqual(eV.ptr,e),eV.onMessageBegin()||0),wasm_on_header_field:(e,t,r)=>{i.strictEqual(eV.ptr,e);let n=t-eJ+eG.byteOffset;return eV.onHeaderField(new eD(eG.buffer,n,r))||0},wasm_on_header_value:(e,t,r)=>{i.strictEqual(eV.ptr,e);let n=t-eJ+eG.byteOffset;return eV.onHeaderValue(new eD(eG.buffer,n,r))||0},wasm_on_headers_complete:(e,t,r,n)=>(i.strictEqual(eV.ptr,e),eV.onHeadersComplete(t,!!r,!!n)||0),wasm_on_body:(e,t,r)=>{i.strictEqual(eV.ptr,e);let n=t-eJ+eG.byteOffset;return eV.onBody(new eD(eG.buffer,n,r))||0},wasm_on_message_complete:e=>(i.strictEqual(eV.ptr,e),eV.onMessageComplete()||0)}})}();eP.catch();let eV=null,eG=null,eY=0,eJ=null,eH=1,eq=2,eW=3;class ej{constructor(e,t,{exports:r}){i(Number.isFinite(e[X])&&e[X]>0),this.llhttp=r,this.ptr=this.llhttp.llhttp_alloc(e_.TYPE.RESPONSE),this.client=e,this.socket=t,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[X],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[eu]}setTimeout(e,t){this.timeoutType=t,e!==this.timeoutValue?(l.clearTimeout(this.timeout),e?(this.timeout=l.setTimeout(ez,e,this),this.timeout.unref&&this.timeout.unref()):this.timeout=null,this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh()}resume(){!this.socket.destroyed&&this.paused&&(i(null!=this.ptr),i(null==eV),this.llhttp.llhttp_resume(this.ptr),i(this.timeoutType===eq),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||eO),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(null===e)break;this.execute(e)}}execute(e){i(null!=this.ptr),i(null==eV),i(!this.paused);let{socket:t,llhttp:r}=this;e.length>eY&&(eJ&&r.free(eJ),eY=4096*Math.ceil(e.length/4096),eJ=r.malloc(eY)),new Uint8Array(r.memory.buffer,eJ,eY).set(e);try{let n;try{eG=e,eV=this,n=r.llhttp_execute(this.ptr,eJ,e.length)}catch(e){throw e}finally{eV=null,eG=null}let i=r.llhttp_get_error_pos(this.ptr)-eJ;if(n===e_.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(i));else if(n===e_.ERROR.PAUSED)this.paused=!0,t.unshift(e.slice(i));else if(n!==e_.ERROR.OK){let t=r.llhttp_get_error_reason(this.ptr),s="";if(t){let e=new Uint8Array(r.memory.buffer,t).indexOf(0);s="Response does not match the HTTP/1.1 protocol ("+Buffer.from(r.memory.buffer,t,e).toString()+")"}throw new Q(s,e_.ERROR[n],e.slice(i))}}catch(e){a.destroy(t,e)}}destroy(){i(null!=this.ptr),i(null==eV),this.llhttp.llhttp_free(this.ptr),this.ptr=null,l.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:t}=this;if(e.destroyed||!t[O][t[q]])return -1}onHeaderField(e){let t=this.headers.length;(1&t)==0?this.headers.push(e):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let t=this.headers.length;(1&t)==1?(this.headers.push(e),t+=1):this.headers[t-1]=Buffer.concat([this.headers[t-1],e]);let r=this.headers[t-2];10===r.length&&"keep-alive"===r.toString().toLowerCase()?this.keepAlive+=e.toString():10===r.length&&"connection"===r.toString().toLowerCase()?this.connection+=e.toString():14===r.length&&"content-length"===r.toString().toLowerCase()&&(this.contentLength+=e.toString()),this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&a.destroy(this.socket,new p)}onUpgrade(e){let{upgrade:t,client:r,socket:n,headers:s,statusCode:A}=this;i(t);let o=r[O][r[q]];i(o),i(!n.destroyed),i(n===r[z]),i(!this.paused),i(o.upgrade||"CONNECT"===o.method),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,i(this.headers.length%2==0),this.headers=[],this.headersSize=0,n.unshift(e),n[T].destroy(),n[T]=null,n[D]=null,n[W]=null,n.removeListener("error",eX).removeListener("readable",eK).removeListener("end",e$).removeListener("close",e0),r[z]=null,r[O][r[q]++]=null,r.emit("disconnect",r[b],[r],new I("upgrade"));try{o.onUpgrade(A,s,n)}catch(e){a.destroy(n,e)}e9(r)}onHeadersComplete(e,t,r){let{client:n,socket:s,headers:A,statusText:o}=this;if(s.destroyed)return -1;let l=n[O][n[q]];if(!l)return -1;if(i(!this.upgrade),i(this.statusCode<200),100===e)return a.destroy(s,new C("bad response",a.getSocketInfo(s))),-1;if(t&&!l.upgrade)return a.destroy(s,new C("bad upgrade",a.getSocketInfo(s))),-1;if(i.strictEqual(this.timeoutType,eH),this.statusCode=e,this.shouldKeepAlive=r||"HEAD"===l.method&&!s[v]&&"keep-alive"===this.connection.toLowerCase(),this.statusCode>=200){let e=null!=l.bodyTimeout?l.bodyTimeout:n[et];this.setTimeout(e,eq)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if("CONNECT"===l.method||t)return i(1===n[L]),this.upgrade=!0,2;if(i(this.headers.length%2==0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&n[j]){let e=this.keepAlive?a.parseKeepAliveTimeout(this.keepAlive):null;if(null!=e){let t=Math.min(e-n[$],n[Z]);t<=0?s[v]=!0:n[K]=t}else n[K]=n[Y]}else s[v]=!0;let c=!1===l.onHeaders(e,A,this.resume,o);return l.aborted?-1:"HEAD"===l.method||e<200?1:(s[N]&&(s[N]=!1,e9(n)),c?e_.ERROR.PAUSED:0)}onBody(e){let{client:t,socket:r,statusCode:n,maxResponseSize:s}=this;if(r.destroyed)return -1;let A=t[O][t[q]];return(i(A),i.strictEqual(this.timeoutType,eq),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),i(n>=200),s>-1&&this.bytesRead+e.length>s)?(a.destroy(r,new B),-1):(this.bytesRead+=e.length,!1===A.onData(e))?e_.ERROR.PAUSED:void 0}onMessageComplete(){let{client:e,socket:t,statusCode:r,upgrade:n,headers:s,contentLength:A,bytesRead:o,shouldKeepAlive:l}=this;if(t.destroyed&&(!r||l))return -1;if(n)return;let c=e[O][e[q]];if(i(c),i(r>=100),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",i(this.headers.length%2==0),this.headers=[],this.headersSize=0,!(r<200)){if("HEAD"!==c.method&&A&&o!==parseInt(A,10))return a.destroy(t,new d),-1;if(c.onComplete(s),e[O][e[q]++]=null,t[U])return i.strictEqual(e[L],0),a.destroy(t,new I("reset")),e_.ERROR.PAUSED;if(!l||t[v]&&0===e[L])return a.destroy(t,new I("reset")),e_.ERROR.PAUSED;1===e[j]?setImmediate(e9,e):e9(e)}}}function ez(e){let{socket:t,timeoutType:r,client:n}=e;r===eH?(!t[U]||t.writableNeedDrain||n[L]>1)&&(i(!e.paused,"cannot be paused while waiting for headers"),a.destroy(t,new E)):r===eq?e.paused||a.destroy(t,new m):r===eW&&(i(0===n[L]&&n[K]),a.destroy(t,new I("socket idle timeout")))}function eK(){let{[T]:e}=this;e&&e.readMore()}function eX(e){let{[D]:t,[T]:r}=this;if(i("ERR_TLS_CERT_ALTNAME_INVALID"!==e.code),"h2"!==t[ed]&&"ECONNRESET"===e.code&&r.statusCode&&!r.shouldKeepAlive){r.onMessageComplete();return}this[W]=e,eZ(this[D],e)}function eZ(e,t){if(0===e[L]&&"UND_ERR_INFO"!==t.code&&"UND_ERR_SOCKET"!==t.code){i(e[H]===e[q]);let r=e[O].splice(e[q]);for(let n=0;n<r.length;n++)tr(e,r[n],t);i(0===e[_])}}function e$(){let{[T]:e,[D]:t}=this;if("h2"!==t[ed]&&e.statusCode&&!e.shouldKeepAlive){e.onMessageComplete();return}a.destroy(this,new C("other side closed",a.getSocketInfo(this)))}function e0(){let{[D]:e,[T]:t}=this;"h1"===e[ed]&&t&&(this[W]||!t.statusCode||t.shouldKeepAlive||t.onMessageComplete(),this[T].destroy(),this[T]=null);let r=this[W]||new C("closed",a.getSocketInfo(this));if(e[z]=null,e.destroyed){i(0===e[M]);let t=e[O].splice(e[q]);for(let n=0;n<t.length;n++)tr(e,t[n],r)}else if(e[L]>0&&"UND_ERR_INFO"!==r.code){let t=e[O][e[q]];e[O][e[q]++]=null,tr(e,t,r)}e[H]=e[q],i(0===e[L]),e.emit("disconnect",e[b],[e],r),e9(e)}async function e1(e){i(!e[P]),i(!e[z]);let{host:t,hostname:r,protocol:A,port:o}=e[b];if("["===r[0]){let e=r.indexOf("]");i(-1!==e);let t=r.substring(1,e);i(s.isIP(t)),r=t}e[P]=!0,eT.beforeConnect.hasSubscribers&&eT.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:A,port:o,servername:e[S],localAddress:e[eh]},connector:e[en]});try{let s=await new Promise((n,i)=>{e[en]({host:t,hostname:r,protocol:A,port:o,servername:e[S],localAddress:e[eh]},(e,t)=>{e?i(e):n(t)})});if(e.destroyed){a.destroy(s.on("error",()=>{}),new y);return}if(e[P]=!1,i(s),"h2"===s.alpnProtocol){eS||(eS=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let t=n.connect(e[b],{createConnection:()=>s,peerMaxConcurrentStreams:e[eE].maxConcurrentStreams});e[ed]="h2",t[D]=e,t[z]=s,t.on("error",eN),t.on("frameError",eF),t.on("end",eL),t.on("goaway",eM),t.on("close",e0),t.unref(),e[ef]=t,s[ef]=t}else ex||(ex=await eP,eP=null),s[G]=!1,s[U]=!1,s[v]=!1,s[N]=!1,s[T]=new ej(e,s,ex);s[eA]=0,s[es]=e[es],s[D]=e,s[W]=null,s.on("error",eX).on("readable",eK).on("end",e$).on("close",e0),e[z]=s,eT.connected.hasSubscribers&&eT.connected.publish({connectParams:{host:t,hostname:r,protocol:A,port:o,servername:e[S],localAddress:e[eh]},connector:e[en],socket:s}),e.emit("connect",e[b],[e])}catch(n){if(e.destroyed)return;if(e[P]=!1,eT.connectError.hasSubscribers&&eT.connectError.publish({connectParams:{host:t,hostname:r,protocol:A,port:o,servername:e[S],localAddress:e[eh]},connector:e[en],error:n}),"ERR_TLS_CERT_ALTNAME_INVALID"===n.code)for(i(0===e[L]);e[M]>0&&e[O][e[H]].servername===e[S];){let t=e[O][e[H]++];tr(e,t,n)}else eZ(e,n);e.emit("connectionError",e[b],[e],n)}e9(e)}function e2(e){e[V]=0,e.emit("drain",e[b],[e])}function e9(e,t){2!==e[F]&&(e[F]=2,e3(e,t),e[F]=0,e[q]>256&&(e[O].splice(0,e[q]),e[H]-=e[q],e[q]=0))}function e3(e,t){for(;;){if(e.destroyed){i(0===e[M]);return}if(e[eR]&&!e[_]){e[eR](),e[eR]=null;return}let r=e[z];if(r&&!r.destroyed&&"h2"!==r.alpnProtocol){if(0===e[_]?!r[G]&&r.unref&&(r.unref(),r[G]=!0):r[G]&&r.ref&&(r.ref(),r[G]=!1),0===e[_])r[T].timeoutType!==eW&&r[T].setTimeout(e[K],eW);else if(e[L]>0&&r[T].statusCode<200&&r[T].timeoutType!==eH){let t=e[O][e[q]],n=null!=t.headersTimeout?t.headersTimeout:e[ee];r[T].setTimeout(n,eH)}}if(e[R])e[V]=2;else if(2===e[V]){t?(e[V]=1,process.nextTick(e2,e)):e2(e);continue}if(0===e[M]||e[L]>=(e[j]||1))return;let n=e[O][e[H]];if("https:"===e[b].protocol&&e[S]!==n.servername){if(e[L]>0)return;if(e[S]=n.servername,r&&r.servername!==n.servername){a.destroy(r,new I("servername changed"));return}}if(e[P])return;if(!r&&!e[ef]){e1(e);return}if(r.destroyed||r[U]||r[v]||r[N]||e[L]>0&&!n.idempotent||e[L]>0&&(n.upgrade||"CONNECT"===n.method)||e[L]>0&&0!==a.bodyLength(n.body)&&(a.isStream(n.body)||a.isAsyncIterable(n.body)))return;!n.aborted&&e5(e,n)?e[H]++:e[O].splice(e[H],1)}}function e4(e){return"GET"!==e&&"HEAD"!==e&&"OPTIONS"!==e&&"TRACE"!==e&&"CONNECT"!==e}function e5(e,t){if("h2"===e[ed]){e8(e,e[ef],t);return}let{body:r,method:n,path:s,host:A,upgrade:o,headers:l,blocking:c,reset:h}=t,d="PUT"===n||"POST"===n||"PATCH"===n;r&&"function"==typeof r.read&&r.read(0);let g=a.bodyLength(r),E=g;if(null===E&&(E=t.contentLength),0!==E||d||(E=null),e4(n)&&E>0&&null!==t.contentLength&&t.contentLength!==E){if(e[er])return tr(e,t,new u),!1;process.emitWarning(new u)}let p=e[z];try{t.onConnect(r=>{t.aborted||t.completed||(tr(e,t,r||new f),a.destroy(p,new I("aborted")))})}catch(r){tr(e,t,r)}if(t.aborted)return!1;"HEAD"===n&&(p[v]=!0),(o||"CONNECT"===n)&&(p[v]=!0),null!=h&&(p[v]=h),e[es]&&p[eA]++>=e[es]&&(p[v]=!0),c&&(p[N]=!0);let C=`${n} ${s} HTTP/1.1\r
`;return"string"==typeof A?C+=`host: ${A}\r
`:C+=e[J],o?C+=`connection: upgrade\r
upgrade: ${o}\r
`:e[j]&&!p[v]?C+="connection: keep-alive\r\n":C+="connection: close\r\n",l&&(C+=l),eT.sendHeaders.hasSubscribers&&eT.sendHeaders.publish({request:t,headers:C,socket:p}),r&&0!==g?a.isBuffer(r)?(i(E===r.byteLength,"buffer body must have content length"),p.cork(),p.write(`${C}content-length: ${E}\r
\r
`,"latin1"),p.write(r),p.uncork(),t.onBodySent(r),t.onRequestSent(),d||(p[v]=!0)):a.isBlobLike(r)?"function"==typeof r.stream?te({body:r.stream(),client:e,request:t,socket:p,contentLength:E,header:C,expectsPayload:d}):e7({body:r,client:e,request:t,socket:p,contentLength:E,header:C,expectsPayload:d}):a.isStream(r)?e6({body:r,client:e,request:t,socket:p,contentLength:E,header:C,expectsPayload:d}):a.isIterable(r)?te({body:r,client:e,request:t,socket:p,contentLength:E,header:C,expectsPayload:d}):i(!1):(0===E?p.write(`${C}content-length: 0\r
\r
`,"latin1"):(i(null===E,"no body must not have content length"),p.write(`${C}\r
`,"latin1")),t.onRequestSent()),!0}function e8(e,t,r){let n,s;let{body:A,method:o,path:l,host:h,upgrade:d,expectContinue:g,signal:E,headers:p}=r;if(n="string"==typeof p?c[eC](p.trim()):p,d)return tr(e,r,Error("Upgrade not supported for H2")),!1;try{r.onConnect(t=>{r.aborted||r.completed||tr(e,r,t||new f)})}catch(t){tr(e,r,t)}if(r.aborted)return!1;let C=e[eE];if(n[em]=h||e[eg],n[eQ]=o,"CONNECT"===o)return t.ref(),(s=t.request(n,{endStream:!1,signal:E})).id&&!s.pending?(r.onUpgrade(null,null,s),++C.openStreams):s.once("ready",()=>{r.onUpgrade(null,null,s),++C.openStreams}),s.once("close",()=>{C.openStreams-=1,0===C.openStreams&&t.unref()}),!0;n[eB]=l,n[ey]="https";let m="PUT"===o||"POST"===o||"PATCH"===o;A&&"function"==typeof A.read&&A.read(0);let Q=a.bodyLength(A);if(null==Q&&(Q=r.contentLength),0!==Q&&m||(Q=null),e4(o)&&Q>0&&null!=r.contentLength&&r.contentLength!==Q){if(e[er])return tr(e,r,new u),!1;process.emitWarning(new u)}null!=Q&&(i(A,"no body must not have content length"),n[ew]=`${Q}`),t.ref();let B="GET"===o||"HEAD"===o;return g?(n[eb]="100-continue",(s=t.request(n,{endStream:B,signal:E})).once("continue",y)):(s=t.request(n,{endStream:B,signal:E}),y()),++C.openStreams,s.once("response",e=>{let{[ev]:t,...n}=e;!1===r.onHeaders(Number(t),n,s.resume.bind(s),"")&&s.pause()}),s.once("end",()=>{r.onComplete([])}),s.on("data",e=>{!1===r.onData(e)&&s.pause()}),s.once("close",()=>{C.openStreams-=1,0===C.openStreams&&t.unref()}),s.once("error",function(t){!e[ef]||e[ef].destroyed||this.closed||this.destroyed||(C.streams-=1,a.destroy(s,t))}),s.once("frameError",(t,n)=>{let i=new I(`HTTP/2: "frameError" received - type ${t}, code ${n}`);tr(e,r,i),!e[ef]||e[ef].destroyed||this.closed||this.destroyed||(C.streams-=1,a.destroy(s,i))}),!0;function y(){A?a.isBuffer(A)?(i(Q===A.byteLength,"buffer body must have content length"),s.cork(),s.write(A),s.uncork(),s.end(),r.onBodySent(A),r.onRequestSent()):a.isBlobLike(A)?"function"==typeof A.stream?te({client:e,request:r,contentLength:Q,h2stream:s,expectsPayload:m,body:A.stream(),socket:e[z],header:""}):e7({body:A,client:e,request:r,contentLength:Q,expectsPayload:m,h2stream:s,header:"",socket:e[z]}):a.isStream(A)?e6({body:A,client:e,request:r,contentLength:Q,expectsPayload:m,socket:e[z],h2stream:s,header:""}):a.isIterable(A)?te({body:A,client:e,request:r,contentLength:Q,expectsPayload:m,header:"",h2stream:s,socket:e[z]}):i(!1):r.onRequestSent()}}function e6({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:A,header:l,expectsPayload:c}){if(i(0!==A||0===r[L],"stream body cannot be pipelined"),"h2"===r[ed]){let r=o(t,e,r=>{r?(a.destroy(t,r),a.destroy(e,r)):n.onRequestSent()});function h(e){n.onBodySent(e)}r.on("data",h),r.once("end",()=>{r.removeListener("data",h),a.destroy(r)});return}let u=!1,d=new tt({socket:s,request:n,contentLength:A,client:r,expectsPayload:c,header:l}),g=function(e){if(!u)try{!d.write(e)&&this.pause&&this.pause()}catch(e){a.destroy(this,e)}},E=function(){!u&&t.resume&&t.resume()},p=function(){if(u)return;let e=new f;queueMicrotask(()=>C(e))},C=function(e){if(!u){if(u=!0,i(s.destroyed||s[U]&&r[L]<=1),s.off("drain",E).off("error",C),t.removeListener("data",g).removeListener("end",C).removeListener("error",C).removeListener("close",p),!e)try{d.end()}catch(t){e=t}d.destroy(e),e&&("UND_ERR_INFO"!==e.code||"reset"!==e.message)?a.destroy(t,e):a.destroy(t)}};t.on("data",g).on("end",C).on("error",C).on("close",p),t.resume&&t.resume(),s.on("drain",E).on("error",C)}async function e7({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:A,header:o,expectsPayload:l}){i(A===t.size,"blob body must have content length");let c="h2"===r[ed];try{if(null!=A&&A!==t.size)throw new u;let i=Buffer.from(await t.arrayBuffer());c?(e.cork(),e.write(i),e.uncork()):(s.cork(),s.write(`${o}content-length: ${A}\r
\r
`,"latin1"),s.write(i),s.uncork()),n.onBodySent(i),n.onRequestSent(),l||(s[v]=!0),e9(r)}catch(t){a.destroy(c?e:s,t)}}async function te({h2stream:e,body:t,client:r,request:n,socket:s,contentLength:A,header:o,expectsPayload:a}){i(0!==A||0===r[L],"iterator body cannot be pipelined");let l=null;function c(){if(l){let e=l;l=null,e()}}let h=()=>new Promise((e,t)=>{i(null===l),s[W]?t(s[W]):l=e});if("h2"===r[ed]){e.on("close",c).on("drain",c);try{for await(let r of t){if(s[W])throw s[W];let t=e.write(r);n.onBodySent(r),t||await h()}}catch(t){e.destroy(t)}finally{n.onRequestSent(),e.end(),e.off("close",c).off("drain",c)}return}s.on("close",c).on("drain",c);let u=new tt({socket:s,request:n,contentLength:A,client:r,expectsPayload:a,header:o});try{for await(let e of t){if(s[W])throw s[W];u.write(e)||await h()}u.end()}catch(e){u.destroy(e)}finally{s.off("close",c).off("drain",c)}}class tt{constructor({socket:e,request:t,contentLength:r,client:n,expectsPayload:i,header:s}){this.socket=e,this.request=t,this.contentLength=r,this.client=n,this.bytesWritten=0,this.expectsPayload=i,this.header=s,e[U]=!0}write(e){let{socket:t,request:r,contentLength:n,client:i,bytesWritten:s,expectsPayload:A,header:o}=this;if(t[W])throw t[W];if(t.destroyed)return!1;let a=Buffer.byteLength(e);if(!a)return!0;if(null!==n&&s+a>n){if(i[er])throw new u;process.emitWarning(new u)}t.cork(),0===s&&(A||(t[v]=!0),null===n?t.write(`${o}transfer-encoding: chunked\r
`,"latin1"):t.write(`${o}content-length: ${n}\r
\r
`,"latin1")),null===n&&t.write(`\r
${a.toString(16)}\r
`,"latin1"),this.bytesWritten+=a;let l=t.write(e);return t.uncork(),r.onBodySent(e),!l&&t[T].timeout&&t[T].timeoutType===eH&&t[T].timeout.refresh&&t[T].timeout.refresh(),l}end(){let{socket:e,contentLength:t,client:r,bytesWritten:n,expectsPayload:i,header:s,request:A}=this;if(A.onRequestSent(),e[U]=!1,e[W])throw e[W];if(!e.destroyed){if(0===n?i?e.write(`${s}content-length: 0\r
\r
`,"latin1"):e.write(`${s}\r
`,"latin1"):null===t&&e.write("\r\n0\r\n\r\n","latin1"),null!==t&&n!==t){if(r[er])throw new u;process.emitWarning(new u)}e[T].timeout&&e[T].timeoutType===eH&&e[T].timeout.refresh&&e[T].timeout.refresh(),e9(r)}}destroy(e){let{socket:t,client:r}=this;t[U]=!1,e&&(i(r[L]<=1,"pipeline should only contain this request"),a.destroy(t,e))}}function tr(e,t,r){try{t.onError(r),i(t.aborted)}catch(t){e.emit("error",t)}}e.exports=ek},34687:(e,t,r)=>{"use strict";let{kConnected:n,kSize:i}=r(75111);class s{constructor(e){this.value=e}deref(){return 0===this.value[n]&&0===this.value[i]?void 0:this.value}}class A{constructor(e){this.finalizer=e}register(e,t){e.on&&e.on("disconnect",()=>{0===e[n]&&0===e[i]&&this.finalizer(t)})}}e.exports=function(){return process.env.NODE_V8_COVERAGE?{WeakRef:s,FinalizationRegistry:A}:{WeakRef:global.WeakRef||s,FinalizationRegistry:global.FinalizationRegistry||A}}},82161:e=>{"use strict";let t=1024,r=4096;e.exports={maxAttributeValueSize:t,maxNameValuePairSize:r}},35973:(e,t,r)=>{"use strict";let{parseSetCookie:n}=r(5172),{stringify:i,getHeadersList:s}=r(37870),{webidl:A}=r(37164),{Headers:o}=r(24656);function a(e){A.argumentLengthCheck(arguments,1,{header:"getCookies"}),A.brandCheck(e,o,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let e of t.split(";")){let[t,...n]=e.split("=");r[t.trim()]=n.join("=")}return r}function l(e,t,r){A.argumentLengthCheck(arguments,2,{header:"deleteCookie"}),A.brandCheck(e,o,{strict:!1}),t=A.converters.DOMString(t),r=A.converters.DeleteCookieAttributes(r),h(e,{name:t,value:"",expires:new Date(0),...r})}function c(e){A.argumentLengthCheck(arguments,1,{header:"getSetCookies"}),A.brandCheck(e,o,{strict:!1});let t=s(e).cookies;return t?t.map(e=>n(Array.isArray(e)?e[1]:e)):[]}function h(e,t){A.argumentLengthCheck(arguments,2,{header:"setCookie"}),A.brandCheck(e,o,{strict:!1}),i(t=A.converters.Cookie(t))&&e.append("Set-Cookie",i(t))}A.converters.DeleteCookieAttributes=A.dictionaryConverter([{converter:A.nullableConverter(A.converters.DOMString),key:"path",defaultValue:null},{converter:A.nullableConverter(A.converters.DOMString),key:"domain",defaultValue:null}]),A.converters.Cookie=A.dictionaryConverter([{converter:A.converters.DOMString,key:"name"},{converter:A.converters.DOMString,key:"value"},{converter:A.nullableConverter(e=>"number"==typeof e?A.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:null},{converter:A.nullableConverter(A.converters["long long"]),key:"maxAge",defaultValue:null},{converter:A.nullableConverter(A.converters.DOMString),key:"domain",defaultValue:null},{converter:A.nullableConverter(A.converters.DOMString),key:"path",defaultValue:null},{converter:A.nullableConverter(A.converters.boolean),key:"secure",defaultValue:null},{converter:A.nullableConverter(A.converters.boolean),key:"httpOnly",defaultValue:null},{converter:A.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:A.sequenceConverter(A.converters.DOMString),key:"unparsed",defaultValue:[]}]),e.exports={getCookies:a,deleteCookie:l,getSetCookies:c,setCookie:h}},5172:(e,t,r)=>{"use strict";let{maxNameValuePairSize:n,maxAttributeValueSize:i}=r(82161),{isCTLExcludingHtab:s}=r(37870),{collectASequenceOfCodePointsFast:A}=r(88103),o=r(39491);function a(e){if(s(e))return null;let t="",r="",i="",o="";if(e.includes(";")){let n={position:0};t=A(";",e,n),r=e.slice(n.position)}else t=e;if(t.includes("=")){let e={position:0};i=A("=",t,e),o=t.slice(e.position+1)}else o=t;return(i=i.trim(),o=o.trim(),i.length+o.length>n)?null:{name:i,value:o,...l(r)}}function l(e,t={}){if(0===e.length)return t;o(";"===e[0]);let r="";(e=e.slice(1)).includes(";")?(r=A(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",s="";if(r.includes("=")){let e={position:0};n=A("=",r,e),s=r.slice(e.position+1)}else n=r;if(n=n.trim(),(s=s.trim()).length>i)return l(e,t);let a=n.toLowerCase();if("expires"===a){let e=new Date(s);t.expires=e}else if("max-age"===a){let r=s.charCodeAt(0);if((r<48||r>57)&&"-"!==s[0]||!/^\d+$/.test(s))return l(e,t);let n=Number(s);t.maxAge=n}else if("domain"===a){let e=s;"."===e[0]&&(e=e.slice(1)),e=e.toLowerCase(),t.domain=e}else if("path"===a){let e="";e=0===s.length||"/"!==s[0]?"/":s,t.path=e}else if("secure"===a)t.secure=!0;else if("httponly"===a)t.httpOnly=!0;else if("samesite"===a){let e="Default",r=s.toLowerCase();r.includes("none")&&(e="None"),r.includes("strict")&&(e="Strict"),r.includes("lax")&&(e="Lax"),t.sameSite=e}else t.unparsed??=[],t.unparsed.push(`${n}=${s}`);return l(e,t)}e.exports={parseSetCookie:a,parseUnparsedAttributes:l}},37870:(e,t,r)=>{"use strict";let n;let i=r(39491),{kHeadersList:s}=r(75111);function A(e){if(0===e.length)return!1;for(let t of e){let e=t.charCodeAt(0);if(e>=0||e<=8||e>=10||e<=31||127===e)return!1}}function o(e){for(let t of e){let e=t.charCodeAt(0);if(e<=32||e>127||"("===t||")"===t||">"===t||"<"===t||"@"===t||","===t||";"===t||":"===t||"\\"===t||'"'===t||"/"===t||"["===t||"]"===t||"?"===t||"="===t||"{"===t||"}"===t)throw Error("Invalid cookie name")}}function a(e){for(let t of e){let e=t.charCodeAt(0);if(e<33||34===e||44===e||59===e||92===e||e>126)throw Error("Invalid header value")}}function l(e){for(let t of e)if(33>t.charCodeAt(0)||";"===t)throw Error("Invalid cookie path")}function c(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw Error("Invalid cookie domain")}function h(e){"number"==typeof e&&(e=new Date(e));let t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getUTCDay()],n=e.getUTCDate().toString().padStart(2,"0"),i=t[e.getUTCMonth()],s=e.getUTCFullYear(),A=e.getUTCHours().toString().padStart(2,"0"),o=e.getUTCMinutes().toString().padStart(2,"0"),a=e.getUTCSeconds().toString().padStart(2,"0");return`${r}, ${n} ${i} ${s} ${A}:${o}:${a} GMT`}function u(e){if(e<0)throw Error("Invalid cookie max-age")}function d(e){if(0===e.name.length)return null;o(e.name),a(e.value);let t=[`${e.name}=${e.value}`];for(let r of(e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),"number"==typeof e.maxAge&&(u(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(c(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(l(e.path),t.push(`Path=${e.path}`)),e.expires&&"Invalid Date"!==e.expires.toString()&&t.push(`Expires=${h(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`),e.unparsed)){if(!r.includes("="))throw Error("Invalid unparsed");let[e,...n]=r.split("=");t.push(`${e.trim()}=${n.join("=")}`)}return t.join("; ")}function g(e){if(e[s])return e[s];n||i(n=Object.getOwnPropertySymbols(e).find(e=>"headers list"===e.description),"Headers cannot be parsed");let t=e[n];return i(t),t}e.exports={isCTLExcludingHtab:A,stringify:d,getHeadersList:g}},13231:(e,t,r)=>{"use strict";let n,i;let s=r(41808),A=r(39491),o=r(17906),{InvalidArgumentError:a,ConnectTimeoutError:l}=r(56888);function c({allowH2:e,maxCachedSessions:t,socketPath:l,timeout:c,...d}){if(null!=t&&(!Number.isInteger(t)||t<0))throw new a("maxCachedSessions must be a positive integer or zero");let g={path:l,...d},f=new i(null==t?100:t);return c=null==c?1e4:c,e=null!=e&&e,function({hostname:t,host:i,protocol:a,port:l,servername:d,localAddress:E,httpSocket:p},C){let I;if("https:"===a){n||(n=r(24404));let s=(d=d||g.servername||o.getServerName(i)||null)||t,a=f.get(s)||null;A(s),(I=n.connect({highWaterMark:16384,...g,servername:d,session:a,localAddress:E,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:p,port:l||443,host:t})).on("session",function(e){f.set(s,e)})}else A(!p,"httpSocket can only be sent on TLS update"),I=s.connect({highWaterMark:65536,...g,localAddress:E,port:l||80,host:t});if(null==g.keepAlive||g.keepAlive){let e=void 0===g.keepAliveInitialDelay?6e4:g.keepAliveInitialDelay;I.setKeepAlive(!0,e)}let m=h(()=>u(I),c);return I.setNoDelay(!0).once("https:"===a?"secureConnect":"connect",function(){if(m(),C){let e=C;C=null,e(null,this)}}).on("error",function(e){if(m(),C){let t=C;C=null,t(e)}}),I}}function h(e,t){if(!t)return()=>{};let r=null,n=null,i=setTimeout(()=>{r=setImmediate(()=>{"win32"===process.platform?n=setImmediate(()=>e()):e()})},t);return()=>{clearTimeout(i),clearImmediate(r),clearImmediate(n)}}function u(e){o.destroy(e,new l)}i=global.FinalizationRegistry&&!process.env.NODE_V8_COVERAGE?class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(e=>{if(this._sessionCache.size<this._maxCachedSessions)return;let t=this._sessionCache.get(e);void 0!==t&&void 0===t.deref()&&this._sessionCache.delete(e)})}get(e){let t=this._sessionCache.get(e);return t?t.deref():null}set(e,t){0!==this._maxCachedSessions&&(this._sessionCache.set(e,new WeakRef(t)),this._sessionRegistry.register(t,e))}}:class{constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,t){if(0!==this._maxCachedSessions){if(this._sessionCache.size>=this._maxCachedSessions){let{value:e}=this._sessionCache.keys().next();this._sessionCache.delete(e)}this._sessionCache.set(e,t)}}},e.exports=c},7689:e=>{"use strict";let t={},r=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<r.length;++e){let n=r[e],i=n.toLowerCase();t[n]=t[i]=i}Object.setPrototypeOf(t,null),e.exports={wellknownHeaderNames:r,headerNameLowerCasedRecord:t}},56888:e=>{"use strict";class t extends Error{constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}}class r extends t{constructor(e){super(e),Error.captureStackTrace(this,r),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class n extends t{constructor(e){super(e),Error.captureStackTrace(this,n),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class i extends t{constructor(e){super(e),Error.captureStackTrace(this,i),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class s extends t{constructor(e){super(e),Error.captureStackTrace(this,s),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class A extends t{constructor(e,t,r,n){super(e),Error.captureStackTrace(this,A),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=n,this.status=t,this.statusCode=t,this.headers=r}}class o extends t{constructor(e){super(e),Error.captureStackTrace(this,o),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class a extends t{constructor(e){super(e),Error.captureStackTrace(this,a),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class l extends t{constructor(e){super(e),Error.captureStackTrace(this,l),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class c extends t{constructor(e){super(e),Error.captureStackTrace(this,c),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class h extends t{constructor(e){super(e),Error.captureStackTrace(this,h),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class u extends t{constructor(e){super(e),Error.captureStackTrace(this,u),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class d extends t{constructor(e){super(e),Error.captureStackTrace(this,d),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class g extends t{constructor(e){super(e),Error.captureStackTrace(this,g),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class f extends t{constructor(e,t){super(e),Error.captureStackTrace(this,f),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=t}}class E extends t{constructor(e){super(e),Error.captureStackTrace(this,E),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class p extends t{constructor(e){super(e),Error.captureStackTrace(this,E),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class C extends Error{constructor(e,t,r){super(e),Error.captureStackTrace(this,C),this.name="HTTPParserError",this.code=t?`HPE_${t}`:void 0,this.data=r?r.toString():void 0}}class I extends t{constructor(e){super(e),Error.captureStackTrace(this,I),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class m extends t{constructor(e,t,{headers:r,data:n}){super(e),Error.captureStackTrace(this,m),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=t,this.data=n,this.headers=r}}e.exports={HTTPParserError:C,UndiciError:t,HeadersTimeoutError:n,HeadersOverflowError:i,BodyTimeoutError:s,RequestContentLengthMismatchError:h,ConnectTimeoutError:r,ResponseStatusCodeError:A,InvalidArgumentError:o,InvalidReturnValueError:a,RequestAbortedError:l,ClientDestroyedError:d,ClientClosedError:g,InformationalError:c,SocketError:f,NotSupportedError:E,ResponseContentLengthMismatchError:u,BalancedPoolMissingUpstreamError:p,ResponseExceededMaxSizeError:I,RequestRetryError:m}},55430:(e,t,r)=>{"use strict";let n;let{InvalidArgumentError:i,NotSupportedError:s}=r(56888),A=r(39491),{kHTTP2BuildRequest:o,kHTTP2CopyHeaders:a,kHTTP1BuildRequest:l}=r(75111),c=r(17906),h=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/,u=/[^\t\x20-\x7e\x80-\xff]/,d=/[^\u0021-\u00ff]/,g=Symbol("handler"),f={};try{let e=r(67643);f.create=e.channel("undici:request:create"),f.bodySent=e.channel("undici:request:bodySent"),f.headers=e.channel("undici:request:headers"),f.trailers=e.channel("undici:request:trailers"),f.error=e.channel("undici:request:error")}catch{f.create={hasSubscribers:!1},f.bodySent={hasSubscribers:!1},f.headers={hasSubscribers:!1},f.trailers={hasSubscribers:!1},f.error={hasSubscribers:!1}}class E{constructor(e,{path:t,method:s,body:A,headers:o,query:a,idempotent:l,blocking:u,upgrade:E,headersTimeout:p,bodyTimeout:I,reset:m,throwOnError:Q,expectContinue:B},y){if("string"!=typeof t)throw new i("path must be a string");if("/"===t[0]||t.startsWith("http://")||t.startsWith("https://")||"CONNECT"===s){if(null!==d.exec(t))throw new i("invalid request path")}else throw new i("path must be an absolute URL or start with a slash");if("string"!=typeof s)throw new i("method must be a string");if(null===h.exec(s))throw new i("invalid request method");if(E&&"string"!=typeof E)throw new i("upgrade must be a string");if(null!=p&&(!Number.isFinite(p)||p<0))throw new i("invalid headersTimeout");if(null!=I&&(!Number.isFinite(I)||I<0))throw new i("invalid bodyTimeout");if(null!=m&&"boolean"!=typeof m)throw new i("invalid reset");if(null!=B&&"boolean"!=typeof B)throw new i("invalid expectContinue");if(this.headersTimeout=p,this.bodyTimeout=I,this.throwOnError=!0===Q,this.method=s,this.abort=null,null==A)this.body=null;else if(c.isStream(A)){this.body=A;let e=this.body._readableState;e&&e.autoDestroy||(this.endHandler=function(){c.destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=e=>{this.abort?this.abort(e):this.error=e},this.body.on("error",this.errorHandler)}else if(c.isBuffer(A))this.body=A.byteLength?A:null;else if(ArrayBuffer.isView(A))this.body=A.buffer.byteLength?Buffer.from(A.buffer,A.byteOffset,A.byteLength):null;else if(A instanceof ArrayBuffer)this.body=A.byteLength?Buffer.from(A):null;else if("string"==typeof A)this.body=A.length?Buffer.from(A):null;else if(c.isFormDataLike(A)||c.isIterable(A)||c.isBlobLike(A))this.body=A;else throw new i("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=E||null,this.path=a?c.buildURL(t,a):t,this.origin=e,this.idempotent=null==l?"HEAD"===s||"GET"===s:l,this.blocking=null!=u&&u,this.reset=null==m?null:m,this.host=null,this.contentLength=null,this.contentType=null,this.headers="",this.expectContinue=null!=B&&B,Array.isArray(o)){if(o.length%2!=0)throw new i("headers array must be even");for(let e=0;e<o.length;e+=2)C(this,o[e],o[e+1])}else if(o&&"object"==typeof o){let e=Object.keys(o);for(let t=0;t<e.length;t++){let r=e[t];C(this,r,o[r])}}else if(null!=o)throw new i("headers must be an object or an array");if(c.isFormDataLike(this.body)){if(c.nodeMajor<16||16===c.nodeMajor&&c.nodeMinor<8)throw new i("Form-Data bodies are only supported in node v16.8 and newer.");n||(n=r(98652).extractBody);let[e,t]=n(A);null==this.contentType&&(this.contentType=t,this.headers+=`content-type: ${t}\r
`),this.body=e.stream,this.contentLength=e.length}else c.isBlobLike(A)&&null==this.contentType&&A.type&&(this.contentType=A.type,this.headers+=`content-type: ${A.type}\r
`);c.validateHandler(y,s,E),this.servername=c.getServerName(this.host),this[g]=y,f.create.hasSubscribers&&f.create.publish({request:this})}onBodySent(e){if(this[g].onBodySent)try{return this[g].onBodySent(e)}catch(e){this.abort(e)}}onRequestSent(){if(f.bodySent.hasSubscribers&&f.bodySent.publish({request:this}),this[g].onRequestSent)try{return this[g].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(A(!this.aborted),A(!this.completed),!this.error)return this.abort=e,this[g].onConnect(e);e(this.error)}onHeaders(e,t,r,n){A(!this.aborted),A(!this.completed),f.headers.hasSubscribers&&f.headers.publish({request:this,response:{statusCode:e,headers:t,statusText:n}});try{return this[g].onHeaders(e,t,r,n)}catch(e){this.abort(e)}}onData(e){A(!this.aborted),A(!this.completed);try{return this[g].onData(e)}catch(e){return this.abort(e),!1}}onUpgrade(e,t,r){return A(!this.aborted),A(!this.completed),this[g].onUpgrade(e,t,r)}onComplete(e){this.onFinally(),A(!this.aborted),this.completed=!0,f.trailers.hasSubscribers&&f.trailers.publish({request:this,trailers:e});try{return this[g].onComplete(e)}catch(e){this.onError(e)}}onError(e){if(this.onFinally(),f.error.hasSubscribers&&f.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[g].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,t){return C(this,e,t),this}static[l](e,t,r){return new E(e,t,r)}static[o](e,t,r){let n=t.headers,s=new E(e,t={...t,headers:null},r);if(s.headers={},Array.isArray(n)){if(n.length%2!=0)throw new i("headers array must be even");for(let e=0;e<n.length;e+=2)C(s,n[e],n[e+1],!0)}else if(n&&"object"==typeof n){let e=Object.keys(n);for(let t=0;t<e.length;t++){let r=e[t];C(s,r,n[r],!0)}}else if(null!=n)throw new i("headers must be an object or an array");return s}static[a](e){let t=e.split("\r\n"),r={};for(let e of t){let[t,n]=e.split(": ");null!=n&&0!==n.length&&(r[t]?r[t]+=`,${n}`:r[t]=n)}return r}}function p(e,t,r){if(t&&"object"==typeof t||(t=null!=t?`${t}`:"",null!==u.exec(t)))throw new i(`invalid ${e} header`);return r?t:`${e}: ${t}\r
`}function C(e,t,r,n=!1){if(r&&"object"==typeof r&&!Array.isArray(r))throw new i(`invalid ${t} header`);if(void 0!==r){if(null===e.host&&4===t.length&&"host"===t.toLowerCase()){if(null!==u.exec(r))throw new i(`invalid ${t} header`);e.host=r}else if(null===e.contentLength&&14===t.length&&"content-length"===t.toLowerCase()){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new i("invalid content-length header")}else if(null===e.contentType&&12===t.length&&"content-type"===t.toLowerCase())e.contentType=r,n?e.headers[t]=p(t,r,n):e.headers+=p(t,r);else if(17===t.length&&"transfer-encoding"===t.toLowerCase())throw new i("invalid transfer-encoding header");else if(10===t.length&&"connection"===t.toLowerCase()){let t="string"==typeof r?r.toLowerCase():null;if("close"!==t&&"keep-alive"!==t)throw new i("invalid connection header");"close"===t&&(e.reset=!0)}else if(10===t.length&&"keep-alive"===t.toLowerCase())throw new i("invalid keep-alive header");else if(7===t.length&&"upgrade"===t.toLowerCase())throw new i("invalid upgrade header");else if(6===t.length&&"expect"===t.toLowerCase())throw new s("expect header not supported");else if(null===h.exec(t))throw new i("invalid header key");else if(Array.isArray(r))for(let i=0;i<r.length;i++)n?e.headers[t]?e.headers[t]+=`,${p(t,r[i],n)}`:e.headers[t]=p(t,r[i],n):e.headers+=p(t,r[i]);else n?e.headers[t]=p(t,r,n):e.headers+=p(t,r)}}e.exports=E},75111:e=>{e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kHeadersList:Symbol("headers list"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kHTTP2BuildRequest:Symbol("http2 build request"),kHTTP1BuildRequest:Symbol("http1 build request"),kHTTP2CopyHeaders:Symbol("http2 copy headers"),kHTTPConnVersion:Symbol("http connection version"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable")}},17906:(e,t,r)=>{"use strict";let n;let i=r(39491),{kDestroyed:s,kBodyUsed:A}=r(75111),{IncomingMessage:o}=r(13685),a=r(12781),l=r(41808),{InvalidArgumentError:c}=r(56888),{Blob:h}=r(14300),u=r(73837),{stringify:d}=r(63477),{headerNameLowerCasedRecord:g}=r(7689),[f,E]=process.versions.node.split(".").map(e=>Number(e));function p(){}function C(e){return e&&"object"==typeof e&&"function"==typeof e.pipe&&"function"==typeof e.on}function I(e){return h&&e instanceof h||e&&"object"==typeof e&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function m(e,t){if(e.includes("?")||e.includes("#"))throw Error('Query params cannot be passed when url already contains "?" or "#".');let r=d(t);return r&&(e+="?"+r),e}function Q(e){if("string"==typeof e){if(e=new URL(e),!/^https?:/.test(e.origin||e.protocol))throw new c("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||"object"!=typeof e)throw new c("Invalid URL: The URL argument must be a non-null object.");if(!/^https?:/.test(e.origin||e.protocol))throw new c("Invalid URL protocol: the URL must start with `http:` or `https:`.");if(!(e instanceof URL)){if(null!=e.port&&""!==e.port&&!Number.isFinite(parseInt(e.port)))throw new c("Invalid URL: port must be a valid integer or a string representation of an integer.");if(null!=e.path&&"string"!=typeof e.path)throw new c("Invalid URL path: the path must be a string or null/undefined.");if(null!=e.pathname&&"string"!=typeof e.pathname)throw new c("Invalid URL pathname: the pathname must be a string or null/undefined.");if(null!=e.hostname&&"string"!=typeof e.hostname)throw new c("Invalid URL hostname: the hostname must be a string or null/undefined.");if(null!=e.origin&&"string"!=typeof e.origin)throw new c("Invalid URL origin: the origin must be a string or null/undefined.");let t=null!=e.port?e.port:"https:"===e.protocol?443:80,r=null!=e.origin?e.origin:`${e.protocol}//${e.hostname}:${t}`,n=null!=e.path?e.path:`${e.pathname||""}${e.search||""}`;r.endsWith("/")&&(r=r.substring(0,r.length-1)),n&&!n.startsWith("/")&&(n=`/${n}`),e=new URL(r+n)}return e}function B(e){if("/"!==(e=Q(e)).pathname||e.search||e.hash)throw new c("invalid url");return e}function y(e){if("["===e[0]){let t=e.indexOf("]");return i(-1!==t),e.substring(1,t)}let t=e.indexOf(":");return -1===t?e:e.substring(0,t)}function w(e){if(!e)return null;i.strictEqual(typeof e,"string");let t=y(e);return l.isIP(t)?"":t}function b(e){return JSON.parse(JSON.stringify(e))}function v(e){return!!(null!=e&&"function"==typeof e[Symbol.asyncIterator])}function S(e){return!!(null!=e&&("function"==typeof e[Symbol.iterator]||"function"==typeof e[Symbol.asyncIterator]))}function D(e){if(null==e)return 0;if(C(e)){let t=e._readableState;return t&&!1===t.objectMode&&!0===t.ended&&Number.isFinite(t.length)?t.length:null}return I(e)?null!=e.size?e.size:null:U(e)?e.byteLength:null}function R(e){return!e||!!(e.destroyed||e[s])}function T(e){let t=e&&e._readableState;return R(e)&&t&&!t.endEmitted}function k(e,t){null==e||!C(e)||R(e)||("function"==typeof e.destroy?(Object.getPrototypeOf(e).constructor===o&&(e.socket=null),e.destroy(t)):t&&process.nextTick((e,t)=>{e.emit("error",t)},e,t),!0===e.destroyed||(e[s]=!0))}let N=/timeout=(\d+)/;function F(e){let t=e.toString().match(N);return t?1e3*parseInt(t[1],10):null}function L(e){return g[e]||e.toLowerCase()}function M(e,t={}){if(!Array.isArray(e))return e;for(let r=0;r<e.length;r+=2){let n=e[r].toString().toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"))):Array.isArray(e[r+1])?t[n]=e[r+1].map(e=>e.toString("utf8")):t[n]=e[r+1].toString("utf8")}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}function _(e){let t=[],r=!1,n=-1;for(let i=0;i<e.length;i+=2){let s=e[i+0].toString(),A=e[i+1].toString("utf8");14===s.length&&("content-length"===s||"content-length"===s.toLowerCase())?(t.push(s,A),r=!0):19===s.length&&("content-disposition"===s||"content-disposition"===s.toLowerCase())?n=t.push(s,A)-1:t.push(s,A)}return r&&-1!==n&&(t[n]=Buffer.from(t[n]).toString("latin1")),t}function U(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}function O(e,t,r){if(!e||"object"!=typeof e)throw new c("handler must be an object");if("function"!=typeof e.onConnect)throw new c("invalid onConnect method");if("function"!=typeof e.onError)throw new c("invalid onError method");if("function"!=typeof e.onBodySent&&void 0!==e.onBodySent)throw new c("invalid onBodySent method");if(r||"CONNECT"===t){if("function"!=typeof e.onUpgrade)throw new c("invalid onUpgrade method")}else{if("function"!=typeof e.onHeaders)throw new c("invalid onHeaders method");if("function"!=typeof e.onData)throw new c("invalid onData method");if("function"!=typeof e.onComplete)throw new c("invalid onComplete method")}}function x(e){return!!(e&&(a.isDisturbed?a.isDisturbed(e)||e[A]:e[A]||e.readableDidRead||e._readableState&&e._readableState.dataEmitted||T(e)))}function P(e){return!!(e&&(a.isErrored?a.isErrored(e):/state: 'errored'/.test(u.inspect(e))))}function V(e){return!!(e&&(a.isReadable?a.isReadable(e):/state: 'readable'/.test(u.inspect(e))))}function G(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}async function*Y(e){for await(let t of e)yield Buffer.isBuffer(t)?t:Buffer.from(t)}function J(e){let t;return(n||(n=r(35356).ReadableStream),n.from)?n.from(Y(e)):new n({async start(){t=e[Symbol.asyncIterator]()},async pull(e){let{done:r,value:n}=await t.next();if(r)queueMicrotask(()=>{e.close()});else{let t=Buffer.isBuffer(n)?n:Buffer.from(n);e.enqueue(new Uint8Array(t))}return e.desiredSize>0},async cancel(e){await t.return()}},0)}function H(e){return e&&"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"FormData"===e[Symbol.toStringTag]}function q(e){if(e){if("function"==typeof e.throwIfAborted)e.throwIfAborted();else if(e.aborted){let e=Error("The operation was aborted");throw e.name="AbortError",e}}}function W(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}let j=!!String.prototype.toWellFormed;function z(e){return j?`${e}`.toWellFormed():u.toUSVString?u.toUSVString(e):`${e}`}function K(e){if(null==e||""===e)return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}let X=Object.create(null);X.enumerable=!0,e.exports={kEnumerableProperty:X,nop:p,isDisturbed:x,isErrored:P,isReadable:V,toUSVString:z,isReadableAborted:T,isBlobLike:I,parseOrigin:B,parseURL:Q,getServerName:w,isStream:C,isIterable:S,isAsyncIterable:v,isDestroyed:R,headerNameToString:L,parseRawHeaders:_,parseHeaders:M,parseKeepAliveTimeout:F,destroy:k,bodyLength:D,deepClone:b,ReadableStreamFrom:J,isBuffer:U,validateHandler:O,getSocketInfo:G,isFormDataLike:H,buildURL:m,throwIfAborted:q,addAbortListener:W,parseRangeHeader:K,nodeMajor:f,nodeMinor:E,nodeHasAutoSelectFamily:f>18||18===f&&E>=13,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"]}},74118:(e,t,r)=>{"use strict";let n=r(68176),{ClientDestroyedError:i,ClientClosedError:s,InvalidArgumentError:A}=r(56888),{kDestroy:o,kClose:a,kDispatch:l,kInterceptors:c}=r(75111),h=Symbol("destroyed"),u=Symbol("closed"),d=Symbol("onDestroyed"),g=Symbol("onClosed"),f=Symbol("Intercepted Dispatch");class E extends n{constructor(){super(),this[h]=!1,this[d]=null,this[u]=!1,this[g]=[]}get destroyed(){return this[h]}get closed(){return this[u]}get interceptors(){return this[c]}set interceptors(e){if(e){for(let t=e.length-1;t>=0;t--)if("function"!=typeof this[c][t])throw new A("interceptor must be an function")}this[c]=e}close(e){if(void 0===e)return new Promise((e,t)=>{this.close((r,n)=>r?t(r):e(n))});if("function"!=typeof e)throw new A("invalid callback");if(this[h]){queueMicrotask(()=>e(new i,null));return}if(this[u]){this[g]?this[g].push(e):queueMicrotask(()=>e(null,null));return}this[u]=!0,this[g].push(e);let t=()=>{let e=this[g];this[g]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[a]().then(()=>this.destroy()).then(()=>{queueMicrotask(t)})}destroy(e,t){if("function"==typeof e&&(t=e,e=null),void 0===t)return new Promise((t,r)=>{this.destroy(e,(e,n)=>e?r(e):t(n))});if("function"!=typeof t)throw new A("invalid callback");if(this[h]){this[d]?this[d].push(t):queueMicrotask(()=>t(null,null));return}e||(e=new i),this[h]=!0,this[d]=this[d]||[],this[d].push(t);let r=()=>{let e=this[d];this[d]=null;for(let t=0;t<e.length;t++)e[t](null,null)};this[o](e).then(()=>{queueMicrotask(r)})}[f](e,t){if(!this[c]||0===this[c].length)return this[f]=this[l],this[l](e,t);let r=this[l].bind(this);for(let e=this[c].length-1;e>=0;e--)r=this[c][e](r);return this[f]=r,r(e,t)}dispatch(e,t){if(!t||"object"!=typeof t)throw new A("handler must be an object");try{if(!e||"object"!=typeof e)throw new A("opts must be an object.");if(this[h]||this[d])throw new i;if(this[u])throw new s;return this[f](e,t)}catch(e){if("function"!=typeof t.onError)throw new A("invalid onError method");return t.onError(e),!1}}}e.exports=E},68176:(e,t,r)=>{"use strict";let n=r(82361);class i extends n{dispatch(){throw Error("not implemented")}close(){throw Error("not implemented")}destroy(){throw Error("not implemented")}}e.exports=i},98652:(e,t,r)=>{"use strict";let n=r(5012),i=r(17906),{ReadableStreamFrom:s,isBlobLike:A,isReadableStreamLike:o,readableStreamClose:a,createDeferredPromise:l,fullyReadBody:c}=r(73138),{FormData:h}=r(35827),{kState:u}=r(33084),{webidl:d}=r(37164),{DOMException:g,structuredClone:f}=r(93116),{Blob:E,File:p}=r(14300),{kBodyUsed:C}=r(75111),I=r(39491),{isErrored:m}=r(17906),{isUint8Array:Q,isArrayBuffer:B}=r(29830),{File:y}=r(26198),{parseMIMEType:w,serializeAMimeType:b}=r(88103),v=globalThis.ReadableStream,S=p??y,D=new TextEncoder,R=new TextDecoder;function T(e,t=!1){v||(v=r(35356).ReadableStream);let n=null;I(o(n=e instanceof v?e:A(e)?e.stream():new v({async pull(e){e.enqueue("string"==typeof c?D.encode(c):c),queueMicrotask(()=>a(e))},start(){},type:void 0})));let l=null,c=null,h=null,u=null;if("string"==typeof e)c=e,u="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)c=e.toString(),u="application/x-www-form-urlencoded;charset=UTF-8";else if(B(e))c=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))c=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(i.isFormDataLike(e)){let t=`----formdata-undici-0${`${Math.floor(1e11*Math.random())}`.padStart(11,"0")}`,r=`--${t}\r
Content-Disposition: form-data`,n=e=>e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),i=e=>e.replace(/\r?\n|\r/g,"\r\n"),s=[],A=new Uint8Array([13,10]);h=0;let o=!1;for(let[t,a]of e)if("string"==typeof a){let e=D.encode(r+`; name="${n(i(t))}"`+`\r
\r
${i(a)}\r
`);s.push(e),h+=e.byteLength}else{let e=D.encode(`${r}; name="${n(i(t))}"`+(a.name?`; filename="${n(a.name)}"`:"")+"\r\n"+`Content-Type: ${a.type||"application/octet-stream"}\r
\r
`);s.push(e,a,A),"number"==typeof a.size?h+=e.byteLength+a.size+A.byteLength:o=!0}let a=D.encode(`--${t}--`);s.push(a),h+=a.byteLength,o&&(h=null),c=e,l=async function*(){for(let e of s)e.stream?yield*e.stream():yield e},u="multipart/form-data; boundary="+t}else if(A(e))c=e,h=e.size,e.type&&(u=e.type);else if("function"==typeof e[Symbol.asyncIterator]){if(t)throw TypeError("keepalive");if(i.isDisturbed(e)||e.locked)throw TypeError("Response body object should not be disturbed or locked");n=e instanceof v?e:s(e)}if(("string"==typeof c||i.isBuffer(c))&&(h=Buffer.byteLength(c)),null!=l){let t;n=new v({async start(){t=l(e)[Symbol.asyncIterator]()},async pull(e){let{value:r,done:i}=await t.next();return i?queueMicrotask(()=>{e.close()}):m(n)||e.enqueue(new Uint8Array(r)),e.desiredSize>0},async cancel(e){await t.return()},type:void 0})}return[{stream:n,source:c,length:h},u]}function k(e,t=!1){return v||(v=r(35356).ReadableStream),e instanceof v&&(I(!i.isDisturbed(e),"The body has already been consumed."),I(!e.locked,"The stream is locked.")),T(e,t)}function N(e){let[t,r]=e.stream.tee(),[,n]=f(r,{transfer:[r]}).tee();return e.stream=t,{stream:n,length:e.length,source:e.source}}async function*F(e){if(e){if(Q(e))yield e;else{let t=e.stream;if(i.isDisturbed(t))throw TypeError("The body has already been consumed.");if(t.locked)throw TypeError("The stream is locked.");t[C]=!0,yield*t}}}function L(e){if(e.aborted)throw new g("The operation was aborted.","AbortError")}function M(e){return{blob(){return U(this,e=>{let t=V(this);return"failure"===t?t="":t&&(t=b(t)),new E([e],{type:t})},e)},arrayBuffer(){return U(this,e=>new Uint8Array(e).buffer,e)},text(){return U(this,x,e)},json(){return U(this,P,e)},async formData(){d.brandCheck(this,e),L(this[u]);let t=this.headers.get("Content-Type");if(/multipart\/form-data/.test(t)){let e;let t={};for(let[e,r]of this.headers)t[e.toLowerCase()]=r;let r=new h;try{e=new n({headers:t,preservePath:!0})}catch(e){throw new g(`${e}`,"AbortError")}e.on("field",(e,t)=>{r.append(e,t)}),e.on("file",(e,t,n,i,s)=>{let A=[];if("base64"===i||"base64"===i.toLowerCase()){let i="";t.on("data",e=>{let t=(i+=e.toString().replace(/[\r\n]/gm,"")).length-i.length%4;A.push(Buffer.from(i.slice(0,t),"base64")),i=i.slice(t)}),t.on("end",()=>{A.push(Buffer.from(i,"base64")),r.append(e,new S(A,n,{type:s}))})}else t.on("data",e=>{A.push(e)}),t.on("end",()=>{r.append(e,new S(A,n,{type:s}))})});let i=new Promise((t,r)=>{e.on("finish",t),e.on("error",e=>r(TypeError(e)))});if(null!==this.body)for await(let t of F(this[u].body))e.write(t);return e.end(),await i,r}if(/application\/x-www-form-urlencoded/.test(t)){let e;try{let t="",r=new TextDecoder("utf-8",{ignoreBOM:!0});for await(let e of F(this[u].body)){if(!Q(e))throw TypeError("Expected Uint8Array chunk");t+=r.decode(e,{stream:!0})}t+=r.decode(),e=new URLSearchParams(t)}catch(e){throw Object.assign(TypeError(),{cause:e})}let t=new h;for(let[r,n]of e)t.append(r,n);return t}throw await Promise.resolve(),L(this[u]),d.errors.exception({header:`${e.name}.formData`,message:"Could not parse content as FormData."})}}}function _(e){Object.assign(e.prototype,M(e))}async function U(e,t,r){if(d.brandCheck(e,r),L(e[u]),O(e[u].body))throw TypeError("Body is unusable");let n=l(),i=e=>n.reject(e),s=e=>{try{n.resolve(t(e))}catch(e){i(e)}};return null==e[u].body?s(new Uint8Array):await c(e[u].body,s,i),n.promise}function O(e){return null!=e&&(e.stream.locked||i.isDisturbed(e.stream))}function x(e){return 0===e.length?"":(239===e[0]&&187===e[1]&&191===e[2]&&(e=e.subarray(3)),R.decode(e))}function P(e){return JSON.parse(x(e))}function V(e){let{headersList:t}=e[u],r=t.get("content-type");return null===r?"failure":w(r)}e.exports={extractBody:T,safelyExtractBody:k,cloneBody:N,mixinBody:_}},93116:(e,t,r)=>{"use strict";let n;let{MessageChannel:i,receiveMessageOnPort:s}=r(71267),A=["GET","HEAD","POST"],o=new Set(A),a=[101,204,205,304],l=[301,302,303,307,308],c=new Set(l),h=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","5060","5061","6000","6566","6665","6666","6667","6668","6669","6697","10080"],u=new Set(h),d=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],g=new Set(d),f=["follow","manual","error"],E=["GET","HEAD","OPTIONS","TRACE"],p=new Set(E),C=["navigate","same-origin","no-cors","cors"],I=["omit","same-origin","include"],m=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Q=["content-encoding","content-language","content-location","content-type","content-length"],B=["half"],y=["CONNECT","TRACE","TRACK"],w=new Set(y),b=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],v=new Set(b),S=globalThis.DOMException??(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),D=globalThis.structuredClone??function(e,t){if(0==arguments.length)throw TypeError("missing argument");return n||(n=new i),n.port1.unref(),n.port2.unref(),n.port1.postMessage(e,t?.transfer),s(n.port2).message};e.exports={DOMException:S,structuredClone:D,subresource:b,forbiddenMethods:y,requestBodyHeader:Q,referrerPolicy:d,requestRedirect:f,requestMode:C,requestCredentials:I,requestCache:m,redirectStatus:l,corsSafeListedMethods:A,nullBodyStatus:a,safeMethods:E,badPorts:h,requestDuplex:B,subresourceSet:v,badPortsSet:u,redirectStatusSet:c,corsSafeListedMethodsSet:o,safeMethodsSet:p,forbiddenMethodsSet:w,referrerPolicySet:g}},88103:(e,t,r)=>{let n=r(39491),{atob:i}=r(14300),{isomorphicDecode:s}=r(73138),A=new TextEncoder,o=/^[!#$%&'*+-.^_|~A-Za-z0-9]+$/,a=/(\u000A|\u000D|\u0009|\u0020)/,l=/[\u0009|\u0020-\u007E|\u0080-\u00FF]/;function c(e){n("data:"===e.protocol);let t=h(e,!0);t=t.slice(5);let r={position:0},i=d(",",t,r),A=i.length;if(i=y(i,!0,!0),r.position>=t.length)return"failure";r.position++;let o=g(t.slice(A+1));if(/;(\u0020){0,}base64$/i.test(i)){if("failure"===(o=p(s(o))))return"failure";i=(i=(i=i.slice(0,-6)).replace(/(\u0020)+$/,"")).slice(0,-1)}i.startsWith(";")&&(i="text/plain"+i);let a=E(i);return"failure"===a&&(a=E("text/plain;charset=US-ASCII")),{mimeType:a,body:o}}function h(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length;return 0===n?r:r.substring(0,r.length-n)}function u(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}function d(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return -1===n?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}function g(e){return f(A.encode(e))}function f(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];if(37!==n)t.push(n);else if(37!==n||/^[0-9A-Fa-f]{2}$/i.test(String.fromCharCode(e[r+1],e[r+2]))){let n=Number.parseInt(String.fromCharCode(e[r+1],e[r+2]),16);t.push(n),r+=2}else t.push(37)}return Uint8Array.from(t)}function E(e){e=Q(e,!0,!0);let t={position:0},r=d("/",e,t);if(0===r.length||!o.test(r)||t.position>e.length)return"failure";t.position++;let n=d(";",e,t);if(0===(n=Q(n,!1,!0)).length||!o.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),A={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,u(e=>a.test(e),e,t);let r=u(e=>";"!==e&&"="!==e,e,t);if(r=r.toLowerCase(),t.position<e.length){if(";"===e[t.position])continue;t.position++}if(t.position>e.length)break;let n=null;if('"'===e[t.position])n=C(e,t,!0),d(";",e,t);else if(0===(n=Q(n=d(";",e,t),!1,!0)).length)continue;0!==r.length&&o.test(r)&&(0===n.length||l.test(n))&&!A.parameters.has(r)&&A.parameters.set(r,n)}return A}function p(e){if((e=e.replace(/[\u0009\u000A\u000C\u000D\u0020]/g,"")).length%4==0&&(e=e.replace(/=?=$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return"failure";let t=i(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function C(e,t,r){let i=t.position,s="";for(n('"'===e[t.position]),t.position++;s+=u(e=>'"'!==e&&"\\"!==e,e,t),!(t.position>=e.length);){let r=e[t.position];if(t.position++,"\\"===r){if(t.position>=e.length){s+="\\";break}s+=e[t.position],t.position++}else{n('"'===r);break}}return r?s:e.slice(i,t.position)}function I(e){n("failure"!==e);let{parameters:t,essence:r}=e,i=r;for(let[e,r]of t.entries())i+=";"+e+"=",o.test(r)||(r='"'+(r=r.replace(/(\\|")/g,"\\$1"))+'"'),i+=r;return i}function m(e){return"\r"===e||"\n"===e||"	"===e||" "===e}function Q(e,t=!0,r=!0){let n=0,i=e.length-1;if(t)for(;n<e.length&&m(e[n]);n++);if(r)for(;i>0&&m(e[i]);i--);return e.slice(n,i+1)}function B(e){return"\r"===e||"\n"===e||"	"===e||"\f"===e||" "===e}function y(e,t=!0,r=!0){let n=0,i=e.length-1;if(t)for(;n<e.length&&B(e[n]);n++);if(r)for(;i>0&&B(e[i]);i--);return e.slice(n,i+1)}e.exports={dataURLProcessor:c,URLSerializer:h,collectASequenceOfCodePoints:u,collectASequenceOfCodePointsFast:d,stringPercentDecode:g,parseMIMEType:E,collectAnHTTPQuotedString:C,serializeAMimeType:I}},26198:(e,t,r)=>{"use strict";let{Blob:n,File:i}=r(14300),{types:s}=r(73837),{kState:A}=r(33084),{isBlobLike:o}=r(73138),{webidl:a}=r(37164),{parseMIMEType:l,serializeAMimeType:c}=r(88103),{kEnumerableProperty:h}=r(17906),u=new TextEncoder;class d extends n{constructor(e,t,r={}){let n;a.argumentLengthCheck(arguments,2,{header:"File constructor"}),e=a.converters["sequence<BlobPart>"](e),t=a.converters.USVString(t),r=a.converters.FilePropertyBag(r);let i=t,s=r.type;e:{if(s){if("failure"===(s=l(s))){s="";break e}s=c(s).toLowerCase()}n=r.lastModified}super(f(e,r),{type:s}),this[A]={name:i,lastModified:n,type:s}}get name(){return a.brandCheck(this,d),this[A].name}get lastModified(){return a.brandCheck(this,d),this[A].lastModified}get type(){return a.brandCheck(this,d),this[A].type}}class g{constructor(e,t,r={}){let n=t,i=r.type,s=r.lastModified??Date.now();this[A]={blobLike:e,name:n,type:i,lastModified:s}}stream(...e){return a.brandCheck(this,g),this[A].blobLike.stream(...e)}arrayBuffer(...e){return a.brandCheck(this,g),this[A].blobLike.arrayBuffer(...e)}slice(...e){return a.brandCheck(this,g),this[A].blobLike.slice(...e)}text(...e){return a.brandCheck(this,g),this[A].blobLike.text(...e)}get size(){return a.brandCheck(this,g),this[A].blobLike.size}get type(){return a.brandCheck(this,g),this[A].blobLike.type}get name(){return a.brandCheck(this,g),this[A].name}get lastModified(){return a.brandCheck(this,g),this[A].lastModified}get[Symbol.toStringTag](){return"File"}}function f(e,t){let r=[];for(let n of e)if("string"==typeof n){let e=n;"native"===t.endings&&(e=E(e)),r.push(u.encode(e))}else s.isAnyArrayBuffer(n)||s.isTypedArray(n)?n.buffer?r.push(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)):r.push(new Uint8Array(n)):o(n)&&r.push(n);return r}function E(e){let t="\n";return"win32"===process.platform&&(t="\r\n"),e.replace(/\r?\n/g,t)}function p(e){return i&&e instanceof i||e instanceof d||e&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&"File"===e[Symbol.toStringTag]}Object.defineProperties(d.prototype,{[Symbol.toStringTag]:{value:"File",configurable:!0},name:h,lastModified:h}),a.converters.Blob=a.interfaceConverter(n),a.converters.BlobPart=function(e,t){if("Object"===a.util.Type(e)){if(o(e))return a.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||s.isAnyArrayBuffer(e))return a.converters.BufferSource(e,t)}return a.converters.USVString(e,t)},a.converters["sequence<BlobPart>"]=a.sequenceConverter(a.converters.BlobPart),a.converters.FilePropertyBag=a.dictionaryConverter([{key:"lastModified",converter:a.converters["long long"],get defaultValue(){return Date.now()}},{key:"type",converter:a.converters.DOMString,defaultValue:""},{key:"endings",converter:e=>("native"!==(e=(e=a.converters.DOMString(e)).toLowerCase())&&(e="transparent"),e),defaultValue:"transparent"}]),e.exports={File:d,FileLike:g,isFileLike:p}},35827:(e,t,r)=>{"use strict";let{isBlobLike:n,toUSVString:i,makeIterator:s}=r(73138),{kState:A}=r(33084),{File:o,FileLike:a,isFileLike:l}=r(26198),{webidl:c}=r(37164),{Blob:h,File:u}=r(14300),d=u??o;class g{constructor(e){if(void 0!==e)throw c.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[A]=[]}append(e,t,r){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,2,{header:"FormData.append"}),3==arguments.length&&!n(t))throw TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=c.converters.USVString(e),t=n(t)?c.converters.Blob(t,{strict:!1}):c.converters.USVString(t),r=3==arguments.length?c.converters.USVString(r):void 0;let i=f(e,t,r);this[A].push(i)}delete(e){c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.delete"}),e=c.converters.USVString(e),this[A]=this[A].filter(t=>t.name!==e)}get(e){c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.get"}),e=c.converters.USVString(e);let t=this[A].findIndex(t=>t.name===e);return -1===t?null:this[A][t].value}getAll(e){return c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.getAll"}),e=c.converters.USVString(e),this[A].filter(t=>t.name===e).map(e=>e.value)}has(e){return c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.has"}),e=c.converters.USVString(e),-1!==this[A].findIndex(t=>t.name===e)}set(e,t,r){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,2,{header:"FormData.set"}),3==arguments.length&&!n(t))throw TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=c.converters.USVString(e),t=n(t)?c.converters.Blob(t,{strict:!1}):c.converters.USVString(t),r=3==arguments.length?i(r):void 0;let s=f(e,t,r),o=this[A].findIndex(t=>t.name===e);-1!==o?this[A]=[...this[A].slice(0,o),s,...this[A].slice(o+1).filter(t=>t.name!==e)]:this[A].push(s)}entries(){return c.brandCheck(this,g),s(()=>this[A].map(e=>[e.name,e.value]),"FormData","key+value")}keys(){return c.brandCheck(this,g),s(()=>this[A].map(e=>[e.name,e.value]),"FormData","key")}values(){return c.brandCheck(this,g),s(()=>this[A].map(e=>[e.name,e.value]),"FormData","value")}forEach(e,t=globalThis){if(c.brandCheck(this,g),c.argumentLengthCheck(arguments,1,{header:"FormData.forEach"}),"function"!=typeof e)throw TypeError("Failed to execute 'forEach' on 'FormData': parameter 1 is not of type 'Function'.");for(let[r,n]of this)e.apply(t,[n,r,this])}}function f(e,t,r){if(e=Buffer.from(e).toString("utf8"),"string"==typeof t)t=Buffer.from(t).toString("utf8");else if(l(t)||(t=t instanceof h?new d([t],"blob",{type:t.type}):new a(t,"blob",{type:t.type})),void 0!==r){let e={type:t.type,lastModified:t.lastModified};t=u&&t instanceof u||t instanceof o?new d([t],r,e):new a(t,r,e)}return{name:e,value:t}}g.prototype[Symbol.iterator]=g.prototype.entries,Object.defineProperties(g.prototype,{[Symbol.toStringTag]:{value:"FormData",configurable:!0}}),e.exports={FormData:g}},64792:e=>{"use strict";let t=Symbol.for("undici.globalOrigin.1");function r(){return globalThis[t]}function n(e){if(void 0===e){Object.defineProperty(globalThis,t,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let r=new URL(e);if("http:"!==r.protocol&&"https:"!==r.protocol)throw TypeError(`Only http & https urls are allowed, received ${r.protocol}`);Object.defineProperty(globalThis,t,{value:r,writable:!0,enumerable:!1,configurable:!1})}e.exports={getGlobalOrigin:r,setGlobalOrigin:n}},24656:(e,t,r)=>{"use strict";let{kHeadersList:n,kConstruct:i}=r(75111),{kGuard:s}=r(33084),{kEnumerableProperty:A}=r(17906),{makeIterator:o,isValidHeaderName:a,isValidHeaderValue:l}=r(73138),{webidl:c}=r(37164),h=r(39491),u=Symbol("headers map"),d=Symbol("headers map sorted");function g(e){return 10===e||13===e||9===e||32===e}function f(e){let t=0,r=e.length;for(;r>t&&g(e.charCodeAt(r-1));)--r;for(;r>t&&g(e.charCodeAt(t));)++t;return 0===t&&r===e.length?e:e.substring(t,r)}function E(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(2!==n.length)throw c.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});p(e,n[0],n[1])}else if("object"==typeof t&&null!==t){let r=Object.keys(t);for(let n=0;n<r.length;++n)p(e,r[n],t[r[n]])}else throw c.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function p(e,t,r){if(r=f(r),a(t)){if(!l(r))throw c.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw c.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if("immutable"===e[s])throw TypeError("immutable");return e[s],e[n].append(t,r)}class C{cookies=null;constructor(e){e instanceof C?(this[u]=new Map(e[u]),this[d]=e[d],this.cookies=null===e.cookies?null:[...e.cookies]):(this[u]=new Map(e),this[d]=null)}contains(e){return e=e.toLowerCase(),this[u].has(e)}clear(){this[u].clear(),this[d]=null,this.cookies=null}append(e,t){this[d]=null;let r=e.toLowerCase(),n=this[u].get(r);if(n){let e="cookie"===r?"; ":", ";this[u].set(r,{name:n.name,value:`${n.value}${e}${t}`})}else this[u].set(r,{name:e,value:t});"set-cookie"===r&&(this.cookies??=[],this.cookies.push(t))}set(e,t){this[d]=null;let r=e.toLowerCase();"set-cookie"===r&&(this.cookies=[t]),this[u].set(r,{name:e,value:t})}delete(e){this[d]=null,"set-cookie"===(e=e.toLowerCase())&&(this.cookies=null),this[u].delete(e)}get(e){let t=this[u].get(e.toLowerCase());return void 0===t?null:t.value}*[Symbol.iterator](){for(let[e,{value:t}]of this[u])yield[e,t]}get entries(){let e={};if(this[u].size)for(let{name:t,value:r}of this[u].values())e[t]=r;return e}}class I{constructor(e){if(e===i)return;this[n]=new C,this[s]="none",void 0!==e&&E(this,e=c.converters.HeadersInit(e))}append(e,t){return c.brandCheck(this,I),c.argumentLengthCheck(arguments,2,{header:"Headers.append"}),e=c.converters.ByteString(e),t=c.converters.ByteString(t),p(this,e,t)}delete(e){if(c.brandCheck(this,I),c.argumentLengthCheck(arguments,1,{header:"Headers.delete"}),!a(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if("immutable"===this[s])throw TypeError("immutable");this[s],this[n].contains(e)&&this[n].delete(e)}get(e){if(c.brandCheck(this,I),c.argumentLengthCheck(arguments,1,{header:"Headers.get"}),!a(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.get",value:e,type:"header name"});return this[n].get(e)}has(e){if(c.brandCheck(this,I),c.argumentLengthCheck(arguments,1,{header:"Headers.has"}),!a(e=c.converters.ByteString(e)))throw c.errors.invalidArgument({prefix:"Headers.has",value:e,type:"header name"});return this[n].contains(e)}set(e,t){if(c.brandCheck(this,I),c.argumentLengthCheck(arguments,2,{header:"Headers.set"}),e=c.converters.ByteString(e),t=f(t=c.converters.ByteString(t)),a(e)){if(!l(t))throw c.errors.invalidArgument({prefix:"Headers.set",value:t,type:"header value"})}else throw c.errors.invalidArgument({prefix:"Headers.set",value:e,type:"header name"});if("immutable"===this[s])throw TypeError("immutable");this[s],this[n].set(e,t)}getSetCookie(){c.brandCheck(this,I);let e=this[n].cookies;return e?[...e]:[]}get[d](){if(this[n][d])return this[n][d];let e=[],t=[...this[n]].sort((e,t)=>e[0]<t[0]?-1:1),r=this[n].cookies;for(let n=0;n<t.length;++n){let[i,s]=t[n];if("set-cookie"===i)for(let t=0;t<r.length;++t)e.push([i,r[t]]);else h(null!==s),e.push([i,s])}return this[n][d]=e,e}keys(){if(c.brandCheck(this,I),"immutable"===this[s]){let e=this[d];return o(()=>e,"Headers","key")}return o(()=>[...this[d].values()],"Headers","key")}values(){if(c.brandCheck(this,I),"immutable"===this[s]){let e=this[d];return o(()=>e,"Headers","value")}return o(()=>[...this[d].values()],"Headers","value")}entries(){if(c.brandCheck(this,I),"immutable"===this[s]){let e=this[d];return o(()=>e,"Headers","key+value")}return o(()=>[...this[d].values()],"Headers","key+value")}forEach(e,t=globalThis){if(c.brandCheck(this,I),c.argumentLengthCheck(arguments,1,{header:"Headers.forEach"}),"function"!=typeof e)throw TypeError("Failed to execute 'forEach' on 'Headers': parameter 1 is not of type 'Function'.");for(let[r,n]of this)e.apply(t,[n,r,this])}[Symbol.for("nodejs.util.inspect.custom")](){return c.brandCheck(this,I),this[n]}}I.prototype[Symbol.iterator]=I.prototype.entries,Object.defineProperties(I.prototype,{append:A,delete:A,get:A,has:A,set:A,getSetCookie:A,keys:A,values:A,entries:A,forEach:A,[Symbol.iterator]:{enumerable:!1},[Symbol.toStringTag]:{value:"Headers",configurable:!0}}),c.converters.HeadersInit=function(e){if("Object"===c.util.Type(e))return e[Symbol.iterator]?c.converters["sequence<sequence<ByteString>>"](e):c.converters["record<ByteString, ByteString>"](e);throw c.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})},e.exports={fill:E,Headers:I,HeadersList:C}},79219:(e,t,r)=>{"use strict";let n;let{Response:i,makeNetworkError:s,makeAppropriateNetworkError:A,filterResponse:o,makeResponse:a}=r(84638),{Headers:l}=r(24656),{Request:c,makeRequest:h}=r(36152),u=r(59796),{bytesMatch:d,makePolicyContainer:g,clonePolicyContainer:f,requestBadPort:E,TAOCheck:p,appendRequestOriginHeader:C,responseLocationURL:I,requestCurrentURL:m,setRequestReferrerPolicyOnRedirect:Q,tryUpgradeRequestToAPotentiallyTrustworthyURL:B,createOpaqueTimingInfo:y,appendFetchMetadata:w,corsCheck:b,crossOriginResourcePolicyCheck:v,determineRequestsReferrer:S,coarsenedSharedCurrentTime:D,createDeferredPromise:R,isBlobLike:T,sameOrigin:k,isCancelled:N,isAborted:F,isErrorLike:L,fullyReadBody:M,readableStreamClose:_,isomorphicEncode:U,urlIsLocal:O,urlIsHttpHttpsScheme:x,urlHasHttpsScheme:P}=r(73138),{kState:V,kHeaders:G,kGuard:Y,kRealm:J}=r(33084),H=r(39491),{safelyExtractBody:q}=r(98652),{redirectStatusSet:W,nullBodyStatus:j,safeMethodsSet:z,requestBodyHeader:K,subresourceSet:X,DOMException:Z}=r(93116),{kHeadersList:$}=r(75111),ee=r(82361),{Readable:et,pipeline:er}=r(12781),{addAbortListener:en,isErrored:ei,isReadable:es,nodeMajor:eA,nodeMinor:eo}=r(17906),{dataURLProcessor:ea,serializeAMimeType:el}=r(88103),{TransformStream:ec}=r(35356),{getGlobalDispatcher:eh}=r(96836),{webidl:eu}=r(37164),{STATUS_CODES:ed}=r(13685),eg=["GET","HEAD"],ef=globalThis.ReadableStream;class eE extends ee{constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing",this.setMaxListeners(21)}terminate(e){"ongoing"===this.state&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){"ongoing"===this.state&&(this.state="aborted",e||(e=new Z("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}}function ep(e,t={}){let r;eu.argumentLengthCheck(arguments,1,{header:"globalThis.fetch"});let n=R();try{r=new c(e,t)}catch(e){return n.reject(e),n.promise}let s=r[V];if(r.signal.aborted)return em(n,s,null,r.signal.reason),n.promise;let A=s.client.globalObject;A?.constructor?.name==="ServiceWorkerGlobalScope"&&(s.serviceWorkers="none");let o=null,a=null,l=!1,h=null;en(r.signal,()=>{l=!0,H(null!=h),h.abort(r.signal.reason),em(n,s,o,r.signal.reason)});let u=e=>l?Promise.resolve():e.aborted?(em(n,s,o,h.serializedAbortReason),Promise.resolve()):"error"===e.type?(n.reject(Object.assign(TypeError("fetch failed"),{cause:e.error})),Promise.resolve()):void((o=new i)[V]=e,o[J]=a,o[G][$]=e.headersList,o[G][Y]="immutable",o[G][J]=a,n.resolve(o));return h=eQ({request:s,processResponseEndOfBody:e=>eC(e,"fetch"),processResponse:u,dispatcher:t.dispatcher??eh()}),n.promise}function eC(e,t="other"){if("error"===e.type&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;x(r)&&null!==n&&(e.timingAllowPassed||(n=y({startTime:n.startTime}),i=""),n.endTime=D(),e.timingInfo=n,eI(n,r,t,globalThis,i))}function eI(e,t,r,n,i){(eA>18||18===eA&&eo>=2)&&performance.markResourceTiming(e,t.href,r,n,i)}function em(e,t,r,n){if(n||(n=new Z("The operation was aborted.","AbortError")),e.reject(n),null!=t.body&&es(t.body?.stream)&&t.body.stream.cancel(n).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e}),null==r)return;let i=r[V];null!=i.body&&es(i.body?.stream)&&i.body.stream.cancel(n).catch(e=>{if("ERR_INVALID_STATE"!==e.code)throw e})}function eQ({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:A=!1,dispatcher:o}){let a=null,l=!1;null!=e.client&&(a=e.client.globalObject,l=e.client.crossOriginIsolatedCapability);let c=y({startTime:D(l)}),h={controller:new eE(o),request:e,timingInfo:c,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:a,crossOriginIsolatedCapability:l};if(H(!e.body||e.body.stream),"client"===e.window&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),"client"===e.origin&&(e.origin=e.client?.origin),"client"===e.policyContainer&&(null!=e.client?e.policyContainer=f(e.client.policyContainer):e.policyContainer=g()),!e.headersList.contains("accept")){let t="*/*";e.headersList.append("accept",t)}return e.headersList.contains("accept-language")||e.headersList.append("accept-language","*"),e.priority,X.has(e.destination),eB(h).catch(e=>{h.controller.terminate(e)}),h.controller}async function eB(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!O(m(r))&&(n=s("local URLs only")),B(r),"blocked"===E(r)&&(n=s("bad port")),""===r.referrerPolicy&&(r.referrerPolicy=r.policyContainer.referrerPolicy),"no-referrer"!==r.referrer&&(r.referrer=S(r)),null===n&&(n=await (async()=>{let t=m(r);return k(t,r.url)&&"basic"===r.responseTainting||"data:"===t.protocol||"navigate"===r.mode||"websocket"===r.mode?(r.responseTainting="basic",await ey(e)):"same-origin"===r.mode?s('request mode cannot be "same-origin"'):"no-cors"===r.mode?"follow"!==r.redirect?s('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await ey(e)):x(m(r))?(r.responseTainting="cors",await ev(e)):s("URL scheme must be a HTTP(S) scheme")})()),t)return n;0===n.status||n.internalResponse||(r.responseTainting,"basic"===r.responseTainting?n=o(n,"basic"):"cors"===r.responseTainting?n=o(n,"cors"):"opaque"===r.responseTainting?n=o(n,"opaque"):H(!1));let i=0===n.status?n:n.internalResponse;if(0===i.urlList.length&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),"opaque"===n.type&&206===i.status&&i.rangeRequested&&!r.headers.contains("range")&&(n=i=s()),0!==n.status&&("HEAD"===r.method||"CONNECT"===r.method||j.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let t=t=>eb(e,s(t));if("opaque"===r.responseTainting||null==n.body){t(n.error);return}let i=i=>{if(!d(i,r.integrity)){t("integrity mismatch");return}n.body=q(i)[0],eb(e,n)};await M(n.body,i,t)}else eb(e,n)}function ey(e){if(N(e)&&0===e.request.redirectCount)return Promise.resolve(A(e));let{request:t}=e,{protocol:i}=m(t);switch(i){case"about:":return Promise.resolve(s("about scheme is not supported"));case"blob:":{n||(n=r(14300).resolveObjectURL);let e=m(t);if(0!==e.search.length)return Promise.resolve(s("NetworkError when attempting to fetch resource."));let i=n(e.toString());if("GET"!==t.method||!T(i))return Promise.resolve(s("invalid method"));let A=q(i),o=A[0],l=a({statusText:"OK",headersList:[["content-length",{name:"Content-Length",value:U(`${o.length}`)}],["content-type",{name:"Content-Type",value:A[1]??""}]]});return l.body=o,Promise.resolve(l)}case"data:":{let e=ea(m(t));if("failure"===e)return Promise.resolve(s("failed to fetch the data URL"));return Promise.resolve(a({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:el(e.mimeType)}]],body:q(e.body)[0]}))}case"file:":return Promise.resolve(s("not implemented... yet..."));case"http:":case"https:":return ev(e).catch(e=>s(e));default:return Promise.resolve(s("unknown scheme"))}}function ew(e,t){e.request.done=!0,null!=e.processResponseDone&&queueMicrotask(()=>e.processResponseDone(t))}function eb(e,t){"error"===t.type&&(t.urlList=[e.request.urlList[0]],t.timingInfo=y({startTime:e.timingInfo.startTime}));let r=()=>{e.request.done=!0,null!=e.processResponseEndOfBody&&queueMicrotask(()=>e.processResponseEndOfBody(t))};if(null!=e.processResponse&&queueMicrotask(()=>e.processResponse(t)),null==t.body)r();else{let e=new ec({start(){},transform:(e,t)=>{t.enqueue(e)},flush:r},{size:()=>1},{size:()=>1});t.body={stream:t.body.stream.pipeThrough(e)}}if(null!=e.processResponseConsumeBody){let r=r=>e.processResponseConsumeBody(t,r),n=r=>e.processResponseConsumeBody(t,r);return null!=t.body?M(t.body,r,n):(queueMicrotask(()=>r(null)),Promise.resolve())}}async function ev(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,null===r){if("follow"===t.redirect&&(t.serviceWorkers="none"),n=r=await eD(e),"cors"===t.responseTainting&&"failure"===b(t,r))return s("cors failure");"failure"===p(t,r)&&(t.timingAllowFailed=!0)}return("opaque"===t.responseTainting||"opaque"===r.type)&&"blocked"===v(t.origin,t.client,t.destination,n)?s("blocked"):(W.has(n.status)&&("manual"!==t.redirect&&e.controller.connection.destroy(),"error"===t.redirect?r=s("unexpected redirect"):"manual"===t.redirect?r=n:"follow"===t.redirect?r=await eS(e,r):H(!1)),r.timingInfo=i,r)}function eS(e,t){let r;let n=e.request,i=t.internalResponse?t.internalResponse:t;try{if(r=I(i,m(n).hash),null==r)return t}catch(e){return Promise.resolve(s(e))}if(!x(r))return Promise.resolve(s("URL scheme must be a HTTP(S) scheme"));if(20===n.redirectCount)return Promise.resolve(s("redirect count exceeded"));if(n.redirectCount+=1,"cors"===n.mode&&(r.username||r.password)&&!k(n,r))return Promise.resolve(s('cross origin not allowed for request mode "cors"'));if("cors"===n.responseTainting&&(r.username||r.password))return Promise.resolve(s('URL cannot contain credentials for request mode "cors"'));if(303!==i.status&&null!=n.body&&null==n.body.source)return Promise.resolve(s());if([301,302].includes(i.status)&&"POST"===n.method||303===i.status&&!eg.includes(n.method))for(let e of(n.method="GET",n.body=null,K))n.headersList.delete(e);k(m(n),r)||(n.headersList.delete("authorization"),n.headersList.delete("proxy-authorization",!0),n.headersList.delete("cookie"),n.headersList.delete("host")),null!=n.body&&(H(null!=n.body.source),n.body=q(n.body.source)[0]);let A=e.timingInfo;return A.redirectEndTime=A.postRedirectStartTime=D(e.crossOriginIsolatedCapability),0===A.redirectStartTime&&(A.redirectStartTime=A.startTime),n.urlList.push(r),Q(n,i),eB(e,!0)}async function eD(e,t=!1,r=!1){let n=e.request,i=null,o=null,a=null,l=null,c=!1;"no-window"===n.window&&"error"===n.redirect?(i=e,o=n):(o=h(n),(i={...e}).request=o);let u="include"===n.credentials||"same-origin"===n.credentials&&"basic"===n.responseTainting,d=o.body?o.body.length:null,g=null;if(null==o.body&&["POST","PUT"].includes(o.method)&&(g="0"),null!=d&&(g=U(`${d}`)),null!=g&&o.headersList.append("content-length",g),null!=d&&o.keepalive,o.referrer instanceof URL&&o.headersList.append("referer",U(o.referrer.href)),C(o),w(o),o.headersList.contains("user-agent")||o.headersList.append("user-agent","undefined"==typeof esbuildDetection?"undici":"node"),"default"===o.cache&&(o.headersList.contains("if-modified-since")||o.headersList.contains("if-none-match")||o.headersList.contains("if-unmodified-since")||o.headersList.contains("if-match")||o.headersList.contains("if-range"))&&(o.cache="no-store"),"no-cache"!==o.cache||o.preventNoCacheCacheControlHeaderModification||o.headersList.contains("cache-control")||o.headersList.append("cache-control","max-age=0"),"no-store"!==o.cache&&"reload"!==o.cache||(o.headersList.contains("pragma")||o.headersList.append("pragma","no-cache"),o.headersList.contains("cache-control")||o.headersList.append("cache-control","no-cache")),o.headersList.contains("range")&&o.headersList.append("accept-encoding","identity"),o.headersList.contains("accept-encoding")||(P(m(o))?o.headersList.append("accept-encoding","br, gzip, deflate"):o.headersList.append("accept-encoding","gzip, deflate")),o.headersList.delete("host"),null==l&&(o.cache="no-store"),"no-store"!==o.mode&&o.mode,null==a){if("only-if-cached"===o.mode)return s("only if cached");let e=await eR(i,u,r);!z.has(o.method)&&e.status>=200&&e.status,c&&e.status,null==a&&(a=e)}if(a.urlList=[...o.urlList],o.headersList.contains("range")&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,407===a.status)return"no-window"===n.window?s():N(e)?A(e):s("proxy authentication required");if(421===a.status&&!r&&(null==n.body||null!=n.body.source)){if(N(e))return A(e);e.controller.connection.destroy(),a=await eD(e,t,!0)}return a}async function eR(e,t=!1,n=!1){H(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(e){this.destroyed||(this.destroyed=!0,this.abort?.(e??new Z("The operation was aborted.","AbortError")))}};let i=e.request,o=null,c=e.timingInfo;i.cache="no-store",i.mode;let h=null;if(null==i.body&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(null!=i.body){let t=async function*(t){N(e)||(yield t,e.processRequestBodyChunkLength?.(t.byteLength))},r=()=>{!N(e)&&e.processRequestEndOfBody&&e.processRequestEndOfBody()},n=t=>{N(e)||("AbortError"===t.name?e.controller.abort():e.controller.terminate(t))};h=async function*(){try{for await(let e of i.body.stream)yield*t(e);r()}catch(e){n(e)}}()}try{let{body:t,status:r,statusText:n,headersList:i,socket:s}=await p({body:h});if(s)o=a({status:r,statusText:n,headersList:i,socket:s});else{let s=t[Symbol.asyncIterator]();e.controller.next=()=>s.next(),o=a({status:r,statusText:n,headersList:i})}}catch(t){if("AbortError"===t.name)return e.controller.connection.destroy(),A(e,t);return s(t)}let d=()=>{e.controller.resume()},g=t=>{e.controller.abort(t)};ef||(ef=r(35356).ReadableStream);let f=new ef({async start(t){e.controller.controller=t},async pull(e){await d(e)},async cancel(e){await g(e)}},{highWaterMark:0,size:()=>1});function E(t){F(e)?(o.aborted=!0,es(f)&&e.controller.controller.error(e.controller.serializedAbortReason)):es(f)&&e.controller.controller.error(TypeError("terminated",{cause:L(t)?t:void 0})),e.controller.connection.destroy()}return o.body={stream:f},e.controller.on("terminated",E),e.controller.resume=async()=>{for(;;){let t,r;try{let{done:r,value:n}=await e.controller.next();if(F(e))break;t=r?void 0:n}catch(n){e.controller.ended&&!c.encodedBodySize?t=void 0:(t=n,r=!0)}if(void 0===t){_(e.controller.controller),ew(e,o);return}if(c.decodedBodySize+=t?.byteLength??0,r){e.controller.terminate(t);return}if(e.controller.controller.enqueue(new Uint8Array(t)),ei(f)){e.controller.terminate();return}if(!e.controller.controller.desiredSize)return}},o;async function p({body:t}){let r=m(i),n=e.controller.dispatcher;return new Promise((s,A)=>n.dispatch({path:r.pathname+r.search,origin:r.origin,method:i.method,body:e.controller.dispatcher.isMockActive?i.body&&(i.body.source||i.body.stream):t,headers:i.headersList.entries,maxRedirections:0,upgrade:"websocket"===i.mode?"websocket":void 0},{body:null,abort:null,onConnect(t){let{connection:r}=e.controller;r.destroyed?t(new Z("The operation was aborted.","AbortError")):(e.controller.on("terminated",t),this.abort=r.abort=t)},onHeaders(e,t,r,n){if(e<200)return;let A=[],o="",a=new l;if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let r=t[e+0].toString("latin1"),n=t[e+1].toString("latin1");"content-encoding"===r.toLowerCase()?A=n.toLowerCase().split(",").map(e=>e.trim()):"location"===r.toLowerCase()&&(o=n),a[$].append(r,n)}else for(let e of Object.keys(t)){let r=t[e];"content-encoding"===e.toLowerCase()?A=r.toLowerCase().split(",").map(e=>e.trim()).reverse():"location"===e.toLowerCase()&&(o=r),a[$].append(e,r)}this.body=new et({read:r});let c=[],h="follow"===i.redirect&&o&&W.has(e);if("HEAD"!==i.method&&"CONNECT"!==i.method&&!j.includes(e)&&!h)for(let e of A)if("x-gzip"===e||"gzip"===e)c.push(u.createGunzip({flush:u.constants.Z_SYNC_FLUSH,finishFlush:u.constants.Z_SYNC_FLUSH}));else if("deflate"===e)c.push(u.createInflate());else if("br"===e)c.push(u.createBrotliDecompress());else{c.length=0;break}return s({status:e,statusText:n,headersList:a[$],body:c.length?er(this.body,...c,()=>{}):this.body.on("error",()=>{})}),!0},onData(t){if(e.controller.dump)return;let r=t;return c.encodedBodySize+=r.byteLength,this.body.push(r)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.ended=!0,this.body.push(null)},onError(t){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(t),e.controller.terminate(t),A(t)},onUpgrade(e,t,r){if(101!==e)return;let n=new l;for(let e=0;e<t.length;e+=2){let r=t[e+0].toString("latin1"),i=t[e+1].toString("latin1");n[$].append(r,i)}return s({status:e,statusText:ed[e],headersList:n[$],socket:r}),!0}}))}}e.exports={fetch:ep,Fetch:eE,fetching:eQ,finalizeAndReportTiming:eC}},36152:(e,t,r)=>{"use strict";let{extractBody:n,mixinBody:i,cloneBody:s}=r(98652),{Headers:A,fill:o,HeadersList:a}=r(24656),{FinalizationRegistry:l}=r(34687)(),c=r(17906),{isValidHTTPToken:h,sameOrigin:u,normalizeMethod:d,makePolicyContainer:g,normalizeMethodRecord:f}=r(73138),{forbiddenMethodsSet:E,corsSafeListedMethodsSet:p,referrerPolicy:C,requestRedirect:I,requestMode:m,requestCredentials:Q,requestCache:B,requestDuplex:y}=r(93116),{kEnumerableProperty:w}=c,{kHeaders:b,kSignal:v,kState:S,kGuard:D,kRealm:R}=r(33084),{webidl:T}=r(37164),{getGlobalOrigin:k}=r(64792),{URLSerializer:N}=r(88103),{kHeadersList:F,kConstruct:L}=r(75111),M=r(39491),{getMaxListeners:_,setMaxListeners:U,getEventListeners:O,defaultMaxListeners:x}=r(82361),P=globalThis.TransformStream,V=Symbol("abortController"),G=new l(({signal:e,abort:t})=>{e.removeEventListener("abort",t)});class Y{constructor(e,t={}){let i;if(e===L)return;T.argumentLengthCheck(arguments,1,{header:"Request constructor"}),e=T.converters.RequestInfo(e),t=T.converters.RequestInit(t),this[R]={settingsObject:{baseUrl:k(),get origin(){return this.baseUrl?.origin},policyContainer:g()}};let s=null,l=null,C=this[R].settingsObject.baseUrl,I=null;if("string"==typeof e){let t;try{t=new URL(e,C)}catch(t){throw TypeError("Failed to parse URL from "+e,{cause:t})}if(t.username||t.password)throw TypeError("Request cannot be constructed from a URL that includes credentials: "+e);s=J({urlList:[t]}),l="cors"}else M(e instanceof Y),s=e[S],I=e[v];let m=this[R].settingsObject.origin,Q="client";if(s.window?.constructor?.name==="EnvironmentSettingsObject"&&u(s.window,m)&&(Q=s.window),null!=t.window)throw TypeError(`'window' option '${Q}' must be null`);"window"in t&&(Q="no-window"),s=J({method:s.method,headersList:s.headersList,unsafeRequest:s.unsafeRequest,client:this[R].settingsObject,window:Q,priority:s.priority,origin:s.origin,referrer:s.referrer,referrerPolicy:s.referrerPolicy,mode:s.mode,credentials:s.credentials,cache:s.cache,redirect:s.redirect,integrity:s.integrity,keepalive:s.keepalive,reloadNavigation:s.reloadNavigation,historyNavigation:s.historyNavigation,urlList:[...s.urlList]});let B=0!==Object.keys(t).length;if(B&&("navigate"===s.mode&&(s.mode="same-origin"),s.reloadNavigation=!1,s.historyNavigation=!1,s.origin="client",s.referrer="client",s.referrerPolicy="",s.url=s.urlList[s.urlList.length-1],s.urlList=[s.url]),void 0!==t.referrer){let e=t.referrer;if(""===e)s.referrer="no-referrer";else{let t;try{t=new URL(e,C)}catch(t){throw TypeError(`Referrer "${e}" is not a valid URL.`,{cause:t})}"about:"===t.protocol&&"client"===t.hostname||m&&!u(t,this[R].settingsObject.baseUrl)?s.referrer="client":s.referrer=t}}if(void 0!==t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),"navigate"===(i=void 0!==t.mode?t.mode:l))throw T.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(null!=i&&(s.mode=i),void 0!==t.credentials&&(s.credentials=t.credentials),void 0!==t.cache&&(s.cache=t.cache),"only-if-cached"===s.cache&&"same-origin"!==s.mode)throw TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(void 0!==t.redirect&&(s.redirect=t.redirect),null!=t.integrity&&(s.integrity=String(t.integrity)),void 0!==t.keepalive&&(s.keepalive=!!t.keepalive),void 0!==t.method){let e=t.method;if(!h(e))throw TypeError(`'${e}' is not a valid HTTP method.`);if(E.has(e.toUpperCase()))throw TypeError(`'${e}' HTTP method is unsupported.`);e=f[e]??d(e),s.method=e}void 0!==t.signal&&(I=t.signal),this[S]=s;let y=new AbortController;if(this[v]=y.signal,this[v][R]=this[R],null!=I){if(!I||"boolean"!=typeof I.aborted||"function"!=typeof I.addEventListener)throw TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(I.aborted)y.abort(I.reason);else{this[V]=y;let e=new WeakRef(y),t=function(){let t=e.deref();void 0!==t&&t.abort(this.reason)};try{"function"==typeof _&&_(I)===x?U(100,I):O(I,"abort").length>=x&&U(100,I)}catch{}c.addAbortListener(I,t),G.register(y,{signal:I,abort:t})}}if(this[b]=new A(L),this[b][F]=s.headersList,this[b][D]="request",this[b][R]=this[R],"no-cors"===i){if(!p.has(s.method))throw TypeError(`'${s.method} is unsupported in no-cors mode.`);this[b][D]="request-no-cors"}if(B){let e=this[b][F],r=void 0!==t.headers?t.headers:new a(e);if(e.clear(),r instanceof a){for(let[t,n]of r)e.append(t,n);e.cookies=r.cookies}else o(this[b],r)}let w=e instanceof Y?e[S].body:null;if((null!=t.body||null!=w)&&("GET"===s.method||"HEAD"===s.method))throw TypeError("Request with GET/HEAD method cannot have body.");let N=null;if(null!=t.body){let[e,r]=n(t.body,s.keepalive);N=e,r&&!this[b][F].contains("content-type")&&this[b].append("content-type",r)}let H=N??w;if(null!=H&&null==H.source){if(null!=N&&null==t.duplex)throw TypeError("RequestInit: duplex option is required when sending a body.");if("same-origin"!==s.mode&&"cors"!==s.mode)throw TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');s.useCORSPreflightFlag=!0}let q=H;if(null==N&&null!=w){if(c.isDisturbed(w.stream)||w.stream.locked)throw TypeError("Cannot construct a Request with a Request object that has already been used.");P||(P=r(35356).TransformStream);let e=new P;w.stream.pipeThrough(e),q={source:w.source,length:w.length,stream:e.readable}}this[S].body=q}get method(){return T.brandCheck(this,Y),this[S].method}get url(){return T.brandCheck(this,Y),N(this[S].url)}get headers(){return T.brandCheck(this,Y),this[b]}get destination(){return T.brandCheck(this,Y),this[S].destination}get referrer(){return(T.brandCheck(this,Y),"no-referrer"===this[S].referrer)?"":"client"===this[S].referrer?"about:client":this[S].referrer.toString()}get referrerPolicy(){return T.brandCheck(this,Y),this[S].referrerPolicy}get mode(){return T.brandCheck(this,Y),this[S].mode}get credentials(){return this[S].credentials}get cache(){return T.brandCheck(this,Y),this[S].cache}get redirect(){return T.brandCheck(this,Y),this[S].redirect}get integrity(){return T.brandCheck(this,Y),this[S].integrity}get keepalive(){return T.brandCheck(this,Y),this[S].keepalive}get isReloadNavigation(){return T.brandCheck(this,Y),this[S].reloadNavigation}get isHistoryNavigation(){return T.brandCheck(this,Y),this[S].historyNavigation}get signal(){return T.brandCheck(this,Y),this[v]}get body(){return T.brandCheck(this,Y),this[S].body?this[S].body.stream:null}get bodyUsed(){return T.brandCheck(this,Y),!!this[S].body&&c.isDisturbed(this[S].body.stream)}get duplex(){return T.brandCheck(this,Y),"half"}clone(){if(T.brandCheck(this,Y),this.bodyUsed||this.body?.locked)throw TypeError("unusable");let e=H(this[S]),t=new Y(L);t[S]=e,t[R]=this[R],t[b]=new A(L),t[b][F]=e.headersList,t[b][D]=this[b][D],t[b][R]=this[b][R];let r=new AbortController;return this.signal.aborted?r.abort(this.signal.reason):c.addAbortListener(this.signal,()=>{r.abort(this.signal.reason)}),t[v]=r.signal,t}}function J(e){let t={method:"GET",localURLsOnly:!1,unsafeRequest:!1,body:null,client:null,reservedClient:null,replacesClientId:"",window:"client",keepalive:!1,serviceWorkers:"all",initiator:"",destination:"",priority:null,origin:"client",policyContainer:"client",referrer:"client",referrerPolicy:"",mode:"no-cors",useCORSPreflightFlag:!1,credentials:"same-origin",useCredentials:!1,cache:"default",redirect:"follow",integrity:"",cryptoGraphicsNonceMetadata:"",parserMetadata:"",reloadNavigation:!1,historyNavigation:!1,userActivation:!1,taintedOrigin:!1,redirectCount:0,responseTainting:"basic",preventNoCacheCacheControlHeaderModification:!1,done:!1,timingAllowFailed:!1,...e,headersList:e.headersList?new a(e.headersList):new a};return t.url=t.urlList[0],t}function H(e){let t=J({...e,body:null});return null!=e.body&&(t.body=s(e.body)),t}i(Y),Object.defineProperties(Y.prototype,{method:w,url:w,headers:w,redirect:w,clone:w,signal:w,duplex:w,destination:w,body:w,bodyUsed:w,isHistoryNavigation:w,isReloadNavigation:w,keepalive:w,integrity:w,cache:w,credentials:w,attribute:w,referrerPolicy:w,referrer:w,mode:w,[Symbol.toStringTag]:{value:"Request",configurable:!0}}),T.converters.Request=T.interfaceConverter(Y),T.converters.RequestInfo=function(e){return"string"==typeof e?T.converters.USVString(e):e instanceof Y?T.converters.Request(e):T.converters.USVString(e)},T.converters.AbortSignal=T.interfaceConverter(AbortSignal),T.converters.RequestInit=T.dictionaryConverter([{key:"method",converter:T.converters.ByteString},{key:"headers",converter:T.converters.HeadersInit},{key:"body",converter:T.nullableConverter(T.converters.BodyInit)},{key:"referrer",converter:T.converters.USVString},{key:"referrerPolicy",converter:T.converters.DOMString,allowedValues:C},{key:"mode",converter:T.converters.DOMString,allowedValues:m},{key:"credentials",converter:T.converters.DOMString,allowedValues:Q},{key:"cache",converter:T.converters.DOMString,allowedValues:B},{key:"redirect",converter:T.converters.DOMString,allowedValues:I},{key:"integrity",converter:T.converters.DOMString},{key:"keepalive",converter:T.converters.boolean},{key:"signal",converter:T.nullableConverter(e=>T.converters.AbortSignal(e,{strict:!1}))},{key:"window",converter:T.converters.any},{key:"duplex",converter:T.converters.DOMString,allowedValues:y}]),e.exports={Request:Y,makeRequest:J}},84638:(e,t,r)=>{"use strict";let{Headers:n,HeadersList:i,fill:s}=r(24656),{extractBody:A,cloneBody:o,mixinBody:a}=r(98652),l=r(17906),{kEnumerableProperty:c}=l,{isValidReasonPhrase:h,isCancelled:u,isAborted:d,isBlobLike:g,serializeJavascriptValueToJSONString:f,isErrorLike:E,isomorphicEncode:p}=r(73138),{redirectStatusSet:C,nullBodyStatus:I,DOMException:m}=r(93116),{kState:Q,kHeaders:B,kGuard:y,kRealm:w}=r(33084),{webidl:b}=r(37164),{FormData:v}=r(35827),{getGlobalOrigin:S}=r(64792),{URLSerializer:D}=r(88103),{kHeadersList:R,kConstruct:T}=r(75111),k=r(39491),{types:N}=r(73837),F=globalThis.ReadableStream||r(35356).ReadableStream,L=new TextEncoder("utf-8");class M{static error(){let e={settingsObject:{}},t=new M;return t[Q]=O(),t[w]=e,t[B][R]=t[Q].headersList,t[B][y]="immutable",t[B][w]=e,t}static json(e,t={}){b.argumentLengthCheck(arguments,1,{header:"Response.json"}),null!==t&&(t=b.converters.ResponseInit(t));let r=A(L.encode(f(e))),n={settingsObject:{}},i=new M;return i[w]=n,i[B][y]="response",i[B][w]=n,G(i,t,{body:r[0],type:"application/json"}),i}static redirect(e,t=302){let r;let n={settingsObject:{}};b.argumentLengthCheck(arguments,1,{header:"Response.redirect"}),e=b.converters.USVString(e),t=b.converters["unsigned short"](t);try{r=new URL(e,S())}catch(t){throw Object.assign(TypeError("Failed to parse URL from "+e),{cause:t})}if(!C.has(t))throw RangeError("Invalid status code "+t);let i=new M;i[w]=n,i[B][y]="immutable",i[B][w]=n,i[Q].status=t;let s=p(D(r));return i[Q].headersList.append("location",s),i}constructor(e=null,t={}){null!==e&&(e=b.converters.BodyInit(e)),t=b.converters.ResponseInit(t),this[w]={settingsObject:{}},this[Q]=U({}),this[B]=new n(T),this[B][y]="response",this[B][R]=this[Q].headersList,this[B][w]=this[w];let r=null;if(null!=e){let[t,n]=A(e);r={body:t,type:n}}G(this,t,r)}get type(){return b.brandCheck(this,M),this[Q].type}get url(){b.brandCheck(this,M);let e=this[Q].urlList,t=e[e.length-1]??null;return null===t?"":D(t,!0)}get redirected(){return b.brandCheck(this,M),this[Q].urlList.length>1}get status(){return b.brandCheck(this,M),this[Q].status}get ok(){return b.brandCheck(this,M),this[Q].status>=200&&this[Q].status<=299}get statusText(){return b.brandCheck(this,M),this[Q].statusText}get headers(){return b.brandCheck(this,M),this[B]}get body(){return b.brandCheck(this,M),this[Q].body?this[Q].body.stream:null}get bodyUsed(){return b.brandCheck(this,M),!!this[Q].body&&l.isDisturbed(this[Q].body.stream)}clone(){if(b.brandCheck(this,M),this.bodyUsed||this.body&&this.body.locked)throw b.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=_(this[Q]),t=new M;return t[Q]=e,t[w]=this[w],t[B][R]=e.headersList,t[B][y]=this[B][y],t[B][w]=this[B][w],t}}function _(e){if(e.internalResponse)return P(_(e.internalResponse),e.type);let t=U({...e,body:null});return null!=e.body&&(t.body=o(e.body)),t}function U(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e.headersList?new i(e.headersList):new i,urlList:e.urlList?[...e.urlList]:[]}}function O(e){return U({type:"error",status:0,error:E(e)?e:Error(e?String(e):e),aborted:e&&"AbortError"===e.name})}function x(e,t){return t={internalResponse:e,...t},new Proxy(e,{get:(e,r)=>r in t?t[r]:e[r],set:(e,r,n)=>(k(!(r in t)),e[r]=n,!0)})}function P(e,t){return"basic"===t?x(e,{type:"basic",headersList:e.headersList}):"cors"===t?x(e,{type:"cors",headersList:e.headersList}):"opaque"===t?x(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null}):"opaqueredirect"===t?x(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null}):void k(!1)}function V(e,t=null){return k(u(e)),d(e)?O(Object.assign(new m("The operation was aborted.","AbortError"),{cause:t})):O(Object.assign(new m("Request was cancelled."),{cause:t}))}function G(e,t,r){if(null!==t.status&&(t.status<200||t.status>599))throw RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&null!=t.statusText&&!h(String(t.statusText)))throw TypeError("Invalid statusText");if("status"in t&&null!=t.status&&(e[Q].status=t.status),"statusText"in t&&null!=t.statusText&&(e[Q].statusText=t.statusText),"headers"in t&&null!=t.headers&&s(e[B],t.headers),r){if(I.includes(e.status))throw b.errors.exception({header:"Response constructor",message:"Invalid response status code "+e.status});e[Q].body=r.body,null==r.type||e[Q].headersList.contains("Content-Type")||e[Q].headersList.append("content-type",r.type)}}a(M),Object.defineProperties(M.prototype,{type:c,url:c,status:c,ok:c,redirected:c,statusText:c,headers:c,clone:c,body:c,bodyUsed:c,[Symbol.toStringTag]:{value:"Response",configurable:!0}}),Object.defineProperties(M,{json:c,redirect:c,error:c}),b.converters.ReadableStream=b.interfaceConverter(F),b.converters.FormData=b.interfaceConverter(v),b.converters.URLSearchParams=b.interfaceConverter(URLSearchParams),b.converters.XMLHttpRequestBodyInit=function(e){return"string"==typeof e?b.converters.USVString(e):g(e)?b.converters.Blob(e,{strict:!1}):N.isArrayBuffer(e)||N.isTypedArray(e)||N.isDataView(e)?b.converters.BufferSource(e):l.isFormDataLike(e)?b.converters.FormData(e,{strict:!1}):e instanceof URLSearchParams?b.converters.URLSearchParams(e):b.converters.DOMString(e)},b.converters.BodyInit=function(e){return e instanceof F?b.converters.ReadableStream(e):e?.[Symbol.asyncIterator]?e:b.converters.XMLHttpRequestBodyInit(e)},b.converters.ResponseInit=b.dictionaryConverter([{key:"status",converter:b.converters["unsigned short"],defaultValue:200},{key:"statusText",converter:b.converters.ByteString,defaultValue:""},{key:"headers",converter:b.converters.HeadersInit}]),e.exports={makeNetworkError:O,makeResponse:U,makeAppropriateNetworkError:V,filterResponse:P,Response:M,cloneResponse:_}},33084:e=>{"use strict";e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kGuard:Symbol("guard"),kRealm:Symbol("realm")}},73138:(e,t,r)=>{"use strict";let n;let{redirectStatusSet:i,referrerPolicySet:s,badPortsSet:A}=r(93116),{getGlobalOrigin:o}=r(64792),{performance:a}=r(4074),{isBlobLike:l,toUSVString:c,ReadableStreamFrom:h}=r(17906),u=r(39491),{isUint8Array:d}=r(29830),g=[];try{n=r(6113);let e=["sha256","sha384","sha512"];g=n.getHashes().filter(t=>e.includes(t))}catch{}function f(e){let t=e.urlList,r=t.length;return 0===r?null:t[r-1].toString()}function E(e,t){if(!i.has(e.status))return null;let r=e.headersList.get("location");return null!==r&&w(r)&&(r=new URL(r,f(e))),r&&!r.hash&&(r.hash=t),r}function p(e){return e.urlList[e.urlList.length-1]}function C(e){let t=p(e);return eh(t)&&A.has(t.port)?"blocked":"allowed"}function I(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}function m(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(9===r||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}function Q(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}function B(e){if(0===e.length)return!1;for(let t=0;t<e.length;++t)if(!Q(e.charCodeAt(t)))return!1;return!0}function y(e){return B(e)}function w(e){return!(e.startsWith("	")||e.startsWith(" ")||e.endsWith("	")||e.endsWith(" ")||e.includes("\x00")||e.includes("\r")||e.includes("\n"))}function b(e,t){let{headersList:r}=t,n=(r.get("referrer-policy")??"").split(","),i="";if(n.length>0)for(let e=n.length;0!==e;e--){let t=n[e-1].trim();if(s.has(t)){i=t;break}}""!==i&&(e.referrerPolicy=i)}function v(){return"allowed"}function S(){return"success"}function D(){return"success"}function R(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t)}function T(e){let t=e.origin;if("cors"===e.responseTainting||"websocket"===e.mode)t&&e.headersList.append("origin",t);else if("GET"!==e.method&&"HEAD"!==e.method){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&ec(e.origin)&&!ec(p(e))&&(t=null);break;case"same-origin":H(e,p(e))||(t=null)}t&&e.headersList.append("origin",t)}}function k(e){return a.now()}function N(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function F(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function L(e){return{referrerPolicy:e.referrerPolicy}}function M(e){let t=e.referrerPolicy;u(t);let r=null;if("client"===e.referrer){let e=o();if(!e||"null"===e.origin)return"no-referrer";r=new URL(e)}else e.referrer instanceof URL&&(r=e.referrer);let n=_(r),i=_(r,!0);n.toString().length>4096&&(n=i);let s=H(e,n),A=U(n)&&!U(e.url);switch(t){case"origin":return null!=i?i:_(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let t=p(e);if(H(n,t))return n;if(U(n)&&!U(t))return"no-referrer";return i}default:return A?"no-referrer":i}}function _(e,t){return(u(e instanceof URL),"file:"===e.protocol||"about:"===e.protocol||"blank:"===e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}function U(e){if(!(e instanceof URL))return!1;if("about:blank"===e.href||"about:srcdoc"===e.href||"data:"===e.protocol||"file:"===e.protocol)return!0;return t(e.origin);function t(e){if(null==e||"null"===e)return!1;let t=new URL(e);return!!("https:"===t.protocol||"wss:"===t.protocol||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(t.hostname)||"localhost"===t.hostname||t.hostname.includes("localhost.")||t.hostname.endsWith(".localhost"))}}function O(e,t){if(void 0===n)return!0;let r=P(t);if("no metadata"===r||0===r.length)return!0;let i=V(r);for(let t of G(r,i)){let r=t.algo,i=t.hash,s=n.createHash(r).update(e).digest("base64");if("="===s[s.length-1]&&(s="="===s[s.length-2]?s.slice(0,-2):s.slice(0,-1)),Y(s,i))return!0}return!1}let x=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function P(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let e=x.exec(n);if(null===e||void 0===e.groups||void 0===e.groups.algo)continue;let i=e.groups.algo.toLowerCase();g.includes(i)&&t.push(e.groups)}return!0===r?"no metadata":t}function V(e){let t=e[0].algo;if("5"===t[3])return t;for(let r=1;r<e.length;++r){let n=e[r];if("5"===n.algo[3]){t="sha512";break}"3"!==t[3]&&"3"===n.algo[3]&&(t="sha384")}return t}function G(e,t){if(1===e.length)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}function Y(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if("+"===e[r]&&"-"===t[r]||"/"===e[r]&&"_"===t[r])continue;return!1}return!0}function J(e){}function H(e,t){return e.origin===t.origin&&"null"===e.origin||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}function q(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}function W(e){return"aborted"===e.controller.state}function j(e){return"aborted"===e.controller.state||"terminated"===e.controller.state}let z={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"};function K(e){return z[e.toLowerCase()]??e}function X(e){let t=JSON.stringify(e);if(void 0===t)throw TypeError("Value is not JSON serializable");return u("string"==typeof t),t}Object.setPrototypeOf(z,null);let Z=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function $(e,t,r){let n={index:0,kind:r,target:e},i={next(){if(Object.getPrototypeOf(this)!==i)throw TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let{index:e,kind:r,target:s}=n,A=s();if(e>=A.length)return{value:void 0,done:!0};let o=A[e];return n.index=e+1,ee(o,r)},[Symbol.toStringTag]:`${t} Iterator`};return Object.setPrototypeOf(i,Z),Object.setPrototypeOf({},i)}function ee(e,t){let r;switch(t){case"key":r=e[0];break;case"value":r=e[1];break;case"key+value":r=e}return{value:r,done:!1}}async function et(e,t,r){let n;let i=t,s=r;try{n=e.stream.getReader()}catch(e){s(e);return}try{let e=await ea(n);i(e)}catch(e){s(e)}}let er=globalThis.ReadableStream;function en(e){return er||(er=r(35356).ReadableStream),e instanceof er||"ReadableStream"===e[Symbol.toStringTag]&&"function"==typeof e.tee}let ei=65535;function es(e){return e.length<ei?String.fromCharCode(...e):e.reduce((e,t)=>e+String.fromCharCode(t),"")}function eA(e){try{e.close()}catch(e){if(!e.message.includes("Controller is already closed"))throw e}}function eo(e){for(let t=0;t<e.length;t++)u(255>=e.charCodeAt(t));return e}async function ea(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!d(i))throw TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}function el(e){u("protocol"in e);let t=e.protocol;return"about:"===t||"blob:"===t||"data:"===t}function ec(e){return"string"==typeof e?e.startsWith("https:"):"https:"===e.protocol}function eh(e){u("protocol"in e);let t=e.protocol;return"http:"===t||"https:"===t}let eu=Object.hasOwn||((e,t)=>Object.prototype.hasOwnProperty.call(e,t));e.exports={isAborted:W,isCancelled:j,createDeferredPromise:q,ReadableStreamFrom:h,toUSVString:c,tryUpgradeRequestToAPotentiallyTrustworthyURL:J,coarsenedSharedCurrentTime:k,determineRequestsReferrer:M,makePolicyContainer:F,clonePolicyContainer:L,appendFetchMetadata:R,appendRequestOriginHeader:T,TAOCheck:D,corsCheck:S,crossOriginResourcePolicyCheck:v,createOpaqueTimingInfo:N,setRequestReferrerPolicyOnRedirect:b,isValidHTTPToken:B,requestBadPort:C,requestCurrentURL:p,responseURL:f,responseLocationURL:E,isBlobLike:l,isURLPotentiallyTrustworthy:U,isValidReasonPhrase:m,sameOrigin:H,normalizeMethod:K,serializeJavascriptValueToJSONString:X,makeIterator:$,isValidHeaderName:y,isValidHeaderValue:w,hasOwn:eu,isErrorLike:I,fullyReadBody:et,bytesMatch:O,isReadableStreamLike:en,readableStreamClose:eA,isomorphicEncode:eo,isomorphicDecode:es,urlIsLocal:el,urlHasHttpsScheme:ec,urlIsHttpHttpsScheme:eh,readAllBytes:ea,normalizeMethodRecord:z,parseMetadata:P}},37164:(e,t,r)=>{"use strict";let{types:n}=r(73837),{hasOwn:i,toUSVString:s}=r(73138),A={};A.converters={},A.util={},A.errors={},A.errors.exception=function(e){return TypeError(`${e.header}: ${e.message}`)},A.errors.conversionFailed=function(e){let t=1===e.types.length?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return A.errors.exception({header:e.prefix,message:r})},A.errors.invalidArgument=function(e){return A.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})},A.brandCheck=function(e,t,r){if(r?.strict===!1||e instanceof t)return e?.[Symbol.toStringTag]===t.prototype[Symbol.toStringTag];throw TypeError("Illegal invocation")},A.argumentLengthCheck=function({length:e},t,r){if(e<t)throw A.errors.exception({message:`${t} argument${1!==t?"s":""} required, but${e?" only":""} ${e} found.`,...r})},A.illegalConstructor=function(){throw A.errors.exception({header:"TypeError",message:"Illegal constructor"})},A.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":if(null===e)return"Null";return"Object"}},A.util.ConvertToInt=function(e,t,r,n={}){let i,s;64===t?(i=9007199254740991,s="unsigned"===r?0:-9007199254740991):"unsigned"===r?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let o=Number(e);if(0===o&&(o=0),!0===n.enforceRange){if(Number.isNaN(o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)throw A.errors.exception({header:"Integer conversion",message:`Could not convert ${e} to an integer.`});if((o=A.util.IntegerPart(o))<s||o>i)throw A.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${o}.`});return o}return Number.isNaN(o)||!0!==n.clamp?Number.isNaN(o)||0===o&&Object.is(0,o)||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY?0:(o=A.util.IntegerPart(o)%Math.pow(2,t),"signed"===r&&o>=Math.pow(2,t)-1)?o-Math.pow(2,t):o:o=Math.floor(o=Math.min(Math.max(o,s),i))%2==0?Math.floor(o):Math.ceil(o)},A.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t},A.sequenceConverter=function(e){return t=>{if("Object"!==A.util.Type(t))throw A.errors.exception({header:"Sequence",message:`Value of type ${A.util.Type(t)} is not an Object.`});let r=t?.[Symbol.iterator]?.(),n=[];if(void 0===r||"function"!=typeof r.next)throw A.errors.exception({header:"Sequence",message:"Object is not an iterator."});for(;;){let{done:t,value:i}=r.next();if(t)break;n.push(e(i))}return n}},A.recordConverter=function(e,t){return r=>{if("Object"!==A.util.Type(r))throw A.errors.exception({header:"Record",message:`Value of type ${A.util.Type(r)} is not an Object.`});let i={};if(!n.isProxy(r)){for(let n of Object.keys(r)){let s=e(n),A=t(r[n]);i[s]=A}return i}for(let n of Reflect.ownKeys(r)){let s=Reflect.getOwnPropertyDescriptor(r,n);if(s?.enumerable){let s=e(n),A=t(r[n]);i[s]=A}}return i}},A.interfaceConverter=function(e){return(t,r={})=>{if(!1!==r.strict&&!(t instanceof e))throw A.errors.exception({header:e.name,message:`Expected ${t} to be an instance of ${e.name}.`});return t}},A.dictionaryConverter=function(e){return t=>{let r=A.util.Type(t),n={};if("Null"===r||"Undefined"===r)return n;if("Object"!==r)throw A.errors.exception({header:"Dictionary",message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let r of e){let{key:e,defaultValue:s,required:o,converter:a}=r;if(!0===o&&!i(t,e))throw A.errors.exception({header:"Dictionary",message:`Missing required key "${e}".`});let l=t[e],c=i(r,"defaultValue");if(c&&null!==l&&(l=l??s),o||c||void 0!==l){if(l=a(l),r.allowedValues&&!r.allowedValues.includes(l))throw A.errors.exception({header:"Dictionary",message:`${l} is not an accepted type. Expected one of ${r.allowedValues.join(", ")}.`});n[e]=l}}return n}},A.nullableConverter=function(e){return t=>null===t?t:e(t)},A.converters.DOMString=function(e,t={}){if(null===e&&t.legacyNullToEmptyString)return"";if("symbol"==typeof e)throw TypeError("Could not convert argument of type symbol to string.");return String(e)},A.converters.ByteString=function(e){let t=A.converters.DOMString(e);for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw TypeError(`Cannot convert argument to a ByteString because the character at index ${e} has a value of ${t.charCodeAt(e)} which is greater than 255.`);return t},A.converters.USVString=s,A.converters.boolean=function(e){return!!e},A.converters.any=function(e){return e},A.converters["long long"]=function(e){return A.util.ConvertToInt(e,64,"signed")},A.converters["unsigned long long"]=function(e){return A.util.ConvertToInt(e,64,"unsigned")},A.converters["unsigned long"]=function(e){return A.util.ConvertToInt(e,32,"unsigned")},A.converters["unsigned short"]=function(e,t){return A.util.ConvertToInt(e,16,"unsigned",t)},A.converters.ArrayBuffer=function(e,t={}){if("Object"!==A.util.Type(e)||!n.isAnyArrayBuffer(e))throw A.errors.conversionFailed({prefix:`${e}`,argument:`${e}`,types:["ArrayBuffer"]});if(!1===t.allowShared&&n.isSharedArrayBuffer(e))throw A.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},A.converters.TypedArray=function(e,t,r={}){if("Object"!==A.util.Type(e)||!n.isTypedArray(e)||e.constructor.name!==t.name)throw A.errors.conversionFailed({prefix:`${t.name}`,argument:`${e}`,types:[t.name]});if(!1===r.allowShared&&n.isSharedArrayBuffer(e.buffer))throw A.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},A.converters.DataView=function(e,t={}){if("Object"!==A.util.Type(e)||!n.isDataView(e))throw A.errors.exception({header:"DataView",message:"Object is not a DataView."});if(!1===t.allowShared&&n.isSharedArrayBuffer(e.buffer))throw A.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});return e},A.converters.BufferSource=function(e,t={}){if(n.isAnyArrayBuffer(e))return A.converters.ArrayBuffer(e,t);if(n.isTypedArray(e))return A.converters.TypedArray(e,e.constructor);if(n.isDataView(e))return A.converters.DataView(e,t);throw TypeError(`Could not convert ${e} to a BufferSource.`)},A.converters["sequence<ByteString>"]=A.sequenceConverter(A.converters.ByteString),A.converters["sequence<sequence<ByteString>>"]=A.sequenceConverter(A.converters["sequence<ByteString>"]),A.converters["record<ByteString, ByteString>"]=A.recordConverter(A.converters.ByteString,A.converters.ByteString),e.exports={webidl:A}},12534:e=>{"use strict";function t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}e.exports={getEncoding:t}},23760:(e,t,r)=>{"use strict";let{staticPropertyDescriptors:n,readOperation:i,fireAProgressEvent:s}=r(39872),{kState:A,kError:o,kResult:a,kEvents:l,kAborted:c}=r(90798),{webidl:h}=r(37164),{kEnumerableProperty:u}=r(17906);class d extends EventTarget{constructor(){super(),this[A]="empty",this[a]=null,this[o]=null,this[l]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){h.brandCheck(this,d),h.argumentLengthCheck(arguments,1,{header:"FileReader.readAsArrayBuffer"}),i(this,e=h.converters.Blob(e,{strict:!1}),"ArrayBuffer")}readAsBinaryString(e){h.brandCheck(this,d),h.argumentLengthCheck(arguments,1,{header:"FileReader.readAsBinaryString"}),i(this,e=h.converters.Blob(e,{strict:!1}),"BinaryString")}readAsText(e,t){h.brandCheck(this,d),h.argumentLengthCheck(arguments,1,{header:"FileReader.readAsText"}),e=h.converters.Blob(e,{strict:!1}),void 0!==t&&(t=h.converters.DOMString(t)),i(this,e,"Text",t)}readAsDataURL(e){h.brandCheck(this,d),h.argumentLengthCheck(arguments,1,{header:"FileReader.readAsDataURL"}),i(this,e=h.converters.Blob(e,{strict:!1}),"DataURL")}abort(){if("empty"===this[A]||"done"===this[A]){this[a]=null;return}"loading"===this[A]&&(this[A]="done",this[a]=null),this[c]=!0,s("abort",this),"loading"!==this[A]&&s("loadend",this)}get readyState(){switch(h.brandCheck(this,d),this[A]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return h.brandCheck(this,d),this[a]}get error(){return h.brandCheck(this,d),this[o]}get onloadend(){return h.brandCheck(this,d),this[l].loadend}set onloadend(e){h.brandCheck(this,d),this[l].loadend&&this.removeEventListener("loadend",this[l].loadend),"function"==typeof e?(this[l].loadend=e,this.addEventListener("loadend",e)):this[l].loadend=null}get onerror(){return h.brandCheck(this,d),this[l].error}set onerror(e){h.brandCheck(this,d),this[l].error&&this.removeEventListener("error",this[l].error),"function"==typeof e?(this[l].error=e,this.addEventListener("error",e)):this[l].error=null}get onloadstart(){return h.brandCheck(this,d),this[l].loadstart}set onloadstart(e){h.brandCheck(this,d),this[l].loadstart&&this.removeEventListener("loadstart",this[l].loadstart),"function"==typeof e?(this[l].loadstart=e,this.addEventListener("loadstart",e)):this[l].loadstart=null}get onprogress(){return h.brandCheck(this,d),this[l].progress}set onprogress(e){h.brandCheck(this,d),this[l].progress&&this.removeEventListener("progress",this[l].progress),"function"==typeof e?(this[l].progress=e,this.addEventListener("progress",e)):this[l].progress=null}get onload(){return h.brandCheck(this,d),this[l].load}set onload(e){h.brandCheck(this,d),this[l].load&&this.removeEventListener("load",this[l].load),"function"==typeof e?(this[l].load=e,this.addEventListener("load",e)):this[l].load=null}get onabort(){return h.brandCheck(this,d),this[l].abort}set onabort(e){h.brandCheck(this,d),this[l].abort&&this.removeEventListener("abort",this[l].abort),"function"==typeof e?(this[l].abort=e,this.addEventListener("abort",e)):this[l].abort=null}}d.EMPTY=d.prototype.EMPTY=0,d.LOADING=d.prototype.LOADING=1,d.DONE=d.prototype.DONE=2,Object.defineProperties(d.prototype,{EMPTY:n,LOADING:n,DONE:n,readAsArrayBuffer:u,readAsBinaryString:u,readAsText:u,readAsDataURL:u,abort:u,readyState:u,result:u,error:u,onloadstart:u,onprogress:u,onload:u,onabort:u,onerror:u,onloadend:u,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(d,{EMPTY:n,LOADING:n,DONE:n}),e.exports={FileReader:d}},74104:(e,t,r)=>{"use strict";let{webidl:n}=r(37164),i=Symbol("ProgressEvent state");class s extends Event{constructor(e,t={}){super(e=n.converters.DOMString(e),t=n.converters.ProgressEventInit(t??{})),this[i]={lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}get lengthComputable(){return n.brandCheck(this,s),this[i].lengthComputable}get loaded(){return n.brandCheck(this,s),this[i].loaded}get total(){return n.brandCheck(this,s),this[i].total}}n.converters.ProgressEventInit=n.dictionaryConverter([{key:"lengthComputable",converter:n.converters.boolean,defaultValue:!1},{key:"loaded",converter:n.converters["unsigned long long"],defaultValue:0},{key:"total",converter:n.converters["unsigned long long"],defaultValue:0},{key:"bubbles",converter:n.converters.boolean,defaultValue:!1},{key:"cancelable",converter:n.converters.boolean,defaultValue:!1},{key:"composed",converter:n.converters.boolean,defaultValue:!1}]),e.exports={ProgressEvent:s}},90798:e=>{"use strict";e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}},39872:(e,t,r)=>{"use strict";let{kState:n,kError:i,kResult:s,kAborted:A,kLastProgressEventFired:o}=r(90798),{ProgressEvent:a}=r(74104),{getEncoding:l}=r(12534),{DOMException:c}=r(93116),{serializeAMimeType:h,parseMIMEType:u}=r(88103),{types:d}=r(73837),{StringDecoder:g}=r(71576),{btoa:f}=r(14300),E={enumerable:!0,writable:!1,configurable:!1};function p(e,t,r,a){if("loading"===e[n])throw new c("Invalid state","InvalidStateError");e[n]="loading",e[s]=null,e[i]=null;let l=t.stream().getReader(),h=[],u=l.read(),g=!0;(async()=>{for(;!e[A];)try{let{done:c,value:f}=await u;if(g&&!e[A]&&queueMicrotask(()=>{C("loadstart",e)}),g=!1,!c&&d.isUint8Array(f))h.push(f),(void 0===e[o]||Date.now()-e[o]>=50)&&!e[A]&&(e[o]=Date.now(),queueMicrotask(()=>{C("progress",e)})),u=l.read();else if(c){queueMicrotask(()=>{e[n]="done";try{let n=I(h,r,t.type,a);if(e[A])return;e[s]=n,C("load",e)}catch(t){e[i]=t,C("error",e)}"loading"!==e[n]&&C("loadend",e)});break}}catch(t){if(e[A])return;queueMicrotask(()=>{e[n]="done",e[i]=t,C("error",e),"loading"!==e[n]&&C("loadend",e)});break}})()}function C(e,t){let r=new a(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}function I(e,t,r,n){switch(t){case"DataURL":{let t="data:",n=u(r||"application/octet-stream");"failure"!==n&&(t+=h(n)),t+=";base64,";let i=new g("latin1");for(let r of e)t+=f(i.write(r));return t+f(i.end())}case"Text":{let t="failure";if(n&&(t=l(n)),"failure"===t&&r){let e=u(r);"failure"!==e&&(t=l(e.parameters.get("charset")))}return"failure"===t&&(t="UTF-8"),m(e,t)}case"ArrayBuffer":return B(e).buffer;case"BinaryString":{let t="",r=new g("latin1");for(let n of e)t+=r.write(n);return t+r.end()}}}function m(e,t){let r=B(e),n=Q(r),i=0;null!==n&&(t=n,i="UTF-8"===n?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}function Q(e){let[t,r,n]=e;return 239===t&&187===r&&191===n?"UTF-8":254===t&&255===r?"UTF-16BE":255===t&&254===r?"UTF-16LE":null}function B(e){let t=e.reduce((e,t)=>e+t.byteLength,0),r=0;return e.reduce((e,t)=>(e.set(t,r),r+=t.byteLength,e),new Uint8Array(t))}e.exports={staticPropertyDescriptors:E,readOperation:p,fireAProgressEvent:C}},96836:(e,t,r)=>{"use strict";let n=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:i}=r(56888),s=r(72931);function A(e){if(!e||"function"!=typeof e.dispatch)throw new i("Argument agent must implement Agent");Object.defineProperty(globalThis,n,{value:e,writable:!0,enumerable:!1,configurable:!1})}function o(){return globalThis[n]}void 0===o()&&A(new s),e.exports={setGlobalDispatcher:A,getGlobalDispatcher:o}},32308:e=>{"use strict";e.exports=class{constructor(e){this.handler=e}onConnect(...e){return this.handler.onConnect(...e)}onError(...e){return this.handler.onError(...e)}onUpgrade(...e){return this.handler.onUpgrade(...e)}onHeaders(...e){return this.handler.onHeaders(...e)}onData(...e){return this.handler.onData(...e)}onComplete(...e){return this.handler.onComplete(...e)}onBodySent(...e){return this.handler.onBodySent(...e)}}},29788:(e,t,r)=>{"use strict";let n=r(17906),{kBodyUsed:i}=r(75111),s=r(39491),{InvalidArgumentError:A}=r(56888),o=r(82361),a=[300,301,302,303,307,308],l=Symbol("body");class c{constructor(e){this[l]=e,this[i]=!1}async *[Symbol.asyncIterator](){s(!this[i],"disturbed"),this[i]=!0,yield*this[l]}}class h{constructor(e,t,r,a){if(null!=t&&(!Number.isInteger(t)||t<0))throw new A("maxRedirections must be a positive number");n.validateHandler(a,r.method,r.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...r,maxRedirections:0},this.maxRedirections=t,this.handler=a,this.history=[],n.isStream(this.opts.body)?(0===n.bodyLength(this.opts.body)&&this.opts.body.on("data",function(){s(!1)}),"boolean"!=typeof this.opts.body.readableDidRead&&(this.opts.body[i]=!1,o.prototype.on.call(this.opts.body,"data",function(){this[i]=!0}))):this.opts.body&&"function"==typeof this.opts.body.pipeTo?this.opts.body=new c(this.opts.body):this.opts.body&&"string"!=typeof this.opts.body&&!ArrayBuffer.isView(this.opts.body)&&n.isIterable(this.opts.body)&&(this.opts.body=new c(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,t,r){this.handler.onUpgrade(e,t,r)}onError(e){this.handler.onError(e)}onHeaders(e,t,r,i){if(this.location=this.history.length>=this.maxRedirections||n.isDisturbed(this.opts.body)?null:u(e,t),this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,t,r,i);let{origin:s,pathname:A,search:o}=n.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),a=o?`${A}${o}`:A;this.opts.headers=g(this.opts.headers,303===e,this.opts.origin!==s),this.opts.path=a,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,303===e&&"HEAD"!==this.opts.method&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}}function u(e,t){if(-1===a.indexOf(e))return null;for(let e=0;e<t.length;e+=2)if("location"===t[e].toString().toLowerCase())return t[e+1]}function d(e,t,r){if(4===e.length)return"host"===n.headerNameToString(e);if(t&&n.headerNameToString(e).startsWith("content-"))return!0;if(r&&(13===e.length||6===e.length||19===e.length)){let t=n.headerNameToString(e);return"authorization"===t||"cookie"===t||"proxy-authorization"===t}return!1}function g(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)d(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&"object"==typeof e)for(let i of Object.keys(e))d(i,t,r)||n.push(i,e[i]);else s(null==e,"headers must be an object or an array");return n}e.exports=h},19186:(e,t,r)=>{let n=r(39491),{kRetryHandlerDefaultRetry:i}=r(75111),{RequestRetryError:s}=r(56888),{isDisturbed:A,parseHeaders:o,parseRangeHeader:a}=r(17906);function l(e){let t=Date.now();return new Date(e).getTime()-t}class c{constructor(e,t){let{retryOptions:r,...n}=e,{retry:s,maxRetries:A,maxTimeout:o,minTimeout:a,timeoutFactor:l,methods:h,errorCodes:u,retryAfter:d,statusCodes:g}=r??{};this.dispatch=t.dispatch,this.handler=t.handler,this.opts=n,this.abort=null,this.aborted=!1,this.retryOpts={retry:s??c[i],retryAfter:d??!0,maxTimeout:o??3e4,timeout:a??500,timeoutFactor:l??2,maxRetries:A??5,methods:h??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:g??[500,502,503,504,429],errorCodes:u??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE"]},this.retryCount=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(e=>{this.aborted=!0,this.abort?this.abort(e):this.reason=e})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,t,r){this.handler.onUpgrade&&this.handler.onUpgrade(e,t,r)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[i](e,{state:t,opts:r},n){let{statusCode:i,code:s,headers:A}=e,{method:o,retryOptions:a}=r,{maxRetries:c,timeout:h,maxTimeout:u,timeoutFactor:d,statusCodes:g,errorCodes:f,methods:E}=a,{counter:p,currentTimeout:C}=t;if(C=null!=C&&C>0?C:h,s&&"UND_ERR_REQ_RETRY"!==s&&"UND_ERR_SOCKET"!==s&&!f.includes(s)||Array.isArray(E)&&!E.includes(o)||null!=i&&Array.isArray(g)&&!g.includes(i)||p>c){n(e);return}let I=null!=A&&A["retry-after"];I&&(I=isNaN(I=Number(I))?l(I):1e3*I);let m=I>0?Math.min(I,u):Math.min(C*d**p,u);t.currentTimeout=m,setTimeout(()=>n(null),m)}onHeaders(e,t,r,i){let A=o(t);if(this.retryCount+=1,e>=300)return this.abort(new s("Request failed",e,{headers:A,count:this.retryCount})),!1;if(null!=this.resume){if(this.resume=null,206!==e)return!0;let t=a(A["content-range"]);if(!t)return this.abort(new s("Content-Range mismatch",e,{headers:A,count:this.retryCount})),!1;if(null!=this.etag&&this.etag!==A.etag)return this.abort(new s("ETag mismatch",e,{headers:A,count:this.retryCount})),!1;let{start:i,size:o,end:l=o}=t;return n(this.start===i,"content-range mismatch"),n(null==this.end||this.end===l,"content-range mismatch"),this.resume=r,!0}if(null==this.end){if(206===e){let s=a(A["content-range"]);if(null==s)return this.handler.onHeaders(e,t,r,i);let{start:o,size:l,end:c=l}=s;n(null!=o&&Number.isFinite(o)&&this.start!==o,"content-range mismatch"),n(Number.isFinite(o)),n(null!=c&&Number.isFinite(c)&&this.end!==c,"invalid content-length"),this.start=o,this.end=c}if(null==this.end){let e=A["content-length"];this.end=null!=e?Number(e):null}return n(Number.isFinite(this.start)),n(null==this.end||Number.isFinite(this.end),"invalid content-length"),this.resume=r,this.etag=null!=A.etag?A.etag:null,this.handler.onHeaders(e,t,r,i)}let l=new s("Request failed",e,{headers:A,count:this.retryCount});return this.abort(l),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||A(this.opts.body))return this.handler.onError(e);function t(e){if(null!=e||this.aborted||A(this.opts.body))return this.handler.onError(e);0!==this.start&&(this.opts={...this.opts,headers:{...this.opts.headers,range:`bytes=${this.start}-${this.end??""}`}});try{this.dispatch(this.opts,this)}catch(e){this.handler.onError(e)}}this.retryOpts.retry(e,{state:{counter:this.retryCount++,currentTimeout:this.retryAfter},opts:{retryOptions:this.retryOpts,...this.opts}},t.bind(this))}}e.exports=c},60374:(e,t,r)=>{"use strict";let n=r(29788);function i({maxRedirections:e}){return t=>function(r,i){let{maxRedirections:s=e}=r;if(!s)return t(r,i);let A=new n(t,s,r,i);return t(r={...r,maxRedirections:0},A)}}e.exports=i},89833:(e,t,r)=>{"use strict";var n,i,s,A,o,a,l;Object.defineProperty(t,"__esModule",{value:!0}),t.SPECIAL_HEADERS=t.HEADER_STATE=t.MINOR=t.MAJOR=t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS=t.TOKEN=t.STRICT_TOKEN=t.HEX=t.URL_CHAR=t.STRICT_URL_CHAR=t.USERINFO_CHARS=t.MARK=t.ALPHANUM=t.NUM=t.HEX_MAP=t.NUM_MAP=t.ALPHA=t.FINISH=t.H_METHOD_MAP=t.METHOD_MAP=t.METHODS_RTSP=t.METHODS_ICE=t.METHODS_HTTP=t.METHODS=t.LENIENT_FLAGS=t.FLAGS=t.TYPE=t.ERROR=void 0;let c=r(3219);(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(n=t.ERROR||(t.ERROR={})),function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"}(i=t.TYPE||(t.TYPE={})),function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"}(s=t.FLAGS||(t.FLAGS={})),function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"}(A=t.LENIENT_FLAGS||(t.LENIENT_FLAGS={})),function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"}(o=t.METHODS||(t.METHODS={})),t.METHODS_HTTP=[o.DELETE,o.GET,o.HEAD,o.POST,o.PUT,o.CONNECT,o.OPTIONS,o.TRACE,o.COPY,o.LOCK,o.MKCOL,o.MOVE,o.PROPFIND,o.PROPPATCH,o.SEARCH,o.UNLOCK,o.BIND,o.REBIND,o.UNBIND,o.ACL,o.REPORT,o.MKACTIVITY,o.CHECKOUT,o.MERGE,o["M-SEARCH"],o.NOTIFY,o.SUBSCRIBE,o.UNSUBSCRIBE,o.PATCH,o.PURGE,o.MKCALENDAR,o.LINK,o.UNLINK,o.PRI,o.SOURCE],t.METHODS_ICE=[o.SOURCE],t.METHODS_RTSP=[o.OPTIONS,o.DESCRIBE,o.ANNOUNCE,o.SETUP,o.PLAY,o.PAUSE,o.TEARDOWN,o.GET_PARAMETER,o.SET_PARAMETER,o.REDIRECT,o.RECORD,o.FLUSH,o.GET,o.POST],t.METHOD_MAP=c.enumToMap(o),t.H_METHOD_MAP={},Object.keys(t.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(t.H_METHOD_MAP[e]=t.METHOD_MAP[e])}),function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"}(a=t.FINISH||(t.FINISH={})),t.ALPHA=[];for(let e=65;e<=90;e++)t.ALPHA.push(String.fromCharCode(e)),t.ALPHA.push(String.fromCharCode(e+32));t.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},t.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},t.NUM=["0","1","2","3","4","5","6","7","8","9"],t.ALPHANUM=t.ALPHA.concat(t.NUM),t.MARK=["-","_",".","!","~","*","'","(",")"],t.USERINFO_CHARS=t.ALPHANUM.concat(t.MARK).concat(["%",";",":","&","=","+","$",","]),t.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(t.ALPHANUM),t.URL_CHAR=t.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)t.URL_CHAR.push(e);t.HEX=t.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]),t.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(t.ALPHANUM),t.TOKEN=t.STRICT_TOKEN.concat([" "]),t.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)127!==e&&t.HEADER_CHARS.push(e);t.CONNECTION_TOKEN_CHARS=t.HEADER_CHARS.filter(e=>44!==e),t.MAJOR=t.NUM_MAP,t.MINOR=t.MAJOR,function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"}(l=t.HEADER_STATE||(t.HEADER_STATE={})),t.SPECIAL_HEADERS={connection:l.CONNECTION,"content-length":l.CONTENT_LENGTH,"proxy-connection":l.CONNECTION,"transfer-encoding":l.TRANSFER_ENCODING,upgrade:l.UPGRADE}},35903:e=>{e.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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ADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEHdATYCHEEAC3sBAX8CQCAAKAIMIgMNAAJAIAAoAgRFDQAgACABNgIECwJAIAAgASACEMSAgIAAIgMNACAAKAIMDwsgACADNgIcQQAhAyAAKAIEIgFFDQAgACABIAIgACgCCBGBgICAAAAiAUUNACAAIAI2AhQgACABNgIMIAEhAwsgAwvk8wEDDn8DfgR/I4CAgIAAQRBrIgMkgICAgAAgASEEIAEhBSABIQYgASEHIAEhCCABIQkgASEKIAEhCyABIQwgASENIAEhDiABIQ8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCHCIQQX9qDt0B2gEB2QECAwQFBgcICQoLDA0O2AEPENcBERLWARMUFRYXGBkaG+AB3wEcHR7VAR8gISIjJCXUASYnKCkqKyzTAdIBLS7RAdABLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVG2wFHSElKzwHOAUvNAUzMAU1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4ABgQGCAYMBhAGFAYYBhwGIAYkB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QAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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FCAAIBA2AgxBACEQDLIBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxNCyAAQdMANgIcIAAgATYCFCAAIBA2AgxBACEQDLEBCyAAKAIEIRAgAEEANgIEAkAgACAQIAEQp4CAgAAiEA0AIAEhAQxRCyAAQeUANgIcIAAgATYCFCAAIBA2AgxBACEQDLABCyAAQQA2AhwgACABNgIUIABBxoqAgAA2AhAgAEEHNgIMQQAhEAyvAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHSADYCHCAAIAE2AhQgACAQNgIMQQAhEAyuAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMSQsgAEHTADYCHCAAIAE2AhQgACAQNgIMQQAhEAytAQsgACgCBCEQIABBADYCBAJAIAAgECABEKeAgIAAIhANACABIQEMTQsgAEHlADYCHCAAIAE2AhQgACAQNgIMQQAhEAysAQsgAEEANgIcIAAgATYCFCAAQdyIgIAANgIQIABBBzYCDEEAIRAMqwELIBBBP0cNASABQQFqIQELQQUhEAyQAQtBACEQIABBADYCHCAAIAE2AhQgAEH9koCAADYCECAAQQc2AgwMqAELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0gA2AhwgACABNgIUIAAgEDYCDEEAIRAMpwELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEILIABB0wA2AhwgACABNgIUIAAgEDYCDEEAIRAMpgELIAAoAgQhECAAQQA2AgQCQCAAIBAgARCngICAACIQDQAgASEBDEYLIABB5QA2AhwgACABNgIUIAAgEDYCDEEAIRAMpQELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0gA2AhwgACAUNgIUIAAgATYCDEEAIRAMpAELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDD8LIABB0wA2AhwgACAUNgIUIAAgATYCDEEAIRAMowELIAAoAgQhASAAQQA2AgQCQCAAIAEgFBCngICAACIBDQAgFCEBDEMLIABB5QA2AhwgACAU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YWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABEdXBsaWNhdGUgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyIGluIHVybCBwYXRoAENvbnRlbnQtTGVuZ3RoIGNhbid0IGJlIHByZXNlbnQgd2l0aCBUcmFuc2Zlci1FbmNvZGluZwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBzaXplAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX3ZhbHVlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgdmFsdWUATWlzc2luZyBleHBlY3RlZCBMRiBhZnRlciBoZWFkZXIgdmFsdWUASW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fbmFtZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIG5hbWUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAXhMAACYTAAAwEAAA8BcAAJ0TAAAVEgAAORcAAPASAAAKEAAAdRIAAK0SAACCEwAATxQAAH8QAACgFQAAIxQAAIkSAACLFAAATRUAANQRAADPFAAAEBgAAMkWAADcFgAAwREAAOAXAAC7FAAAdBQAAHwVAADlFAAACBcAAB8QAABlFQAAoxQAACgVAAACFQAAmRUAACwQAACLGQAATw8AANQOAABqEAAAzhAAAAIXAACJDgAAbhMAABwTAABmFAAAVhcAAMETAADNEwAAbBMAAGgXAABmFwAAXxcAACITAADODwAAaQ4AANgOAABjFgAAyxMAAKoOAAAoFwAAJhcAAMUTAABdFgAA6BEAAGcTAABlEwAA8hYAAHMTAAAdFwAA+RYAAPMRAADPDgAAzhUAAAwSAACzEQAApREAAGEQAAAyFwAAuxMAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIDAgICAgIAAAICAAICAAICAgICAgICAgIABAAAAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAACAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbG9zZWVlcC1hbGl2ZQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AAAAAAAAAAAAAAAAAAAByYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AAAAAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQIAAQMAAAAAAAAAAAAAAAAAAAAAAAAEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAAAAQAAAgAAAAAAAAAAAAAAAAAAAAAAAAMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAIAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABOT1VOQ0VFQ0tPVVRORUNURVRFQ1JJQkVMVVNIRVRFQURTRUFSQ0hSR0VDVElWSVRZTEVOREFSVkVPVElGWVBUSU9OU0NIU0VBWVNUQVRDSEdFT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8="},27823:e=>{e.exports="AGFzbQEAAAABMAhgAX8Bf2ADf39/AX9gBH9/f38Bf2AAAGADf39/AGABfwBgAn9/AGAGf39/f39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQACA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAA0ZFAwMEAAAFAAAAAAAABQEFAAUFBQAABgAAAAAGBgYGAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAABAQcAAAUFAwABBAUBcAESEgUDAQACBggBfwFBgNQECwfRBSIGbWVtb3J5AgALX2luaXRpYWxpemUACRlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQAChhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUAQQxsbGh0dHBfYWxsb2MADAZtYWxsb2MARgtsbGh0dHBfZnJlZQANBGZyZWUASA9sbGh0dHBfZ2V0X3R5cGUADhVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADxVsbGh0dHBfZ2V0X2h0dHBfbWlub3IAEBFsbGh0dHBfZ2V0X21ldGhvZAARFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAEhJsbGh0dHBfZ2V0X3VwZ3JhZGUAEwxsbGh0dHBfcmVzZXQAFA5sbGh0dHBfZXhlY3V0ZQAVFGxsaHR0cF9zZXR0aW5nc19pbml0ABYNbGxodHRwX2ZpbmlzaAAXDGxsaHR0cF9wYXVzZQAYDWxsaHR0cF9yZXN1bWUAGRtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGhBsbGh0dHBfZ2V0X2Vycm5vABsXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AHBdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAdFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB4RbGxodHRwX2Vycm5vX25hbWUAHxJsbGh0dHBfbWV0aG9kX25hbWUAIBJs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IAH9CwMAIABBMGogAf0LAwAgAEEgaiAB/QsDACAAQd0BNgIcQQALewEBfwJAIAAoAgwiAw0AAkAgACgCBEUNACAAIAE2AgQLAkAgACABIAIQxICAgAAiAw0AIAAoAgwPCyAAIAM2AhxBACEDIAAoAgQiAUUNACAAIAEgAiAAKAIIEYGAgIAAACIBRQ0AIAAgAjYCFCAAIAE2AgwgASEDCyADC+TzAQMOfwN+BH8jgICAgABBEGsiAySAgICAACABIQQgASEFIAEhBiABIQcgASEIIAEhCSABIQogASELIAEhDCABIQ0gASEOIAEhDwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIcIhBBf2oO3QHaAQHZAQIDBAUGBwgJCgsMDQ7YAQ8Q1wEREtYBExQVFhcYGRob4AHfARwdHtUBHyAhIiMkJdQBJicoKSorLNMB0gEtLtEB0AEvMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUbbAUdISUrPAc4BS80BTMwBTU5PUFFSU1RVVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AcsBygG4AckBuQHIAboBuwG8Ab0BvgG/AcABwQHCAcMBxAHFAcYBANwBC0EAIRAMxgELQQ4hEAzFAQtBDSEQDMQBC0EPIRAMwwELQRAhEAzCAQtBEyEQDMEBC0EUIRAMwAELQRUhEAy/AQtBFiEQDL4BC0EXIRAMvQELQRghEAy8AQtBGSEQDLsBC0EaIRAMugELQRshEAy5AQtBHCEQDLgBC0EIIRAMtwELQR0hEAy2AQtBICEQDLUBC0EfIRAMtAELQQchEAyzAQtBISEQDLIBC0EiIRAMsQELQR4hEAywAQtBIyEQDK8BC0ESIRAMrgELQREhEAytAQtBJCEQDKwBC0ElIRAMqwELQSYhEAyqAQtBJyEQDKkBC0HDASEQDKgBC0EpIRAMpwELQSshEAymAQtBLCEQDKUBC0EtIRAMpAELQS4hEAyjAQtBLyEQDKIBC0HEASEQDKEBC0EwIRAMoAELQTQhEAyfAQtBDCEQDJ4BC0ExIRAMnQELQTIhEAycAQtBMyEQDJsBC0E5IRAMmgELQTUhEAyZAQtBxQEhEAyYAQtBCyEQDJcBC0E6IRAMlgELQTYhEAyVAQtBCiEQDJQBC0E3IRAMkwELQTghEAySAQtBPCEQDJEBC0E7IRAMkAELQT0hEAyPAQtBCSEQDI4BC0EoIRAMjQELQT4hEAyMAQtBPyEQDIsBC0HAACEQDIoBC0HBACEQDIkBC0HCACEQDIgBC0HDACEQDIcBC0HEACEQDIYBC0HFACEQDIUBC0HGACEQDIQBC0EqIRAMgwELQccAIRAMggELQcgAIRAMgQELQckAIRAMgAELQcoAIRAMfwtBywAhEAx+C0HNACEQDH0LQcwAIRAMfAtBzgAhEAx7C0HPACEQDHoLQdAAIRAMeQtB0QAhEAx4C0HSACEQDHcLQdMAIRAMdgtB1AAhEAx1C0HWACEQDHQLQdUAIRAMcwtBBiEQDHILQdcAIRAMcQtBBSEQDHALQdgAIRAMbwtBBCEQDG4LQdkAIRAMbQtB2gAhEAxsC0HbACEQDGsLQdwAIRAMagtBAyEQDGkLQd0AIRAMaAtB3gAhEAxnC0HfACEQDGYLQeEAIRAMZQtB4AAhEAxkC0HiACEQDGMLQeMAIRAMYgtBAiEQDGELQeQAIRAMYAtB5QAhEAxfC0HmACEQDF4LQecAIRAMXQtB6AAhEAxcC0HpACEQDFsLQeoAIRAMWgtB6wAhEAxZC0HsACEQDFgLQe0AIRAMVwtB7gAhEAxWC0HvACEQDFULQfAAIRAMVAtB8QAhEAxTC0HyACEQDFILQfMAIRAMUQtB9AAhEAxQC0H1ACEQDE8LQfYAIRAMTgtB9wAhEAxNC0H4ACEQDEwLQfkAIRAMSwtB+gAhEAxKC0H7ACEQDEkLQfwAIRAMSAtB/QAhEAxHC0H+ACEQDEYLQf8AIRAMRQtBgAEhEAxEC0GBASEQDEMLQYIBIRAMQgtBgwEhEAxBC0GEASEQDEALQYUBIRAMPwtBhgEhEAw+C0GHASEQDD0LQYgBIRAMPAtBiQEhEAw7C0GKASEQDDoLQYsBIRAMOQtBjAEhEAw4C0GNASEQDDcLQY4BIRAMNgtBjwEhEAw1C0GQASEQDDQLQZEBIRAMMwtBkgEhEAwyC0GTASEQDDELQZQBIRAMMAtBlQEhEAwvC0GWASEQDC4LQZcBIRAMLQtBmAEhEAwsC0GZASEQDCsLQZoBIRAMKgtBmwEhEAwpC0GcASEQDCgLQZ0BIRAMJwtBngEhEAwmC0GfASEQDCULQaABIRAMJAtBoQEhEAwjC0GiASEQDCILQaMBIRAMIQtBpAEhEAwgC0GlASEQDB8LQaYBIRAMHgtBpwEhEAwdC0GoASEQDBwLQakBIRAMGwtBqgEhEAwaC0GrASEQDBkLQawBIRAMGAtBrQEhEAwXC0GuASEQDBYLQQEhEAwVC0GvASEQDBQLQbABIRAMEwtBsQEhEAwSC0GzASEQDBELQbIBIRAMEAtBtAEhEAwPC0G1ASEQDA4LQbYBIRAMDQtBtwEhEAwMC0G4ASEQDAsLQbkBIRAMCgtBugEhEAwJC0G7ASEQDAgLQcYBIRAMBwtBvAEhEAwGC0G9ASEQDAULQb4BIRAMBAtBvwEhEAwDC0HAASEQDAILQcIBIRAMAQtBwQEhEAsDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIBAOxwEAAQID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YWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsb3NlZWVwLWFsaXZlAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgAAAAAAAAAAAAAAAAAAAHJhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KDQpTTQ0KDQpUVFAvQ0UvVFNQLwAAAAAAAAAAAAAAAAECAAEDAAAAAAAAAAAAAAAAAAAAAAAABAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAAAAAAAAAABAgABAwAAAAAAAAAAAAAAAAAAAAAAAAQBAQUBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAAAAAAAAAABAAACAAAAAAAAAAAAAAAAAAAAAAAAAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAgAAAAACAAAAAAAAAAAAAAAAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw=="},3219:(e,t)=>{"use strict";function r(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];"number"==typeof n&&(t[r]=n)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.enumToMap=void 0,t.enumToMap=r},91552:(e,t,r)=>{"use strict";let{kClients:n}=r(75111),i=r(72931),{kAgent:s,kMockAgentSet:A,kMockAgentGet:o,kDispatches:a,kIsMockActive:l,kNetConnect:c,kGetNetConnect:h,kOptions:u,kFactory:d}=r(58148),g=r(52410),f=r(56954),{matchValue:E,buildMockOptions:p}=r(81539),{InvalidArgumentError:C,UndiciError:I}=r(56888),m=r(68176),Q=r(44329),B=r(33148);class y{constructor(e){this.value=e}deref(){return this.value}}class w extends m{constructor(e){if(super(e),this[c]=!0,this[l]=!0,e&&e.agent&&"function"!=typeof e.agent.dispatch)throw new C("Argument opts.agent must implement Agent");let t=e&&e.agent?e.agent:new i(e);this[s]=t,this[n]=t[n],this[u]=p(e)}get(e){let t=this[o](e);return t||(t=this[d](e),this[A](e,t)),t}dispatch(e,t){return this.get(e.origin),this[s].dispatch(e,t)}async close(){await this[s].close(),this[n].clear()}deactivate(){this[l]=!1}activate(){this[l]=!0}enableNetConnect(e){if("string"==typeof e||"function"==typeof e||e instanceof RegExp)Array.isArray(this[c])?this[c].push(e):this[c]=[e];else if(void 0===e)this[c]=!0;else throw new C("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[c]=!1}get isMockActive(){return this[l]}[A](e,t){this[n].set(e,new y(t))}[d](e){let t=Object.assign({agent:this},this[u]);return this[u]&&1===this[u].connections?new g(e,t):new f(e,t)}[o](e){let t=this[n].get(e);if(t)return t.deref();if("string"!=typeof e){let t=this[d]("http://localhost:9999");return this[A](e,t),t}for(let[t,r]of Array.from(this[n])){let n=r.deref();if(n&&"string"!=typeof t&&E(t,e)){let t=this[d](e);return this[A](e,t),t[a]=n[a],t}}}[h](){return this[c]}pendingInterceptors(){return Array.from(this[n].entries()).flatMap(([e,t])=>t.deref()[a].map(t=>({...t,origin:e}))).filter(({pending:e})=>e)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new B}={}){let t=this.pendingInterceptors();if(0===t.length)return;let r=new Q("interceptor","interceptors").pluralize(t.length);throw new I(`
${r.count} ${r.noun} ${r.is} pending:

${e.format(t)}
`.trim())}}e.exports=w},52410:(e,t,r)=>{"use strict";let{promisify:n}=r(73837),i=r(99758),{buildMockDispatch:s}=r(81539),{kDispatches:A,kMockAgent:o,kClose:a,kOriginalClose:l,kOrigin:c,kOriginalDispatch:h,kConnected:u}=r(58148),{MockInterceptor:d}=r(95147),g=r(75111),{InvalidArgumentError:f}=r(56888);class E extends i{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[o]=t.agent,this[c]=e,this[A]=[],this[u]=1,this[h]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[a]}get[g.kConnected](){return this[u]}intercept(e){return new d(e,this[A])}async [a](){await n(this[l])(),this[u]=0,this[o][g.kClients].delete(this[c])}}e.exports=E},86342:(e,t,r)=>{"use strict";let{UndiciError:n}=r(56888);class i extends n{constructor(e){super(e),Error.captureStackTrace(this,i),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}e.exports={MockNotMatchedError:i}},95147:(e,t,r)=>{"use strict";let{getResponseData:n,buildKey:i,addMockDispatch:s}=r(81539),{kDispatches:A,kDispatchKey:o,kDefaultHeaders:a,kDefaultTrailers:l,kContentLength:c,kMockDispatch:h}=r(58148),{InvalidArgumentError:u}=r(56888),{buildURL:d}=r(17906);class g{constructor(e){this[h]=e}delay(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new u("waitInMs must be a valid integer > 0");return this[h].delay=e,this}persist(){return this[h].persist=!0,this}times(e){if("number"!=typeof e||!Number.isInteger(e)||e<=0)throw new u("repeatTimes must be a valid integer > 0");return this[h].times=e,this}}class f{constructor(e,t){if("object"!=typeof e)throw new u("opts must be an object");if(void 0===e.path)throw new u("opts.path must be defined");if(void 0===e.method&&(e.method="GET"),"string"==typeof e.path){if(e.query)e.path=d(e.path,e.query);else{let t=new URL(e.path,"data://");e.path=t.pathname+t.search}}"string"==typeof e.method&&(e.method=e.method.toUpperCase()),this[o]=i(e),this[A]=t,this[a]={},this[l]={},this[c]=!1}createMockScopeDispatchData(e,t,r={}){let i=n(t),s=this[c]?{"content-length":i.length}:{};return{statusCode:e,data:t,headers:{...this[a],...s,...r.headers},trailers:{...this[l],...r.trailers}}}validateReplyParameters(e,t,r){if(void 0===e)throw new u("statusCode must be defined");if(void 0===t)throw new u("data must be defined");if("object"!=typeof r)throw new u("responseOptions must be an object")}reply(e){if("function"==typeof e){let t=t=>{let r=e(t);if("object"!=typeof r)throw new u("reply options callback must return an object");let{statusCode:n,data:i="",responseOptions:s={}}=r;return this.validateReplyParameters(n,i,s),{...this.createMockScopeDispatchData(n,i,s)}};return new g(s(this[A],this[o],t))}let[t,r="",n={}]=[...arguments];this.validateReplyParameters(t,r,n);let i=this.createMockScopeDispatchData(t,r,n);return new g(s(this[A],this[o],i))}replyWithError(e){if(void 0===e)throw new u("error must be defined");return new g(s(this[A],this[o],{error:e}))}defaultReplyHeaders(e){if(void 0===e)throw new u("headers must be defined");return this[a]=e,this}defaultReplyTrailers(e){if(void 0===e)throw new u("trailers must be defined");return this[l]=e,this}replyContentLength(){return this[c]=!0,this}}e.exports.MockInterceptor=f,e.exports.MockScope=g},56954:(e,t,r)=>{"use strict";let{promisify:n}=r(73837),i=r(3323),{buildMockDispatch:s}=r(81539),{kDispatches:A,kMockAgent:o,kClose:a,kOriginalClose:l,kOrigin:c,kOriginalDispatch:h,kConnected:u}=r(58148),{MockInterceptor:d}=r(95147),g=r(75111),{InvalidArgumentError:f}=r(56888);class E extends i{constructor(e,t){if(super(e,t),!t||!t.agent||"function"!=typeof t.agent.dispatch)throw new f("Argument opts.agent must implement Agent");this[o]=t.agent,this[c]=e,this[A]=[],this[u]=1,this[h]=this.dispatch,this[l]=this.close.bind(this),this.dispatch=s.call(this),this.close=this[a]}get[g.kConnected](){return this[u]}intercept(e){return new d(e,this[A])}async [a](){await n(this[l])(),this[u]=0,this[o][g.kClients].delete(this[c])}}e.exports=E},58148:e=>{"use strict";e.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}},81539:(e,t,r)=>{"use strict";let{MockNotMatchedError:n}=r(86342),{kDispatches:i,kMockAgent:s,kOriginalDispatch:A,kOrigin:o,kGetNetConnect:a}=r(58148),{buildURL:l,nop:c}=r(17906),{STATUS_CODES:h}=r(13685),{types:{isPromise:u}}=r(73837);function d(e,t){return"string"==typeof e?e===t:e instanceof RegExp?e.test(t):"function"==typeof e&&!0===e(t)}function g(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e.toLocaleLowerCase(),t]))}function f(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}return"function"==typeof e.get?e.get(t):g(e)[t.toLocaleLowerCase()]}function E(e){let t=e.slice(),r=[];for(let e=0;e<t.length;e+=2)r.push([t[e],t[e+1]]);return Object.fromEntries(r)}function p(e,t){if("function"==typeof e.headers)return Array.isArray(t)&&(t=E(t)),e.headers(t?g(t):{});if(void 0===e.headers)return!0;if("object"!=typeof t||"object"!=typeof e.headers)return!1;for(let[r,n]of Object.entries(e.headers))if(!d(n,f(t,r)))return!1;return!0}function C(e){if("string"!=typeof e)return e;let t=e.split("?");if(2!==t.length)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}function I(e,{path:t,method:r,body:n,headers:i}){let s=d(e.path,t),A=d(e.method,r),o=void 0===e.body||d(e.body,n),a=p(e,i);return s&&A&&o&&a}function m(e){return Buffer.isBuffer(e)?e:"object"==typeof e?JSON.stringify(e):e.toString()}function Q(e,t){let r=t.query?l(t.path,t.query):t.path,i="string"==typeof r?C(r):r,s=e.filter(({consumed:e})=>!e).filter(({path:e})=>d(C(e),i));if(0===s.length)throw new n(`Mock dispatch not matched for path '${i}'`);if(0===(s=s.filter(({method:e})=>d(e,t.method))).length)throw new n(`Mock dispatch not matched for method '${t.method}'`);if(0===(s=s.filter(({body:e})=>void 0===e||d(e,t.body))).length)throw new n(`Mock dispatch not matched for body '${t.body}'`);if(0===(s=s.filter(e=>p(e,t.headers))).length)throw new n(`Mock dispatch not matched for headers '${"object"==typeof t.headers?JSON.stringify(t.headers):t.headers}'`);return s[0]}function B(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i="function"==typeof r?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}function y(e,t){let r=e.findIndex(e=>!!e.consumed&&I(e,t));-1!==r&&e.splice(r,1)}function w(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}function b(e){return Object.entries(e).reduce((e,[t,r])=>[...e,Buffer.from(`${t}`),Array.isArray(r)?r.map(e=>Buffer.from(`${e}`)):Buffer.from(`${r}`)],[])}function v(e){return h[e]||"unknown"}async function S(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}function D(e,t){let r=w(e),n=Q(this[i],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:s,data:A,headers:o,trailers:a,error:l},delay:h,persist:d}=n,{timesInvoked:g,times:f}=n;if(n.consumed=!d&&g>=f,n.pending=g<f,null!==l)return y(this[i],r),t.onError(l),!0;function p(n,i=A){let l=Array.isArray(e.headers)?E(e.headers):e.headers,h="function"==typeof i?i({...e,headers:l}):i;if(u(h)){h.then(e=>p(n,e));return}let d=m(h),g=b(o),f=b(a);t.abort=c,t.onHeaders(s,g,C,v(s)),t.onData(Buffer.from(d)),t.onComplete(f),y(n,r)}function C(){}return"number"==typeof h&&h>0?setTimeout(()=>{p(this[i])},h):p(this[i]),!0}function R(){let e=this[s],t=this[o],r=this[A];return function(i,s){if(e.isMockActive)try{D.call(this,i,s)}catch(A){if(A instanceof n){let o=e[a]();if(!1===o)throw new n(`${A.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(T(o,t))r.call(this,i,s);else throw new n(`${A.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw A}else r.call(this,i,s)}}function T(e,t){let r=new URL(t);return!0===e||!!(Array.isArray(e)&&e.some(e=>d(e,r.host)))}function k(e){if(e){let{agent:t,...r}=e;return r}}e.exports={getResponseData:m,getMockDispatch:Q,addMockDispatch:B,deleteMockDispatch:y,buildKey:w,generateKeyValues:b,matchValue:d,getResponse:S,getStatusText:v,mockDispatch:D,buildMockDispatch:R,checkNetConnect:T,buildMockOptions:k,getHeaderByName:f}},33148:(e,t,r)=>{"use strict";let{Transform:n}=r(12781),{Console:i}=r(96206);e.exports=class{constructor({disableColors:e}={}){this.transform=new n({transform(e,t,r){r(null,e)}}),this.logger=new i({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let t=e.map(({method:e,path:t,data:{statusCode:r},persist:n,times:i,timesInvoked:s,origin:A})=>({Method:e,Origin:A,Path:t,"Status code":r,Persistent:n?"":"",Invocations:s,Remaining:n?1/0:i-s}));return this.logger.table(t),this.transform.read().toString()}}},44329:e=>{"use strict";let t={pronoun:"it",is:"is",was:"was",this:"this"},r={pronoun:"they",is:"are",was:"were",this:"these"};e.exports=class{constructor(e,t){this.singular=e,this.plural=t}pluralize(e){let n=1===e,i=n?t:r,s=n?this.singular:this.plural;return{...i,count:e,noun:s}}}},76028:e=>{"use strict";let t=2048,r=2047;class n{constructor(){this.bottom=0,this.top=0,this.list=Array(t),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&r)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&r}shift(){let e=this.list[this.bottom];return void 0===e?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&r,e)}}e.exports=class{constructor(){this.head=this.tail=new n}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new n),this.head.push(e)}shift(){let e=this.tail,t=e.shift();return e.isEmpty()&&null!==e.next&&(this.tail=e.next),t}}},57736:(e,t,r)=>{"use strict";let n=r(74118),i=r(76028),{kConnected:s,kSize:A,kRunning:o,kPending:a,kQueued:l,kBusy:c,kFree:h,kUrl:u,kClose:d,kDestroy:g,kDispatch:f}=r(75111),E=r(20050),p=Symbol("clients"),C=Symbol("needDrain"),I=Symbol("queue"),m=Symbol("closed resolve"),Q=Symbol("onDrain"),B=Symbol("onConnect"),y=Symbol("onDisconnect"),w=Symbol("onConnectionError"),b=Symbol("get dispatcher"),v=Symbol("add client"),S=Symbol("remove client"),D=Symbol("stats");class R extends n{constructor(){super(),this[I]=new i,this[p]=[],this[l]=0;let e=this;this[Q]=function(t,r){let n=e[I],i=!1;for(;!i;){let t=n.shift();if(!t)break;e[l]--,i=!this.dispatch(t.opts,t.handler)}this[C]=i,!this[C]&&e[C]&&(e[C]=!1,e.emit("drain",t,[e,...r])),e[m]&&n.isEmpty()&&Promise.all(e[p].map(e=>e.close())).then(e[m])},this[B]=(t,r)=>{e.emit("connect",t,[e,...r])},this[y]=(t,r,n)=>{e.emit("disconnect",t,[e,...r],n)},this[w]=(t,r,n)=>{e.emit("connectionError",t,[e,...r],n)},this[D]=new E(this)}get[c](){return this[C]}get[s](){return this[p].filter(e=>e[s]).length}get[h](){return this[p].filter(e=>e[s]&&!e[C]).length}get[a](){let e=this[l];for(let{[a]:t}of this[p])e+=t;return e}get[o](){let e=0;for(let{[o]:t}of this[p])e+=t;return e}get[A](){let e=this[l];for(let{[A]:t}of this[p])e+=t;return e}get stats(){return this[D]}async [d](){return this[I].isEmpty()?Promise.all(this[p].map(e=>e.close())):new Promise(e=>{this[m]=e})}async [g](e){for(;;){let t=this[I].shift();if(!t)break;t.handler.onError(e)}return Promise.all(this[p].map(t=>t.destroy(e)))}[f](e,t){let r=this[b]();return r?r.dispatch(e,t)||(r[C]=!0,this[C]=!this[b]()):(this[C]=!0,this[I].push({opts:e,handler:t}),this[l]++),!this[C]}[v](e){return e.on("drain",this[Q]).on("connect",this[B]).on("disconnect",this[y]).on("connectionError",this[w]),this[p].push(e),this[C]&&process.nextTick(()=>{this[C]&&this[Q](e[u],[this,e])}),this}[S](e){e.close(()=>{let t=this[p].indexOf(e);-1!==t&&this[p].splice(t,1)}),this[C]=this[p].some(e=>!e[C]&&!0!==e.closed&&!0!==e.destroyed)}}e.exports={PoolBase:R,kClients:p,kNeedDrain:C,kAddClient:v,kRemoveClient:S,kGetDispatcher:b}},20050:(e,t,r)=>{let{kFree:n,kConnected:i,kPending:s,kQueued:A,kRunning:o,kSize:a}=r(75111),l=Symbol("pool");class c{constructor(e){this[l]=e}get connected(){return this[l][i]}get free(){return this[l][n]}get pending(){return this[l][s]}get queued(){return this[l][A]}get running(){return this[l][o]}get size(){return this[l][a]}}e.exports=c},3323:(e,t,r)=>{"use strict";let{PoolBase:n,kClients:i,kNeedDrain:s,kAddClient:A,kGetDispatcher:o}=r(57736),a=r(99758),{InvalidArgumentError:l}=r(56888),c=r(17906),{kUrl:h,kInterceptors:u}=r(75111),d=r(13231),g=Symbol("options"),f=Symbol("connections"),E=Symbol("factory");function p(e,t){return new a(e,t)}class C extends n{constructor(e,{connections:t,factory:r=p,connect:n,connectTimeout:i,tls:s,maxCachedSessions:A,socketPath:o,autoSelectFamily:a,autoSelectFamilyAttemptTimeout:C,allowH2:I,...m}={}){if(super(),null!=t&&(!Number.isFinite(t)||t<0))throw new l("invalid connections");if("function"!=typeof r)throw new l("factory must be a function.");if(null!=n&&"function"!=typeof n&&"object"!=typeof n)throw new l("connect must be a function or an object");"function"!=typeof n&&(n=d({...s,maxCachedSessions:A,allowH2:I,socketPath:o,timeout:i,...c.nodeHasAutoSelectFamily&&a?{autoSelectFamily:a,autoSelectFamilyAttemptTimeout:C}:void 0,...n})),this[u]=m.interceptors&&m.interceptors.Pool&&Array.isArray(m.interceptors.Pool)?m.interceptors.Pool:[],this[f]=t||null,this[h]=c.parseOrigin(e),this[g]={...c.deepClone(m),connect:n,allowH2:I},this[g].interceptors=m.interceptors?{...m.interceptors}:void 0,this[E]=r}[o](){let e=this[i].find(e=>!e[s]);return e||(!this[f]||this[i].length<this[f])&&(e=this[E](this[h],this[g]),this[A](e)),e}}e.exports=C},90182:(e,t,r)=>{"use strict";let{kProxy:n,kClose:i,kDestroy:s,kInterceptors:A}=r(75111),{URL:o}=r(57310),a=r(72931),l=r(3323),c=r(74118),{InvalidArgumentError:h,RequestAbortedError:u}=r(56888),d=r(13231),g=Symbol("proxy agent"),f=Symbol("proxy client"),E=Symbol("proxy headers"),p=Symbol("request tls settings"),C=Symbol("proxy tls settings"),I=Symbol("connect endpoint function");function m(e){return"https:"===e?443:80}function Q(e){if("string"==typeof e&&(e={uri:e}),!e||!e.uri)throw new h("Proxy opts.uri is mandatory");return{uri:e.uri,protocol:e.protocol||"https"}}function B(e,t){return new l(e,t)}class y extends c{constructor(e){if(super(e),this[n]=Q(e),this[g]=new a(e),this[A]=e.interceptors&&e.interceptors.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],"string"==typeof e&&(e={uri:e}),!e||!e.uri)throw new h("Proxy opts.uri is mandatory");let{clientFactory:t=B}=e;if("function"!=typeof t)throw new h("Proxy opts.clientFactory must be a function.");this[p]=e.requestTls,this[C]=e.proxyTls,this[E]=e.headers||{};let r=new o(e.uri),{origin:i,port:s,host:l,username:c,password:y}=r;if(e.auth&&e.token)throw new h("opts.auth cannot be used in combination with opts.token");e.auth?this[E]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[E]["proxy-authorization"]=e.token:c&&y&&(this[E]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(y)}`).toString("base64")}`);let w=d({...e.proxyTls});this[I]=d({...e.requestTls}),this[f]=t(r,{connect:w}),this[g]=new a({...e,connect:async(e,t)=>{let r=e.host;e.port||(r+=`:${m(e.protocol)}`);try{let n;let{socket:A,statusCode:o}=await this[f].connect({origin:i,port:s,path:r,signal:e.signal,headers:{...this[E],host:l}});if(200!==o&&(A.on("error",()=>{}).destroy(),t(new u(`Proxy response (${o}) !== 200 when HTTP Tunneling`))),"https:"!==e.protocol){t(null,A);return}n=this[p]?this[p].servername:e.servername,this[I]({...e,servername:n,httpSocket:A},t)}catch(e){t(e)}}})}dispatch(e,t){let{host:r}=new o(e.origin),n=w(e.headers);return b(n),this[g].dispatch({...e,headers:{...n,host:r}},t)}async [i](){await this[g].close(),await this[f].close()}async [s](){await this[g].destroy(),await this[f].destroy()}}function w(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}function b(e){if(e&&Object.keys(e).find(e=>"proxy-authorization"===e.toLowerCase()))throw new h("Proxy-Authorization should be sent in ProxyAgent constructor")}e.exports=y},93050:e=>{"use strict";let t;let r=Date.now(),n=[];function i(){r=Date.now();let e=n.length,t=0;for(;t<e;){let i=n[t];0===i.state?i.state=r+i.delay:i.state>0&&r>=i.state&&(i.state=-1,i.callback(i.opaque)),-1===i.state?(i.state=-2,t!==e-1?n[t]=n.pop():n.pop(),e-=1):t+=1}n.length>0&&s()}function s(){t&&t.refresh?t.refresh():(clearTimeout(t),(t=setTimeout(i,1e3)).unref&&t.unref())}class A{constructor(e,t,r){this.callback=e,this.delay=t,this.opaque=r,this.state=-2,this.refresh()}refresh(){-2!==this.state||(n.push(this),t&&1!==n.length||s()),this.state=0}clear(){this.state=-1}}e.exports={setTimeout:(e,t,r)=>t<1e3?setTimeout(e,t,r):new A(e,t,r),clearTimeout(e){e instanceof A?e.clear():clearTimeout(e)}}},97183:(e,t,r)=>{"use strict";let n;let i=r(67643),{uid:s,states:A}=r(69317),{kReadyState:o,kSentClose:a,kByteParser:l,kReceivedClose:c}=r(6580),{fireEvent:h,failWebsocketConnection:u}=r(73204),{CloseEvent:d}=r(85262),{makeRequest:g}=r(36152),{fetching:f}=r(79219),{Headers:E}=r(24656),{getGlobalDispatcher:p}=r(96836),{kHeadersList:C}=r(75111),I={};I.open=i.channel("undici:websocket:open"),I.close=i.channel("undici:websocket:close"),I.socketError=i.channel("undici:websocket:socket_error");try{n=r(6113)}catch{}function m(e,t,r,i,A){let o=e;o.protocol="ws:"===e.protocol?"http:":"https:";let a=g({urlList:[o],serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(A.headers){let e=new E(A.headers)[C];a.headersList=e}let l=n.randomBytes(16).toString("base64");for(let e of(a.headersList.append("sec-websocket-key",l),a.headersList.append("sec-websocket-version","13"),t))a.headersList.append("sec-websocket-protocol",e);let c="";return f({request:a,useParallelQueue:!0,dispatcher:A.dispatcher??p(),processResponse(e){if("error"===e.type||101!==e.status){u(r,"Received network error or non-101 status code.");return}if(0!==t.length&&!e.headersList.get("Sec-WebSocket-Protocol")){u(r,"Server did not respond with sent protocols.");return}if(e.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){u(r,'Server did not set Upgrade header to "websocket".');return}if(e.headersList.get("Connection")?.toLowerCase()!=="upgrade"){u(r,'Server did not set Connection header to "upgrade".');return}if(e.headersList.get("Sec-WebSocket-Accept")!==n.createHash("sha1").update(l+s).digest("base64")){u(r,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=e.headersList.get("Sec-WebSocket-Extensions");if(null!==A&&A!==c){u(r,"Received different permessage-deflate than the one set.");return}let o=e.headersList.get("Sec-WebSocket-Protocol");if(null!==o&&o!==a.headersList.get("Sec-WebSocket-Protocol")){u(r,"Protocol was not set in the opening handshake.");return}e.socket.on("data",Q),e.socket.on("close",B),e.socket.on("error",y),I.open.hasSubscribers&&I.open.publish({address:e.socket.address(),protocol:o,extensions:A}),i(e)}})}function Q(e){this.ws[l].write(e)||this.pause()}function B(){let{ws:e}=this,t=e[a]&&e[c],r=1005,n="",i=e[l].closingInfo;i?(r=i.code??1005,n=i.reason):e[a]||(r=1006),e[o]=A.CLOSED,h("close",e,d,{wasClean:t,code:r,reason:n}),I.close.hasSubscribers&&I.close.publish({websocket:e,code:r,reason:n})}function y(e){let{ws:t}=this;t[o]=A.CLOSING,I.socketError.hasSubscribers&&I.socketError.publish(e),this.destroy()}e.exports={establishWebSocketConnection:m}},69317:e=>{"use strict";let t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",r={enumerable:!0,writable:!1,configurable:!1},n={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},i={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},s=65535,A={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},o=Buffer.allocUnsafe(0);e.exports={uid:t,staticPropertyDescriptors:r,states:n,opcodes:i,maxUnsigned16Bit:s,parserStates:A,emptyBuffer:o}},85262:(e,t,r)=>{"use strict";let{webidl:n}=r(37164),{kEnumerableProperty:i}=r(17906),{MessagePort:s}=r(71267);class A extends Event{#s;constructor(e,t={}){n.argumentLengthCheck(arguments,1,{header:"MessageEvent constructor"}),super(e=n.converters.DOMString(e),t=n.converters.MessageEventInit(t)),this.#s=t}get data(){return n.brandCheck(this,A),this.#s.data}get origin(){return n.brandCheck(this,A),this.#s.origin}get lastEventId(){return n.brandCheck(this,A),this.#s.lastEventId}get source(){return n.brandCheck(this,A),this.#s.source}get ports(){return n.brandCheck(this,A),Object.isFrozen(this.#s.ports)||Object.freeze(this.#s.ports),this.#s.ports}initMessageEvent(e,t=!1,r=!1,i=null,s="",o="",a=null,l=[]){return n.brandCheck(this,A),n.argumentLengthCheck(arguments,1,{header:"MessageEvent.initMessageEvent"}),new A(e,{bubbles:t,cancelable:r,data:i,origin:s,lastEventId:o,source:a,ports:l})}}class o extends Event{#s;constructor(e,t={}){n.argumentLengthCheck(arguments,1,{header:"CloseEvent constructor"}),super(e=n.converters.DOMString(e),t=n.converters.CloseEventInit(t)),this.#s=t}get wasClean(){return n.brandCheck(this,o),this.#s.wasClean}get code(){return n.brandCheck(this,o),this.#s.code}get reason(){return n.brandCheck(this,o),this.#s.reason}}class a extends Event{#s;constructor(e,t){n.argumentLengthCheck(arguments,1,{header:"ErrorEvent constructor"}),super(e,t),e=n.converters.DOMString(e),t=n.converters.ErrorEventInit(t??{}),this.#s=t}get message(){return n.brandCheck(this,a),this.#s.message}get filename(){return n.brandCheck(this,a),this.#s.filename}get lineno(){return n.brandCheck(this,a),this.#s.lineno}get colno(){return n.brandCheck(this,a),this.#s.colno}get error(){return n.brandCheck(this,a),this.#s.error}}Object.defineProperties(A.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:i,origin:i,lastEventId:i,source:i,ports:i,initMessageEvent:i}),Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:i,code:i,wasClean:i}),Object.defineProperties(a.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:i,filename:i,lineno:i,colno:i,error:i}),n.converters.MessagePort=n.interfaceConverter(s),n.converters["sequence<MessagePort>"]=n.sequenceConverter(n.converters.MessagePort);let l=[{key:"bubbles",converter:n.converters.boolean,defaultValue:!1},{key:"cancelable",converter:n.converters.boolean,defaultValue:!1},{key:"composed",converter:n.converters.boolean,defaultValue:!1}];n.converters.MessageEventInit=n.dictionaryConverter([...l,{key:"data",converter:n.converters.any,defaultValue:null},{key:"origin",converter:n.converters.USVString,defaultValue:""},{key:"lastEventId",converter:n.converters.DOMString,defaultValue:""},{key:"source",converter:n.nullableConverter(n.converters.MessagePort),defaultValue:null},{key:"ports",converter:n.converters["sequence<MessagePort>"],get defaultValue(){return[]}}]),n.converters.CloseEventInit=n.dictionaryConverter([...l,{key:"wasClean",converter:n.converters.boolean,defaultValue:!1},{key:"code",converter:n.converters["unsigned short"],defaultValue:0},{key:"reason",converter:n.converters.USVString,defaultValue:""}]),n.converters.ErrorEventInit=n.dictionaryConverter([...l,{key:"message",converter:n.converters.DOMString,defaultValue:""},{key:"filename",converter:n.converters.USVString,defaultValue:""},{key:"lineno",converter:n.converters["unsigned long"],defaultValue:0},{key:"colno",converter:n.converters["unsigned long"],defaultValue:0},{key:"error",converter:n.converters.any}]),e.exports={MessageEvent:A,CloseEvent:o,ErrorEvent:a}},73273:(e,t,r)=>{"use strict";let n;let{maxUnsigned16Bit:i}=r(69317);try{n=r(6113)}catch{}class s{constructor(e){this.frameData=e,this.maskKey=n.randomBytes(4)}createFrame(e){let t=this.frameData?.byteLength??0,r=t,n=6;t>i?(n+=8,r=127):t>125&&(n+=2,r=126);let s=Buffer.allocUnsafe(t+n);s[0]=s[1]=0,s[0]|=128,s[0]=(240&s[0])+e,/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */s[n-4]=this.maskKey[0],s[n-3]=this.maskKey[1],s[n-2]=this.maskKey[2],s[n-1]=this.maskKey[3],s[1]=r,126===r?s.writeUInt16BE(t,2):127===r&&(s[2]=s[3]=0,s.writeUIntBE(t,4,6)),s[1]|=128;for(let e=0;e<t;e++)s[n+e]=this.frameData[e]^this.maskKey[e%4];return s}}e.exports={WebsocketFrameSend:s}},4298:(e,t,r)=>{"use strict";let{Writable:n}=r(12781),i=r(67643),{parserStates:s,opcodes:A,states:o,emptyBuffer:a}=r(69317),{kReadyState:l,kSentClose:c,kResponse:h,kReceivedClose:u}=r(6580),{isValidStatusCode:d,failWebsocketConnection:g,websocketMessageReceived:f}=r(73204),{WebsocketFrameSend:E}=r(73273),p={};p.ping=i.channel("undici:websocket:ping"),p.pong=i.channel("undici:websocket:pong");class C extends n{#A=[];#o=0;#a=s.INFO;#l={};#c=[];constructor(e){super(),this.ws=e}_write(e,t,r){this.#A.push(e),this.#o+=e.length,this.run(r)}run(e){for(;;){if(this.#a===s.INFO){if(this.#o<2)return e();let t=this.consume(2);if(this.#l.fin=(128&t[0])!=0,this.#l.opcode=15&t[0],this.#l.originalOpcode??=this.#l.opcode,this.#l.fragmented=!this.#l.fin&&this.#l.opcode!==A.CONTINUATION,this.#l.fragmented&&this.#l.opcode!==A.BINARY&&this.#l.opcode!==A.TEXT){g(this.ws,"Invalid frame type was fragmented.");return}let r=127&t[1];if(r<=125?(this.#l.payloadLength=r,this.#a=s.READ_DATA):126===r?this.#a=s.PAYLOADLENGTH_16:127===r&&(this.#a=s.PAYLOADLENGTH_64),this.#l.fragmented&&r>125){g(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((this.#l.opcode===A.PING||this.#l.opcode===A.PONG||this.#l.opcode===A.CLOSE)&&r>125){g(this.ws,"Payload length for control frame exceeded 125 bytes.");return}if(this.#l.opcode===A.CLOSE){if(1===r){g(this.ws,"Received close frame with a 1-byte body.");return}let e=this.consume(r);if(this.#l.closeInfo=this.parseCloseBody(!1,e),!this.ws[c]){let e=Buffer.allocUnsafe(2);e.writeUInt16BE(this.#l.closeInfo.code,0);let t=new E(e);this.ws[h].socket.write(t.createFrame(A.CLOSE),e=>{e||(this.ws[c]=!0)})}this.ws[l]=o.CLOSING,this.ws[u]=!0,this.end();return}if(this.#l.opcode===A.PING){let t=this.consume(r);if(!this.ws[u]){let e=new E(t);this.ws[h].socket.write(e.createFrame(A.PONG)),p.ping.hasSubscribers&&p.ping.publish({payload:t})}if(this.#a=s.INFO,this.#o>0)continue;e();return}else if(this.#l.opcode===A.PONG){let t=this.consume(r);if(p.pong.hasSubscribers&&p.pong.publish({payload:t}),this.#o>0)continue;e();return}}else if(this.#a===s.PAYLOADLENGTH_16){if(this.#o<2)return e();let t=this.consume(2);this.#l.payloadLength=t.readUInt16BE(0),this.#a=s.READ_DATA}else if(this.#a===s.PAYLOADLENGTH_64){if(this.#o<8)return e();let t=this.consume(8),r=t.readUInt32BE(0);if(r>2147483648-1){g(this.ws,"Received payload length > 2^31 bytes.");return}let n=t.readUInt32BE(4);this.#l.payloadLength=(r<<8)+n,this.#a=s.READ_DATA}else if(this.#a===s.READ_DATA){if(this.#o<this.#l.payloadLength)return e();if(this.#o>=this.#l.payloadLength){let e=this.consume(this.#l.payloadLength);if(this.#c.push(e),!this.#l.fragmented||this.#l.fin&&this.#l.opcode===A.CONTINUATION){let e=Buffer.concat(this.#c);f(this.ws,this.#l.originalOpcode,e),this.#l={},this.#c.length=0}this.#a=s.INFO}}if(!(this.#o>0)){e();break}}}consume(e){if(e>this.#o)return null;if(0===e)return a;if(this.#A[0].length===e)return this.#o-=this.#A[0].length,this.#A.shift();let t=Buffer.allocUnsafe(e),r=0;for(;r!==e;){let n=this.#A[0],{length:i}=n;if(i+r===e){t.set(this.#A.shift(),r);break}if(i+r>e){t.set(n.subarray(0,e-r),r),this.#A[0]=n.subarray(e-r);break}t.set(this.#A.shift(),r),r+=n.length}return this.#o-=e,t}parseCloseBody(e,t){let r;if(t.length>=2&&(r=t.readUInt16BE(0)),e)return d(r)?{code:r}:null;let n=t.subarray(2);if(239===n[0]&&187===n[1]&&191===n[2]&&(n=n.subarray(3)),void 0!==r&&!d(r))return null;try{n=new TextDecoder("utf-8",{fatal:!0}).decode(n)}catch{return null}return{code:r,reason:n}}get closingInfo(){return this.#l.closeInfo}}e.exports={ByteParser:C}},6580:e=>{"use strict";e.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}},73204:(e,t,r)=>{"use strict";let{kReadyState:n,kController:i,kResponse:s,kBinaryType:A,kWebSocketURL:o}=r(6580),{states:a,opcodes:l}=r(69317),{MessageEvent:c,ErrorEvent:h}=r(85262);function u(e){return e[n]===a.OPEN}function d(e){return e[n]===a.CLOSING}function g(e){return e[n]===a.CLOSED}function f(e,t,r=Event,n){let i=new r(e,n);t.dispatchEvent(i)}function E(e,t,r){let i;if(e[n]===a.OPEN){if(t===l.TEXT)try{i=new TextDecoder("utf-8",{fatal:!0}).decode(r)}catch{I(e,"Received invalid UTF-8 in text frame.");return}else t===l.BINARY&&(i="blob"===e[A]?new Blob([r]):new Uint8Array(r).buffer);f("message",e,c,{origin:e[o].origin,data:i})}}function p(e){if(0===e.length)return!1;for(let t of e){let e=t.charCodeAt(0);if(e<33||e>126||"("===t||")"===t||"<"===t||">"===t||"@"===t||","===t||";"===t||":"===t||"\\"===t||'"'===t||"/"===t||"["===t||"]"===t||"?"===t||"="===t||"{"===t||"}"===t||32===e||9===e)return!1}return!0}function C(e){return e>=1e3&&e<1015?1004!==e&&1005!==e&&1006!==e:e>=3e3&&e<=4999}function I(e,t){let{[i]:r,[s]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&f("error",e,h,{error:Error(t)})}e.exports={isEstablished:u,isClosing:d,isClosed:g,fireEvent:f,isValidSubprotocol:p,isValidStatusCode:C,failWebsocketConnection:I,websocketMessageReceived:E}},14105:(e,t,r)=>{"use strict";let{webidl:n}=r(37164),{DOMException:i}=r(93116),{URLSerializer:s}=r(88103),{getGlobalOrigin:A}=r(64792),{staticPropertyDescriptors:o,states:a,opcodes:l,emptyBuffer:c}=r(69317),{kWebSocketURL:h,kReadyState:u,kController:d,kBinaryType:g,kResponse:f,kSentClose:E,kByteParser:p}=r(6580),{isEstablished:C,isClosing:I,isValidSubprotocol:m,failWebsocketConnection:Q,fireEvent:B}=r(73204),{establishWebSocketConnection:y}=r(97183),{WebsocketFrameSend:w}=r(73273),{ByteParser:b}=r(4298),{kEnumerableProperty:v,isBlobLike:S}=r(17906),{getGlobalDispatcher:D}=r(96836),{types:R}=r(73837),T=!1;class k extends EventTarget{#h={open:null,error:null,close:null,message:null};#u=0;#d="";#g="";constructor(e,t=[]){let r;super(),n.argumentLengthCheck(arguments,1,{header:"WebSocket constructor"}),T||(T=!0,process.emitWarning("WebSockets are experimental, expect them to change at any time.",{code:"UNDICI-WS"}));let s=n.converters["DOMString or sequence<DOMString> or WebSocketInit"](t);e=n.converters.USVString(e),t=s.protocols;let o=A();try{r=new URL(e,o)}catch(e){throw new i(e,"SyntaxError")}if("http:"===r.protocol?r.protocol="ws:":"https:"===r.protocol&&(r.protocol="wss:"),"ws:"!==r.protocol&&"wss:"!==r.protocol)throw new i(`Expected a ws: or wss: protocol, got ${r.protocol}`,"SyntaxError");if(r.hash||r.href.endsWith("#"))throw new i("Got fragment","SyntaxError");if("string"==typeof t&&(t=[t]),t.length!==new Set(t.map(e=>e.toLowerCase())).size||t.length>0&&!t.every(e=>m(e)))throw new i("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[h]=new URL(r.href),this[d]=y(r,t,this,e=>this.#f(e),s),this[u]=k.CONNECTING,this[g]="blob"}close(e,t){if(n.brandCheck(this,k),void 0!==e&&(e=n.converters["unsigned short"](e,{clamp:!0})),void 0!==t&&(t=n.converters.USVString(t)),void 0!==e&&1e3!==e&&(e<3e3||e>4999))throw new i("invalid code","InvalidAccessError");let r=0;if(void 0!==t&&(r=Buffer.byteLength(t))>123)throw new i(`Reason must be less than 123 bytes; received ${r}`,"SyntaxError");if(this[u]===k.CLOSING||this[u]===k.CLOSED);else if(C(this)){if(I(this))this[u]=k.CLOSING;else{let n=new w;void 0!==e&&void 0===t?(n.frameData=Buffer.allocUnsafe(2),n.frameData.writeUInt16BE(e,0)):void 0!==e&&void 0!==t?(n.frameData=Buffer.allocUnsafe(2+r),n.frameData.writeUInt16BE(e,0),n.frameData.write(t,2,"utf-8")):n.frameData=c,this[f].socket.write(n.createFrame(l.CLOSE),e=>{e||(this[E]=!0)}),this[u]=a.CLOSING}}else Q(this,"Connection was closed before it was established."),this[u]=k.CLOSING}send(e){if(n.brandCheck(this,k),n.argumentLengthCheck(arguments,1,{header:"WebSocket.send"}),e=n.converters.WebSocketSendData(e),this[u]===k.CONNECTING)throw new i("Sent before connected.","InvalidStateError");if(!C(this)||I(this))return;let t=this[f].socket;if("string"==typeof e){let r=Buffer.from(e),n=new w(r).createFrame(l.TEXT);this.#u+=r.byteLength,t.write(n,()=>{this.#u-=r.byteLength})}else if(R.isArrayBuffer(e)){let r=Buffer.from(e),n=new w(r).createFrame(l.BINARY);this.#u+=r.byteLength,t.write(n,()=>{this.#u-=r.byteLength})}else if(ArrayBuffer.isView(e)){let r=Buffer.from(e,e.byteOffset,e.byteLength),n=new w(r).createFrame(l.BINARY);this.#u+=r.byteLength,t.write(n,()=>{this.#u-=r.byteLength})}else if(S(e)){let r=new w;e.arrayBuffer().then(e=>{let n=Buffer.from(e);r.frameData=n;let i=r.createFrame(l.BINARY);this.#u+=n.byteLength,t.write(i,()=>{this.#u-=n.byteLength})})}}get readyState(){return n.brandCheck(this,k),this[u]}get bufferedAmount(){return n.brandCheck(this,k),this.#u}get url(){return n.brandCheck(this,k),s(this[h])}get extensions(){return n.brandCheck(this,k),this.#g}get protocol(){return n.brandCheck(this,k),this.#d}get onopen(){return n.brandCheck(this,k),this.#h.open}set onopen(e){n.brandCheck(this,k),this.#h.open&&this.removeEventListener("open",this.#h.open),"function"==typeof e?(this.#h.open=e,this.addEventListener("open",e)):this.#h.open=null}get onerror(){return n.brandCheck(this,k),this.#h.error}set onerror(e){n.brandCheck(this,k),this.#h.error&&this.removeEventListener("error",this.#h.error),"function"==typeof e?(this.#h.error=e,this.addEventListener("error",e)):this.#h.error=null}get onclose(){return n.brandCheck(this,k),this.#h.close}set onclose(e){n.brandCheck(this,k),this.#h.close&&this.removeEventListener("close",this.#h.close),"function"==typeof e?(this.#h.close=e,this.addEventListener("close",e)):this.#h.close=null}get onmessage(){return n.brandCheck(this,k),this.#h.message}set onmessage(e){n.brandCheck(this,k),this.#h.message&&this.removeEventListener("message",this.#h.message),"function"==typeof e?(this.#h.message=e,this.addEventListener("message",e)):this.#h.message=null}get binaryType(){return n.brandCheck(this,k),this[g]}set binaryType(e){n.brandCheck(this,k),"blob"!==e&&"arraybuffer"!==e?this[g]="blob":this[g]=e}#f(e){this[f]=e;let t=new b(this);t.on("drain",function(){this.ws[f].socket.resume()}),e.socket.ws=this,this[p]=t,this[u]=a.OPEN;let r=e.headersList.get("sec-websocket-extensions");null!==r&&(this.#g=r);let n=e.headersList.get("sec-websocket-protocol");null!==n&&(this.#d=n),B("open",this)}}k.CONNECTING=k.prototype.CONNECTING=a.CONNECTING,k.OPEN=k.prototype.OPEN=a.OPEN,k.CLOSING=k.prototype.CLOSING=a.CLOSING,k.CLOSED=k.prototype.CLOSED=a.CLOSED,Object.defineProperties(k.prototype,{CONNECTING:o,OPEN:o,CLOSING:o,CLOSED:o,url:v,readyState:v,bufferedAmount:v,onopen:v,onerror:v,onclose:v,close:v,onmessage:v,binaryType:v,send:v,extensions:v,protocol:v,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}}),Object.defineProperties(k,{CONNECTING:o,OPEN:o,CLOSING:o,CLOSED:o}),n.converters["sequence<DOMString>"]=n.sequenceConverter(n.converters.DOMString),n.converters["DOMString or sequence<DOMString>"]=function(e){return"Object"===n.util.Type(e)&&Symbol.iterator in e?n.converters["sequence<DOMString>"](e):n.converters.DOMString(e)},n.converters.WebSocketInit=n.dictionaryConverter([{key:"protocols",converter:n.converters["DOMString or sequence<DOMString>"],get defaultValue(){return[]}},{key:"dispatcher",converter:e=>e,get defaultValue(){return D()}},{key:"headers",converter:n.nullableConverter(n.converters.HeadersInit)}]),n.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return"Object"!==n.util.Type(e)||Symbol.iterator in e?{protocols:n.converters["DOMString or sequence<DOMString>"](e)}:n.converters.WebSocketInit(e)},n.converters.WebSocketSendData=function(e){if("Object"===n.util.Type(e)){if(S(e))return n.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||R.isAnyArrayBuffer(e))return n.converters.BufferSource(e)}return n.converters.USVString(e)},e.exports={WebSocket:k}},79009:(e,t,r)=>{"use strict";let n=r(84492).Writable,i=r(47261).inherits,s=r(28383),A=r(69805),o=r(34748),a=45,l=Buffer.from("-"),c=Buffer.from("\r\n"),h=function(){};function u(e){if(!(this instanceof u))return new u(e);if(n.call(this,e),!e||!e.headerFirst&&"string"!=typeof e.boundary)throw TypeError("Boundary required");"string"==typeof e.boundary?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:e.partHwm},this._pause=!1;let t=this;this._hparser=new o(e),this._hparser.on("header",function(e){t._inHeader=!1,t._part.emit("header",e)})}i(u,n),u.prototype.emit=function(e){if("finish"!==e||this._realFinish)n.prototype.emit.apply(this,arguments);else if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let t=e._isPreamble?"Preamble":"Part";e._part.emit("error",Error(t+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}},u.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new A(this._partOpts),0!==this.listenerCount("preamble")?this.emit("preamble",this._part):this._ignore());let t=this._hparser.push(e);if(this._inHeader||void 0===t||!(t<e.length))return r();e=e.slice(t)}this._firstWrite&&(this._bparser.push(c),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()},u.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},u.prototype.setBoundary=function(e){let t=this;this._bparser=new s("\r\n--"+e),this._bparser.on("info",function(e,r,n,i){t._oninfo(e,r,n,i)})},u.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",h),this._part.resume())},u.prototype._oninfo=function(e,t,r,n){let i,s;let o=this,c=0,h=!0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+c<n;)if(t[r+c]===a)++c,++this._dashes;else{this._dashes&&(i=l),this._dashes=0;break}if(2===this._dashes&&(r+c<n&&0!==this.listenerCount("trailer")&&this.emit("trailer",t.slice(r+c,n)),this.reset(),this._finished=!0,0===o._parts&&(o._realFinish=!0,o.emit("finish"),o._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new A(this._partOpts),this._part._read=function(e){o._unpause()},this._isPreamble&&0!==this.listenerCount("preamble")?this.emit("preamble",this._part):!0!==this._isPreamble&&0!==this.listenerCount("part")?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),!t||!(r<n)||this._ignoreData||(this._isPreamble||!this._inHeader?(i&&(h=this._part.push(i)),(h=this._part.push(t.slice(r,n)))||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(i&&this._hparser.push(i),s=this._hparser.push(t.slice(r,n)),!this._inHeader&&void 0!==s&&s<n&&this._oninfo(!1,t,r+s,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",function(){0==--o._parts&&(o._finished?(o._realFinish=!0,o.emit("finish"),o._realFinish=!1):o._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},u.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let e=this._cb;this._cb=void 0,e()}},e.exports=u},34748:(e,t,r)=>{"use strict";let n=r(15673).EventEmitter,i=r(47261).inherits,s=r(97327),A=r(28383),o=Buffer.from("\r\n\r\n"),a=/\r\n/g,l=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function c(e){n.call(this),e=e||{};let t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=s(e,"maxHeaderPairs",2e3),this.maxHeaderSize=s(e,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new A(o),this.ss.on("info",function(e,r,n,i){r&&!t.maxed&&(t.nread+i-n>=t.maxHeaderSize?(i=t.maxHeaderSize-t.nread+n,t.nread=t.maxHeaderSize,t.maxed=!0):t.nread+=i-n,t.buffer+=r.toString("binary",n,i)),e&&t._finish()})}i(c,n),c.prototype.push=function(e){let t=this.ss.push(e);if(this.finished)return t},c.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},c.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)},c.prototype._parseHeader=function(){let e,t;if(this.npairs===this.maxHeaderPairs)return;let r=this.buffer.split(a),n=r.length;for(var i=0;i<n;++i){if(0===r[i].length)continue;if(("	"===r[i][0]||" "===r[i][0])&&t){this.header[t][this.header[t].length-1]+=r[i];continue}let n=r[i].indexOf(":");if(-1===n||0===n)return;if(t=(e=l.exec(r[i]))[1].toLowerCase(),this.header[t]=this.header[t]||[],this.header[t].push(e[2]||""),++this.npairs===this.maxHeaderPairs)break}},e.exports=c},69805:(e,t,r)=>{"use strict";let n=r(47261).inherits,i=r(84492).Readable;function s(e){i.call(this,e)}n(s,i),s.prototype._read=function(e){},e.exports=s},28383:(e,t,r)=>{"use strict";let n=r(15673).EventEmitter;function i(e){if("string"==typeof e&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw TypeError("The needle has to be a String or a Buffer.");let t=e.length;if(0===t)throw Error("The needle cannot be an empty String/Buffer.");if(t>256)throw Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=Array(256).fill(t),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(t);for(var r=0;r<t-1;++r)this._occ[e[r]]=t-1-r}(0,r(47261).inherits)(i,n),i.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},i.prototype.push=function(e,t){let r;Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));let n=e.length;for(this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},i.prototype._sbmh_feed=function(e){let t;let r=e.length,n=this._needle,i=n.length,s=n[i-1],A=-this._lookbehind_size;if(A<0){for(;A<0&&A<=r-i;){if((t=this._sbmh_lookup_char(e,A+i-1))===s&&this._sbmh_memcmp(e,A,i-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=A+i;A+=this._occ[t]}if(A<0)for(;A<0&&!this._sbmh_memcmp(e,A,r-A);)++A;if(A>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let t=this._lookbehind_size+A;return t>0&&this.emit("info",!1,this._lookbehind,0,t),this._lookbehind.copy(this._lookbehind,0,t,this._lookbehind_size-t),this._lookbehind_size-=t,e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=r,this._bufpos=r,r}}if(A+=(A>=0)*this._bufpos,-1!==e.indexOf(n,A))return A=e.indexOf(n,A),++this.matches,A>0?this.emit("info",!0,e,this._bufpos,A):this.emit("info",!0),this._bufpos=A+i;for(A=r-i;A<r&&(e[A]!==n[0]||0!==Buffer.compare(e.subarray(A,A+r-A),n.subarray(0,r-A)));)++A;return A<r&&(e.copy(this._lookbehind,0,A,A+(r-A)),this._lookbehind_size=r-A),A>0&&this.emit("info",!1,e,this._bufpos,A<r?A:r),this._bufpos=r,r},i.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},i.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;return!0},e.exports=i},5012:(e,t,r)=>{"use strict";let n=r(84492).Writable,{inherits:i}=r(47261),s=r(79009),A=r(95372),o=r(79869),a=r(35471);function l(e){if(!(this instanceof l))return new l(e);if("object"!=typeof e)throw TypeError("Busboy expected an options-Object.");if("object"!=typeof e.headers)throw TypeError("Busboy expected an options-Object with headers-attribute.");if("string"!=typeof e.headers["content-type"])throw TypeError("Missing Content-Type-header.");let{headers:t,...r}=e;this.opts={autoDestroy:!1,...r},n.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(t),this._finished=!1}i(l,n),l.prototype.emit=function(e){if("finish"===e){if(this._done){if(this._finished)return}else{this._parser?.end();return}this._finished=!0}n.prototype.emit.apply(this,arguments)},l.prototype.getParserByHeaders=function(e){let t=a(e["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:e,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:t,preservePath:this.opts.preservePath};if(A.detect.test(t[0]))return new A(this,r);if(o.detect.test(t[0]))return new o(this,r);throw Error("Unsupported Content-Type.")},l.prototype._write=function(e,t,r){this._parser.write(e,r)},e.exports=l,e.exports.default=l,e.exports.Busboy=l,e.exports.Dicer=s},95372:(e,t,r)=>{"use strict";let{Readable:n}=r(84492),{inherits:i}=r(47261),s=r(79009),A=r(35471),o=r(5063),a=r(38349),l=r(97327),c=/^boundary$/i,h=/^form-data$/i,u=/^charset$/i,d=/^filename$/i,g=/^name$/i;function f(e,t){let r,n,i,f,C;let I=this,m=t.limits,Q=t.isPartAFile||((e,t,r)=>"application/octet-stream"===t||void 0!==r),B=t.parsedConType||[],y=t.defCharset||"utf8",w=t.preservePath,b={highWaterMark:t.fileHwm};for(r=0,n=B.length;r<n;++r)if(Array.isArray(B[r])&&c.test(B[r][0])){i=B[r][1];break}function v(){0===_&&U&&!e._done&&(U=!1,I.end())}if("string"!=typeof i)throw Error("Multipart: Boundary not found");let S=l(m,"fieldSize",1048576),D=l(m,"fileSize",1/0),R=l(m,"files",1/0),T=l(m,"fields",1/0),k=l(m,"parts",1/0),N=l(m,"headerPairs",2e3),F=l(m,"headerSize",81920),L=0,M=0,_=0,U=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=e;let O={boundary:i,maxHeaderPairs:N,maxHeaderSize:F,partHwm:b.highWaterMark,highWaterMark:t.highWaterMark};this.parser=new s(O),this.parser.on("drain",function(){if(I._needDrain=!1,I._cb&&!I._pause){let e=I._cb;I._cb=void 0,e()}}).on("part",function t(i){if(++I._nparts>k)return I.parser.removeListener("part",t),I.parser.on("part",E),e.hitPartsLimit=!0,e.emit("partsLimit"),E(i);if(C){let e=C;e.emit("end"),e.removeAllListeners("end")}i.on("header",function(t){let s,l,c,m,B,k,N,F;let U=0;if(t["content-type"]&&(c=A(t["content-type"][0]))[0]){for(r=0,s=c[0].toLowerCase(),n=c.length;r<n;++r)if(u.test(c[r][0])){m=c[r][1].toLowerCase();break}}if(void 0===s&&(s="text/plain"),void 0===m&&(m=y),!t["content-disposition"]||(c=A(t["content-disposition"][0]),!h.test(c[0])))return E(i);for(r=0,n=c.length;r<n;++r)g.test(c[r][0])?l=c[r][1]:d.test(c[r][0])&&(k=c[r][1],w||(k=a(k)));if(B=t["content-transfer-encoding"]?t["content-transfer-encoding"][0].toLowerCase():"7bit",Q(l,s,k)){if(L===R)return e.hitFilesLimit||(e.hitFilesLimit=!0,e.emit("filesLimit")),E(i);if(++L,0===e.listenerCount("file")){I.parser._ignore();return}++_;let t=new p(b);f=t,t.on("end",function(){if(--_,I._pause=!1,v(),I._cb&&!I._needDrain){let e=I._cb;I._cb=void 0,e()}}),t._read=function(e){if(I._pause&&(I._pause=!1,I._cb&&!I._needDrain)){let e=I._cb;I._cb=void 0,e()}},e.emit("file",l,t,k,B,s),N=function(e){if((U+=e.length)>D){let r=D-U+e.length;r>0&&t.push(e.slice(0,r)),t.truncated=!0,t.bytesRead=D,i.removeAllListeners("data"),t.emit("limit");return}t.push(e)||(I._pause=!0),t.bytesRead=U},F=function(){f=void 0,t.push(null)}}else{if(M===T)return e.hitFieldsLimit||(e.hitFieldsLimit=!0,e.emit("fieldsLimit")),E(i);++M,++_;let t="",r=!1;C=i,N=function(e){if((U+=e.length)>S){let n=S-(U-e.length);t+=e.toString("binary",0,n),r=!0,i.removeAllListeners("data")}else t+=e.toString("binary")},F=function(){C=void 0,t.length&&(t=o(t,"binary",m)),e.emit("field",l,t,!1,r,B,s),--_,v()}}i._readableState.sync=!1,i.on("data",N),i.on("end",F)}).on("error",function(e){f&&f.emit("error",e)})}).on("error",function(t){e.emit("error",t)}).on("finish",function(){U=!0,v()})}function E(e){e.resume()}function p(e){n.call(this,e),this.bytesRead=0,this.truncated=!1}f.detect=/^multipart\/form-data/i,f.prototype.write=function(e,t){let r=this.parser.write(e);r&&!this._pause?t():(this._needDrain=!r,this._cb=t)},f.prototype.end=function(){let e=this;e.parser.writable?e.parser.end():e._boy._done||process.nextTick(function(){e._boy._done=!0,e._boy.emit("finish")})},i(p,n),p.prototype._read=function(e){},e.exports=f},79869:(e,t,r)=>{"use strict";let n=r(47466),i=r(5063),s=r(97327),A=/^charset$/i;function o(e,t){let r;let i=t.limits,o=t.parsedConType;this.boy=e,this.fieldSizeLimit=s(i,"fieldSize",1048576),this.fieldNameSizeLimit=s(i,"fieldNameSize",100),this.fieldsLimit=s(i,"fields",1/0);for(var a=0,l=o.length;a<l;++a)if(Array.isArray(o[a])&&A.test(o[a][0])){r=o[a][1].toLowerCase();break}void 0===r&&(r=t.defCharset||"utf8"),this.decoder=new n,this.charset=r,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}o.detect=/^application\/x-www-form-urlencoded/i,o.prototype.write=function(e,t){let r,n,s;if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),t();let A=0,o=e.length;for(;A<o;)if("key"===this._state){for(r=n=void 0,s=A;s<o;++s){if(!this._checkingBytes&&++A,61===e[s]){r=s;break}if(38===e[s]){n=s;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesKey}if(void 0!==r)r>A&&(this._key+=this.decoder.write(e.toString("binary",A,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),A=r+1;else if(void 0!==n){let r;++this._fields;let s=this._keyTrunc;if(r=n>A?this._key+=this.decoder.write(e.toString("binary",A,n)):this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),r.length&&this.boy.emit("field",i(r,"binary",this.charset),"",s,!1),A=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>A&&(this._key+=this.decoder.write(e.toString("binary",A,s))),A=s,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(A<o&&(this._key+=this.decoder.write(e.toString("binary",A))),A=o)}else{for(n=void 0,s=A;s<o;++s){if(!this._checkingBytes&&++A,38===e[s]){n=s;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesVal}if(void 0!==n){if(++this._fields,n>A&&(this._val+=this.decoder.write(e.toString("binary",A,n))),this.boy.emit("field",i(this._key,"binary",this.charset),i(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),A=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(s>A&&(this._val+=this.decoder.write(e.toString("binary",A,s))),A=s,(""===this._val&&0===this.fieldSizeLimit||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(A<o&&(this._val+=this.decoder.write(e.toString("binary",A))),A=o)}t()},o.prototype.end=function(){this.boy._done||("key"===this._state&&this._key.length>0?this.boy.emit("field",i(this._key,"binary",this.charset),"",this._keyTrunc,!1):"val"===this._state&&this.boy.emit("field",i(this._key,"binary",this.charset),i(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))},e.exports=o},47466:e=>{"use strict";let t=/\+/g,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function n(){this.buffer=void 0}n.prototype.write=function(e){e=e.replace(t," ");let n="",i=0,s=0,A=e.length;for(;i<A;++i)void 0!==this.buffer?r[e.charCodeAt(i)]?(this.buffer+=e[i],++s,2===this.buffer.length&&(n+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(n+="%"+this.buffer,this.buffer=void 0,--i):"%"===e[i]&&(i>s&&(n+=e.substring(s,i),s=i),this.buffer="",++s);return s<A&&void 0===this.buffer&&(n+=e.substring(s)),n},n.prototype.reset=function(){this.buffer=void 0},e.exports=n},38349:e=>{"use strict";e.exports=function(e){if("string"!=typeof e)return"";for(var t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e}},5063:function(e){"use strict";let t=new TextDecoder("utf-8"),r=new Map([["utf-8",t],["utf8",t]]);function n(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return i.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return i.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return i.utf16le;case"base64":return i.base64;default:if(void 0===t){t=!0,e=e.toLowerCase();continue}return i.other.bind(e)}}let i={utf8:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.utf8Slice(0,e.length)),latin1:(e,t)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.ucs2Slice(0,e.length)),base64:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.base64Slice(0,e.length)),other:(e,t)=>{if(0===e.length)return"";if("string"==typeof e&&(e=Buffer.from(e,t)),r.has(this.toString()))try{return r.get(this).decode(e)}catch{}return"string"==typeof e?e:e.toString()}};function s(e,t,r){return e?n(r)(e,t):e}e.exports=s},97327:e=>{"use strict";e.exports=function(e,t,r){if(!e||void 0===e[t]||null===e[t])return r;if("number"!=typeof e[t]||isNaN(e[t]))throw TypeError("Limit "+t+" is not a valid number");return e[t]}},35471:(e,t,r)=>{"use strict";let n=r(5063),i=/%[a-fA-F0-9][a-fA-F0-9]/g,s={"%00":"\x00","%01":"\x01","%02":"\x02","%03":"\x03","%04":"\x04","%05":"\x05","%06":"\x06","%07":"\x07","%08":"\b","%09":"	","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"\x0e","%0E":"\x0e","%0f":"\x0f","%0F":"\x0f","%10":"\x10","%11":"\x11","%12":"\x12","%13":"\x13","%14":"\x14","%15":"\x15","%16":"\x16","%17":"\x17","%18":"\x18","%19":"\x19","%1a":"\x1a","%1A":"\x1a","%1b":"\x1b","%1B":"\x1b","%1c":"\x1c","%1C":"\x1c","%1d":"\x1d","%1D":"\x1d","%1e":"\x1e","%1E":"\x1e","%1f":"\x1f","%1F":"\x1f","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"\x7f","%7F":"\x7f","%80":"\x80","%81":"\x81","%82":"\x82","%83":"\x83","%84":"\x84","%85":"\x85","%86":"\x86","%87":"\x87","%88":"\x88","%89":"\x89","%8a":"\x8a","%8A":"\x8a","%8b":"\x8b","%8B":"\x8b","%8c":"\x8c","%8C":"\x8c","%8d":"\x8d","%8D":"\x8d","%8e":"\x8e","%8E":"\x8e","%8f":"\x8f","%8F":"\x8f","%90":"\x90","%91":"\x91","%92":"\x92","%93":"\x93","%94":"\x94","%95":"\x95","%96":"\x96","%97":"\x97","%98":"\x98","%99":"\x99","%9a":"\x9a","%9A":"\x9a","%9b":"\x9b","%9B":"\x9b","%9c":"\x9c","%9C":"\x9c","%9d":"\x9d","%9D":"\x9d","%9e":"\x9e","%9E":"\x9e","%9f":"\x9f","%9F":"\x9f","%a0":"\xa0","%A0":"\xa0","%a1":"\xa1","%A1":"\xa1","%a2":"\xa2","%A2":"\xa2","%a3":"\xa3","%A3":"\xa3","%a4":"\xa4","%A4":"\xa4","%a5":"\xa5","%A5":"\xa5","%a6":"\xa6","%A6":"\xa6","%a7":"\xa7","%A7":"\xa7","%a8":"\xa8","%A8":"\xa8","%a9":"\xa9","%A9":"\xa9","%aa":"\xaa","%Aa":"\xaa","%aA":"\xaa","%AA":"\xaa","%ab":"\xab","%Ab":"\xab","%aB":"\xab","%AB":"\xab","%ac":"\xac","%Ac":"\xac","%aC":"\xac","%AC":"\xac","%ad":"\xad","%Ad":"\xad","%aD":"\xad","%AD":"\xad","%ae":"\xae","%Ae":"\xae","%aE":"\xae","%AE":"\xae","%af":"\xaf","%Af":"\xaf","%aF":"\xaf","%AF":"\xaf","%b0":"\xb0","%B0":"\xb0","%b1":"\xb1","%B1":"\xb1","%b2":"\xb2","%B2":"\xb2","%b3":"\xb3","%B3":"\xb3","%b4":"\xb4","%B4":"\xb4","%b5":"\xb5","%B5":"\xb5","%b6":"\xb6","%B6":"\xb6","%b7":"\xb7","%B7":"\xb7","%b8":"\xb8","%B8":"\xb8","%b9":"\xb9","%B9":"\xb9","%ba":"\xba","%Ba":"\xba","%bA":"\xba","%BA":"\xba","%bb":"\xbb","%Bb":"\xbb","%bB":"\xbb","%BB":"\xbb","%bc":"\xbc","%Bc":"\xbc","%bC":"\xbc","%BC":"\xbc","%bd":"\xbd","%Bd":"\xbd","%bD":"\xbd","%BD":"\xbd","%be":"\xbe","%Be":"\xbe","%bE":"\xbe","%BE":"\xbe","%bf":"\xbf","%Bf":"\xbf","%bF":"\xbf","%BF":"\xbf","%c0":"\xc0","%C0":"\xc0","%c1":"\xc1","%C1":"\xc1","%c2":"\xc2","%C2":"\xc2","%c3":"\xc3","%C3":"\xc3","%c4":"\xc4","%C4":"\xc4","%c5":"\xc5","%C5":"\xc5","%c6":"\xc6","%C6":"\xc6","%c7":"\xc7","%C7":"\xc7","%c8":"\xc8","%C8":"\xc8","%c9":"\xc9","%C9":"\xc9","%ca":"\xca","%Ca":"\xca","%cA":"\xca","%CA":"\xca","%cb":"\xcb","%Cb":"\xcb","%cB":"\xcb","%CB":"\xcb","%cc":"\xcc","%Cc":"\xcc","%cC":"\xcc","%CC":"\xcc","%cd":"\xcd","%Cd":"\xcd","%cD":"\xcd","%CD":"\xcd","%ce":"\xce","%Ce":"\xce","%cE":"\xce","%CE":"\xce","%cf":"\xcf","%Cf":"\xcf","%cF":"\xcf","%CF":"\xcf","%d0":"\xd0","%D0":"\xd0","%d1":"\xd1","%D1":"\xd1","%d2":"\xd2","%D2":"\xd2","%d3":"\xd3","%D3":"\xd3","%d4":"\xd4","%D4":"\xd4","%d5":"\xd5","%D5":"\xd5","%d6":"\xd6","%D6":"\xd6","%d7":"\xd7","%D7":"\xd7","%d8":"\xd8","%D8":"\xd8","%d9":"\xd9","%D9":"\xd9","%da":"\xda","%Da":"\xda","%dA":"\xda","%DA":"\xda","%db":"\xdb","%Db":"\xdb","%dB":"\xdb","%DB":"\xdb","%dc":"\xdc","%Dc":"\xdc","%dC":"\xdc","%DC":"\xdc","%dd":"\xdd","%Dd":"\xdd","%dD":"\xdd","%DD":"\xdd","%de":"\xde","%De":"\xde","%dE":"\xde","%DE":"\xde","%df":"\xdf","%Df":"\xdf","%dF":"\xdf","%DF":"\xdf","%e0":"\xe0","%E0":"\xe0","%e1":"\xe1","%E1":"\xe1","%e2":"\xe2","%E2":"\xe2","%e3":"\xe3","%E3":"\xe3","%e4":"\xe4","%E4":"\xe4","%e5":"\xe5","%E5":"\xe5","%e6":"\xe6","%E6":"\xe6","%e7":"\xe7","%E7":"\xe7","%e8":"\xe8","%E8":"\xe8","%e9":"\xe9","%E9":"\xe9","%ea":"\xea","%Ea":"\xea","%eA":"\xea","%EA":"\xea","%eb":"\xeb","%Eb":"\xeb","%eB":"\xeb","%EB":"\xeb","%ec":"\xec","%Ec":"\xec","%eC":"\xec","%EC":"\xec","%ed":"\xed","%Ed":"\xed","%eD":"\xed","%ED":"\xed","%ee":"\xee","%Ee":"\xee","%eE":"\xee","%EE":"\xee","%ef":"\xef","%Ef":"\xef","%eF":"\xef","%EF":"\xef","%f0":"\xf0","%F0":"\xf0","%f1":"\xf1","%F1":"\xf1","%f2":"\xf2","%F2":"\xf2","%f3":"\xf3","%F3":"\xf3","%f4":"\xf4","%F4":"\xf4","%f5":"\xf5","%F5":"\xf5","%f6":"\xf6","%F6":"\xf6","%f7":"\xf7","%F7":"\xf7","%f8":"\xf8","%F8":"\xf8","%f9":"\xf9","%F9":"\xf9","%fa":"\xfa","%Fa":"\xfa","%fA":"\xfa","%FA":"\xfa","%fb":"\xfb","%Fb":"\xfb","%fB":"\xfb","%FB":"\xfb","%fc":"\xfc","%Fc":"\xfc","%fC":"\xfc","%FC":"\xfc","%fd":"\xfd","%Fd":"\xfd","%fD":"\xfd","%FD":"\xfd","%fe":"\xfe","%Fe":"\xfe","%fE":"\xfe","%FE":"\xfe","%ff":"\xff","%Ff":"\xff","%fF":"\xff","%FF":"\xff"};function A(e){return s[e]}let o=0,a=1,l=2,c=3;function h(e){let t=[],r=o,s="",h=!1,u=!1,d=0,g="",f=e.length;for(var E=0;E<f;++E){let f=e[E];if("\\"===f&&h){if(u)u=!1;else{u=!0;continue}}else if('"'===f){if(u)u=!1;else{h?(h=!1,r=o):h=!0;continue}}else{if(u&&h&&(g+="\\"),u=!1,(r===l||r===c)&&"'"===f){r===l?(r=c,s=g.substring(1)):r=a,g="";continue}if(r===o&&("*"===f||"="===f)&&t.length){r="*"===f?l:a,t[d]=[g,void 0],g="";continue}if(h||";"!==f){if(!h&&(" "===f||"	"===f))continue}else{r=o,s?(g.length&&(g=n(g.replace(i,A),"binary",s)),s=""):g.length&&(g=n(g,"binary","utf8")),void 0===t[d]?t[d]=g:t[d][1]=g,g="",++d;continue}}g+=f}return s&&g.length?g=n(g.replace(i,A),"binary",s):g&&(g=n(g,"binary","utf8")),void 0===t[d]?g&&(t[d]=g):t[d][1]=g,t}e.exports=h},31468:(e,t)=>{var r,n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var s={},A={};function o(e,t){var r,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=A[e]))?n:(r=l(e,0,!0),i&&(A[e]=r),r):(e|=0,(i=-128<=e&&e<128)&&(n=s[e]))?n:(r=l(e,e<0?-1:0,!1),i&&(s[e]=r),r)}function a(e,t){if(isNaN(e))return t?C:p;if(t){if(e<0)return C;if(e>=g)return y}else{if(e<=-f)return w;if(e+1>=f)return B}return e<0?a(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=o,r.fromNumber=a,r.fromBits=l;var c=Math.pow;function h(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?C:p;if((r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return h(e.substring(1),t,r).neg();for(var n,i=a(c(r,8)),s=p,A=0;A<e.length;A+=8){var o=Math.min(8,e.length-A),l=parseInt(e.substring(A,A+o),r);if(o<8){var u=a(c(r,o));s=s.mul(u).add(a(l))}else s=(s=s.mul(i)).add(a(l))}return s.unsigned=t,s}function u(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?h(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=h,r.fromValue=u;var d=4294967296,g=18446744073709552e3,f=0x7fffffffffffffff,E=o(16777216),p=o(0);r.ZERO=p;var C=o(0,!0);r.UZERO=C;var I=o(1);r.ONE=I;var m=o(1,!0);r.UONE=m;var Q=o(-1);r.NEG_ONE=Q;var B=l(-1,2147483647,!1);r.MAX_VALUE=B;var y=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=y;var w=l(0,-2147483648,!1);r.MIN_VALUE=w;var b=r.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(w))return"-"+this.neg().toString(e);var t=a(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var i=a(c(e,6),this.unsigned),s=this,A="";;){var o=s.div(i),l=(s.sub(o.mul(i)).toInt()>>>0).toString(e);if((s=o).isZero())return l+A;for(;l.length<6;)l="0"+l;A=""+l+A}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return(1&this.low)==1},b.isEven=function(){return(1&this.low)==0},b.equals=function(e){return n(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return 0>this.comp(e)},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return 0>=this.comp(e)},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(n(e)||(e=u(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(I)},b.neg=b.negate,b.add=function(e){n(e)||(e=u(e));var t,r,i=this.high>>>16,s=65535&this.high,A=this.low>>>16,o=65535&this.low,a=e.high>>>16,c=65535&e.high,h=e.low>>>16,d=65535&e.low,g=0,f=0;return t=0+((r=0+(o+d))>>>16),r&=65535,t+=A+h,f+=t>>>16,t&=65535,f+=s+c,g+=f>>>16,f&=65535,g+=i+a,l(t<<16|r,(g&=65535)<<16|f,this.unsigned)},b.subtract=function(e){return n(e)||(e=u(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=u(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?C:p;if(this.eq(w))return e.isOdd()?w:p;if(e.eq(w))return this.isOdd()?w:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(E)&&e.lt(E))return a(this.toNumber()*e.toNumber(),this.unsigned);var r,i,s=this.high>>>16,A=65535&this.high,o=this.low>>>16,c=65535&this.low,h=e.high>>>16,d=65535&e.high,g=e.low>>>16,f=65535&e.low,I=0,m=0;return r=0+((i=0+c*f)>>>16),i&=65535,r+=o*f,m+=r>>>16,r&=65535,r+=c*g,m+=r>>>16,r&=65535,m+=A*f,I+=m>>>16,m&=65535,m+=o*g,I+=m>>>16,m&=65535,m+=c*d,I+=m>>>16,m&=65535,I+=s*f+A*g+o*d+c*h,l(r<<16|i,(I&=65535)<<16|m,this.unsigned)},b.mul=b.multiply,b.divide=function(e){if(n(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(t){var r,i,s;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?C:p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return C;if(e.gt(this.shru(1)))return m;s=C}else{if(this.eq(w))return e.eq(I)||e.eq(Q)?w:e.eq(w)?I:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?I:Q:(i=this.sub(e.mul(r)),s=r.add(i.div(e)));if(e.eq(w))return this.unsigned?C:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=p}for(i=this;i.gte(e);){for(var A=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),o=A<=48?1:c(2,A-48),h=a(r),d=h.mul(e);d.isNegative()||d.gt(i);)r-=o,d=(h=a(r,this.unsigned)).mul(e);h.isZero()&&(h=I),s=s.add(h),i=i.sub(d)}return s},b.div=b.divide,b.modulo=function(e){return(n(e)||(e=u(e)),t)?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return l(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(e){return n(e)||(e=u(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return n(e)||(e=u(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return n(e)||(e=u(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?l(this.high,0,this.unsigned):l(this.high>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,l(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?l(this.high,this.low,this.unsigned):e<32?(t=32-e,l(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,l(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var v=r;return e.default=v,"default"in e?e.default:e}({});void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)},95285:(e,t,r)=>{"use strict";let n,i;r.d(t,{Jn:()=>W,qX:()=>G,rh:()=>Y,Xd:()=>V,Mq:()=>z,ZF:()=>j,KN:()=>K});var s=r(47059),A=r(71954),o=r(36348);let a=(e,t)=>t.some(t=>e instanceof t);function l(){return n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let h=new WeakMap,u=new WeakMap,d=new WeakMap,g=new WeakMap,f=new WeakMap;function E(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(B(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&h.set(t,e)}).catch(()=>{}),f.set(t,e),t}function p(e){if(u.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}let C={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return B(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function I(e){C=e(C)}function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(y(this),t),B(h.get(this))}:function(...t){return B(e.apply(y(this),t))}:function(t,...r){let n=e.call(y(this),t,...r);return d.set(n,t.sort?t.sort():[t]),B(n)}}function Q(e){return"function"==typeof e?m(e):(e instanceof IDBTransaction&&p(e),a(e,l()))?new Proxy(e,C):e}function B(e){if(e instanceof IDBRequest)return E(e);if(g.has(e))return g.get(e);let t=Q(e);return t!==e&&(g.set(e,t),f.set(t,e)),t}let y=e=>f.get(e);function w(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){let A=indexedDB.open(e,t),o=B(A);return n&&A.addEventListener("upgradeneeded",e=>{n(B(A.result),e.oldVersion,e.newVersion,B(A.transaction),e)}),r&&A.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}let b=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],S=new Map;function D(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(S.get(t))return S.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=v.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||b.includes(r)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),A=s.store;return n&&(A=A.index(t.shift())),(await Promise.all([A[r](...t),i&&s.done]))[0]};return S.set(t,s),s}I(e=>({...e,get:(t,r,n)=>D(t,r)||e.get(t,r,n),has:(t,r)=>!!D(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!T(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}function T(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}let k="@firebase/app",N="0.10.6",F=new A.Yd("@firebase/app"),L="10.12.3",M="[DEFAULT]",_={[k]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},U=new Map,O=new Map,x=new Map;function P(e,t){try{e.container.addComponent(t)}catch(r){F.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function V(e){let t=e.name;if(x.has(t))return F.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(x.set(t,e),U.values()))P(r,e);for(let t of O.values())P(t,e);return!0}function G(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Y(e){return void 0!==e.settings}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},H=new o.LL("app","Firebase",J);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new s.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw H.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W=L;function j(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:M,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw H.create("bad-app-name",{appName:String(i)});if(r||(r=(0,o.aH)()),!r)throw H.create("no-options");let A=U.get(i);if(A){if((0,o.vZ)(r,A.options)&&(0,o.vZ)(n,A.config))return A;throw H.create("duplicate-app",{appName:i})}let a=new s.H0(i);for(let e of x.values())a.addComponent(e);let l=new q(r,n,a);return U.set(i,l),l}function z(e=M){let t=U.get(e);if(!t&&e===M&&(0,o.aH)())return j();if(!t)throw H.create("no-app",{appName:e});return t}function K(e,t,r){var n;let i=null!==(n=_[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let A=i.match(/\s|\//),o=t.match(/\s|\//);if(A||o){let e=[`Unable to register library "${i}" with version "${t}":`];A&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),A&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),F.warn(e.join(" "));return}V(new s.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X="firebase-heartbeat-database",Z=1,$="firebase-heartbeat-store",ee=null;function et(){return ee||(ee=w(X,Z,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($)}catch(e){console.warn(e)}}}).catch(e=>{throw H.create("idb-open",{originalErrorMessage:e.message})})),ee}async function er(e){try{let t=(await et()).transaction($),r=await t.objectStore($).get(ei(e));return await t.done,r}catch(e){if(e instanceof o.ZR)F.warn(e.message);else{let t=H.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});F.warn(t.message)}}}async function en(e,t){try{let r=(await et()).transaction($,"readwrite"),n=r.objectStore($);await n.put(t,ei(e)),await r.done}catch(e){if(e instanceof o.ZR)F.warn(e.message);else{let t=H.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});F.warn(t.message)}}}function ei(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es=1024,eA=2592e6;class eo{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ec(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ea();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n)?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=eA}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=ea(),{heartbeatsToSend:r,unsentEntries:n}=el(this._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ea(){return new Date().toISOString().substring(0,10)}function el(e,t=es){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),eh(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),eh(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ec{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await er(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return en(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return en(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function eh(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){V(new s.wA("platform-logger",e=>new R(e),"PRIVATE")),V(new s.wA("heartbeat",e=>new eo(e),"PRIVATE")),K(k,N,""),K(k,N,"esm2017"),K("fire-js","")})(0)},47059:(e,t,r)=>{"use strict";r.d(t,{H0:()=>l,wA:()=>i});var n=r(36348);class i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new n.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(a(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function o(e){return e===s?void 0:e}function a(e){return"EAGER"===e.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new A(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},65023:(e,t,r)=>{"use strict";r.d(t,{ET:()=>fC,hJ:()=>d3,oe:()=>fp,JU:()=>d4,QT:()=>fu,PL:()=>fg,ad:()=>gt,b9:()=>gZ,Xo:()=>gK,IO:()=>gH,Bt:()=>fB,pl:()=>ff,TQ:()=>g0,r7:()=>fE,ar:()=>gW});var n,i,s,A,o=r(95285),a=r(47059),l=r(71954),c=r(73837),h=r(36348),u=r(6113),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var s=e.g[3],A=t+(s^r&(i^s))+n[0]+3614090360&4294967295;A=s+(i^(t=r+(A<<7&4294967295|A>>>25))&(r^i))+n[1]+3905402710&4294967295,A=i+(r^(s=t+(A<<12&4294967295|A>>>20))&(t^r))+n[2]+606105819&4294967295,A=r+(t^(i=s+(A<<17&4294967295|A>>>15))&(s^t))+n[3]+3250441966&4294967295,A=t+(s^(r=i+(A<<22&4294967295|A>>>10))&(i^s))+n[4]+4118548399&4294967295,A=s+(i^(t=r+(A<<7&4294967295|A>>>25))&(r^i))+n[5]+1200080426&4294967295,A=i+(r^(s=t+(A<<12&4294967295|A>>>20))&(t^r))+n[6]+2821735955&4294967295,A=r+(t^(i=s+(A<<17&4294967295|A>>>15))&(s^t))+n[7]+4249261313&4294967295,A=t+(s^(r=i+(A<<22&4294967295|A>>>10))&(i^s))+n[8]+1770035416&4294967295,A=s+(i^(t=r+(A<<7&4294967295|A>>>25))&(r^i))+n[9]+2336552879&4294967295,A=i+(r^(s=t+(A<<12&4294967295|A>>>20))&(t^r))+n[10]+4294925233&4294967295,A=r+(t^(i=s+(A<<17&4294967295|A>>>15))&(s^t))+n[11]+2304563134&4294967295,A=t+(s^(r=i+(A<<22&4294967295|A>>>10))&(i^s))+n[12]+1804603682&4294967295,A=s+(i^(t=r+(A<<7&4294967295|A>>>25))&(r^i))+n[13]+4254626195&4294967295,A=i+(r^(s=t+(A<<12&4294967295|A>>>20))&(t^r))+n[14]+2792965006&4294967295,A=r+(t^(i=s+(A<<17&4294967295|A>>>15))&(s^t))+n[15]+1236535329&4294967295,r=i+(A<<22&4294967295|A>>>10),A=t+(i^s&(r^i))+n[1]+4129170786&4294967295,t=r+(A<<5&4294967295|A>>>27),A=s+(r^i&(t^r))+n[6]+3225465664&4294967295,s=t+(A<<9&4294967295|A>>>23),A=i+(t^r&(s^t))+n[11]+643717713&4294967295,i=s+(A<<14&4294967295|A>>>18),A=r+(s^t&(i^s))+n[0]+3921069994&4294967295,r=i+(A<<20&4294967295|A>>>12),A=t+(i^s&(r^i))+n[5]+3593408605&4294967295,t=r+(A<<5&4294967295|A>>>27),A=s+(r^i&(t^r))+n[10]+38016083&4294967295,s=t+(A<<9&4294967295|A>>>23),A=i+(t^r&(s^t))+n[15]+3634488961&4294967295,i=s+(A<<14&4294967295|A>>>18),A=r+(s^t&(i^s))+n[4]+3889429448&4294967295,r=i+(A<<20&4294967295|A>>>12),A=t+(i^s&(r^i))+n[9]+568446438&4294967295,t=r+(A<<5&4294967295|A>>>27),A=s+(r^i&(t^r))+n[14]+3275163606&4294967295,s=t+(A<<9&4294967295|A>>>23),A=i+(t^r&(s^t))+n[3]+4107603335&4294967295,i=s+(A<<14&4294967295|A>>>18),A=r+(s^t&(i^s))+n[8]+1163531501&4294967295,r=i+(A<<20&4294967295|A>>>12),A=t+(i^s&(r^i))+n[13]+2850285829&4294967295,t=r+(A<<5&4294967295|A>>>27),A=s+(r^i&(t^r))+n[2]+4243563512&4294967295,s=t+(A<<9&4294967295|A>>>23),A=i+(t^r&(s^t))+n[7]+1735328473&4294967295,i=s+(A<<14&4294967295|A>>>18),A=r+(s^t&(i^s))+n[12]+2368359562&4294967295,A=t+((r=i+(A<<20&4294967295|A>>>12))^i^s)+n[5]+4294588738&4294967295,A=s+((t=r+(A<<4&4294967295|A>>>28))^r^i)+n[8]+2272392833&4294967295,A=i+((s=t+(A<<11&4294967295|A>>>21))^t^r)+n[11]+1839030562&4294967295,A=r+((i=s+(A<<16&4294967295|A>>>16))^s^t)+n[14]+4259657740&4294967295,A=t+((r=i+(A<<23&4294967295|A>>>9))^i^s)+n[1]+2763975236&4294967295,A=s+((t=r+(A<<4&4294967295|A>>>28))^r^i)+n[4]+1272893353&4294967295,A=i+((s=t+(A<<11&4294967295|A>>>21))^t^r)+n[7]+4139469664&4294967295,A=r+((i=s+(A<<16&4294967295|A>>>16))^s^t)+n[10]+3200236656&4294967295,A=t+((r=i+(A<<23&4294967295|A>>>9))^i^s)+n[13]+681279174&4294967295,A=s+((t=r+(A<<4&4294967295|A>>>28))^r^i)+n[0]+3936430074&4294967295,A=i+((s=t+(A<<11&4294967295|A>>>21))^t^r)+n[3]+3572445317&4294967295,A=r+((i=s+(A<<16&4294967295|A>>>16))^s^t)+n[6]+76029189&4294967295,A=t+((r=i+(A<<23&4294967295|A>>>9))^i^s)+n[9]+3654602809&4294967295,A=s+((t=r+(A<<4&4294967295|A>>>28))^r^i)+n[12]+3873151461&4294967295,A=i+((s=t+(A<<11&4294967295|A>>>21))^t^r)+n[15]+530742520&4294967295,A=r+((i=s+(A<<16&4294967295|A>>>16))^s^t)+n[2]+3299628645&4294967295,r=i+(A<<23&4294967295|A>>>9),A=t+(i^(r|~s))+n[0]+4096336452&4294967295,t=r+(A<<6&4294967295|A>>>26),A=s+(r^(t|~i))+n[7]+1126891415&4294967295,s=t+(A<<10&4294967295|A>>>22),A=i+(t^(s|~r))+n[14]+2878612391&4294967295,i=s+(A<<15&4294967295|A>>>17),A=r+(s^(i|~t))+n[5]+4237533241&4294967295,r=i+(A<<21&4294967295|A>>>11),A=t+(i^(r|~s))+n[12]+1700485571&4294967295,t=r+(A<<6&4294967295|A>>>26),A=s+(r^(t|~i))+n[3]+2399980690&4294967295,s=t+(A<<10&4294967295|A>>>22),A=i+(t^(s|~r))+n[10]+4293915773&4294967295,i=s+(A<<15&4294967295|A>>>17),A=r+(s^(i|~t))+n[1]+2240044497&4294967295,r=i+(A<<21&4294967295|A>>>11),A=t+(i^(r|~s))+n[8]+1873313359&4294967295,t=r+(A<<6&4294967295|A>>>26),A=s+(r^(t|~i))+n[15]+4264355552&4294967295,s=t+(A<<10&4294967295|A>>>22),A=i+(t^(s|~r))+n[6]+2734768916&4294967295,i=s+(A<<15&4294967295|A>>>17),A=r+(s^(i|~t))+n[13]+1309151649&4294967295,r=i+(A<<21&4294967295|A>>>11),A=t+(i^(r|~s))+n[4]+4149444226&4294967295,t=r+(A<<6&4294967295|A>>>26),A=s+(r^(t|~i))+n[11]+3174756917&4294967295,s=t+(A<<10&4294967295|A>>>22),A=i+(t^(s|~r))+n[2]+718787259&4294967295,i=s+(A<<15&4294967295|A>>>17),A=r+(s^(i|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(A<<21&4294967295|A>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){var r=o;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}function s(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var s=0|e[i];n&&s==t||(r[i]=s,n=!1)}this.g=r}(function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}})(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(e,r){void 0===r&&(r=e.length);for(var n=r-this.blockSize,i=this.B,s=this.h,A=0;A<r;){if(0==s)for(;A<=n;)t(this,e,A),A+=this.blockSize;if("string"==typeof e){for(;A<r;)if(i[s++]=e.charCodeAt(A++),s==this.blockSize){t(this,i),s=0;break}}else for(;A<r;)if(i[s++]=e[A++],s==this.blockSize){t(this,i),s=0;break}}this.h=s,this.o+=r},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var A,o={};function a(e){return -128<=e&&128>e?r(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return h;if(0>e)return p(l(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=4294967296;return new s(t,0)}function c(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return p(c(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(t,8)),n=h,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),A=parseInt(e.substring(i,i+s),t);8>s?(s=l(Math.pow(t,s)),n=n.j(s).add(l(A))):n=(n=n.j(r)).add(l(A))}return n}var h=a(0),u=a(1),d=a(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function E(e){return -1==e.h}function p(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new s(r,~e.h).add(u)}function C(e,t){return e.add(p(t))}function I(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function Q(e,t){if(f(t))throw Error("division by zero");if(f(e))return new m(h,h);if(E(e))return t=Q(p(e),t),new m(p(t.g),p(t.h));if(E(t))return t=Q(e,p(t)),new m(p(t.g),t.h);if(30<e.g.length){if(E(e)||E(t))throw Error("slowDivide_ only works with positive integers.");for(var r=u,n=t;0>=n.l(e);)r=B(r),n=B(n);var i=y(r,1),s=y(n,1);for(n=y(n,2),r=y(r,2);!f(n);){var A=s.add(n);0>=A.l(e)&&(i=i.add(r),s=A),n=y(n,1),r=y(r,1)}return t=C(e,i.j(t)),new m(i,t)}for(i=h;0<=e.l(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,n-48),A=(s=l(r)).j(t);E(A)||0<A.l(e);)r-=n,A=(s=l(r)).j(t);f(s)&&(s=u),i=i.add(s),e=C(e,A)}return new m(i,e)}function B(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new s(r,e.h)}function y(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,i=[],A=0;A<n;A++)i[A]=0<t?e.i(A+r)>>>t|e.i(A+r+1)<<32-t:e.i(A+r);return new s(i,e.h)}(A=s.prototype).m=function(){if(E(this))return-p(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},A.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(E(this))return"-"+p(this).toString(e);for(var t=l(Math.pow(e,6)),r=this,n="";;){var i=Q(r,t).g,s=((0<(r=C(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(f(r=i))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},A.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},A.l=function(e){return E(e=C(this,e))?-1:f(e)?0:1},A.abs=function(){return E(this)?p(this):this},A.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,i=0;i<=t;i++){var A=n+(65535&this.i(i))+(65535&e.i(i)),o=(A>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);n=o>>>16,A&=65535,o&=65535,r[i]=o<<16|A}return new s(r,-2147483648&r[r.length-1]?-1:0)},A.j=function(e){if(f(this)||f(e))return h;if(E(this))return E(e)?p(this).j(p(e)):p(p(this).j(e));if(E(e))return p(this.j(p(e)));if(0>this.l(d)&&0>e.l(d))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<e.g.length;i++){var A=this.i(n)>>>16,o=65535&this.i(n),a=e.i(i)>>>16,c=65535&e.i(i);r[2*n+2*i]+=o*c,I(r,2*n+2*i),r[2*n+2*i+1]+=A*c,I(r,2*n+2*i+1),r[2*n+2*i+1]+=o*a,I(r,2*n+2*i+1),r[2*n+2*i+2]+=A*a,I(r,2*n+2*i+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new s(r,0)},A.A=function(e){return Q(this,e).h},A.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new s(r,this.h&e.h)},A.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new s(r,this.h|e.h)},A.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new s(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,i=g.Md5=e,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,n=g.Integer=s}).apply(void 0!==d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var f=r(22165),E=r(58715);let p="@firebase/firestore",C="4.6.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}I.UNAUTHENTICATED=new I(null),I.GOOGLE_CREDENTIALS=new I("google-credentials-uid"),I.FIRST_PARTY=new I("first-party-uid"),I.MOCK_USER=new I("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m="10.12.3";function Q(e){m=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e){return(0,c.inspect)(e,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y=new l.Yd("@firebase/firestore");function w(){return y.logLevel}function b(e,...t){if(y.logLevel<=l.in.DEBUG){let r=t.map(D);y.debug(`Firestore (${m}): ${e}`,...r)}}function v(e,...t){if(y.logLevel<=l.in.ERROR){let r=t.map(D);y.error(`Firestore (${m}): ${e}`,...r)}}function S(e,...t){if(y.logLevel<=l.in.WARN){let r=t.map(D);y.warn(`Firestore (${m}): ${e}`,...r)}}function D(e){if("string"==typeof e)return e;try{return B(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e="Unexpected state"){let t=`FIRESTORE (${m}) INTERNAL ASSERTION FAILED: `+e;throw v(t),Error(t)}function T(e,t){e||R()}function k(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends h.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(I.UNAUTHENTICATED))}shutdown(){}}class U{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class O{constructor(e){this.authProvider=e,this.currentUser=I.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.tokenCounter,n=e=>this.tokenCounter!==r?(r=this.tokenCounter,t(e)):Promise.resolve(),i=new L;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),i.resolve(),i=new L,e.enqueueRetryable(()=>n(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},A=e=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.tokenListener),s()};this.authProvider.onInit(e=>A(e)),setTimeout(()=>{if(!this.auth){let e=this.authProvider.getImmediate({optional:!0});e?A(e):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new L)}},0),s()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(t).then(t=>this.tokenCounter!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(T("string"==typeof t.accessToken),new M(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let e=this.auth&&this.auth.getUid();return T(null===e||"string"==typeof e),new I(e)}}class x{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=I.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class P{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new x(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(I.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){let r=e=>{null!=e.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.latestAppCheckToken;return this.latestAppCheckToken=e.token,b("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.appCheckProvider.getImmediate({optional:!0});e?n(e):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(e).then(e=>e?(T("string"==typeof e.token),this.latestAppCheckToken=e.token,new V(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}}function Y(e){if(!e)return new _;switch(e.type){case"firstParty":return new P(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){return(0,u.randomBytes)(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",n=20;for(;r.length<n;){let i=J(40);for(let s=0;s<i.length;++s)r.length<n&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function q(e,t){return e<t?-1:e>t?1:0}function W(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}function j(e){return e+"\x00"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z=-62135596800,K=1e6;class X{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z||e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return X.fromMillis(Date.now())}static fromDate(e){return X.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*K);return new X(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-z).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new X(0,0))}static max(){return new Z(new X(253402300799,1e9-1))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $="__name__";class ee{constructor(e,t,r){void 0===t?t=0:t>e.length&&R(),void 0===r?r=e.length-t:r>e.length-t&&R(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ee.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof ee?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.get(n),i=t.get(n);if(r<i)return -1;if(r>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends ee{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new et(t)}static emptyPath(){return new et([])}}let er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ee{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return er.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$}static keyField(){return new en([$])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if(!("\\"===t||"."===t||"`"===t))throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?s=!s:"."!==t||s?r+=t:i(),n++}if(i(),s)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.path=e}static fromPath(e){return new ei(et.fromString(e))}static fromName(e){return new ei(et.fromString(e).popFirst(5))}static empty(){return new ei(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ei(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es=-1,eA=0;class eo{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function ea(e){return e.fields.find(e=>2===e.kind)}function el(e){return e.fields.filter(e=>2!==e.kind)}function ec(e){let t=el(e);return 0===t.length?0:t[t.length-1].kind}function eh(e,t){let r=q(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(e.fields.length,t.fields.length);++n)if(0!==(r=eg(e.fields[n],t.fields[n])))return r;return q(e.fields.length,t.fields.length)}function eu(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}eo.UNKNOWN_ID=-1;class ed{constructor(e,t){this.fieldPath=e,this.kind=t}}function eg(e,t){let r=en.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:q(e.kind,t.kind)}class ef{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ef(eA,eC.min())}}function eE(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new eC(Z.fromTimestamp(1e9===n?new X(r+1,0):new X(r,n)),ei.empty(),t)}function ep(e){return new eC(e.readTime,e.key,es)}class eC{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new eC(Z.min(),ei.empty(),es)}static max(){return new eC(Z.max(),ei.empty(),es)}}function eI(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=ei.comparator(e.documentKey,t.documentKey))?r:q(e.largestBatchId,t.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eB(e){if(e.code===N.FAILED_PRECONDITION&&e.message===em)b("LocalStore","Unexpectedly lost primary lease");else throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return(this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ey((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();if(t instanceof ey)return t;return ey.resolve(t)}catch(e){return ey.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ey.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ey.reject(t)}static resolve(e){return new ey((t,r)=>{t(e)})}static reject(e){return new ey((t,r)=>{r(e)})}static waitFor(e){return new ey((t,r)=>{let n=0,i=0,s=!1;e.forEach(e=>{++n,e.next(()=>{++i,s&&i===n&&t()},e=>r(e))}),s=!0,i===n&&t()})}static or(e){let t=ey.resolve(!1);for(let r of e)t=t.next(e=>e?ey.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new ey((r,n)=>{let i=e.length,s=Array(i),A=0;for(let o=0;o<i;o++){let a=o;t(e[a]).next(e=>{s[a]=e,++A===i&&r(s)},e=>n(e))}})}static doWhile(e,t){return new ey((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ew="SimpleDb",eb=3;class ev{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.completionDeferred=new L,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{t.error?this.completionDeferred.reject(new eT(e,t.error)):this.completionDeferred.resolve()},this.transaction.onerror=t=>{let r=eM(t.target.error);this.completionDeferred.reject(new eT(e,r))}}static open(e,t,r,n){try{return new ev(t,e.transaction(n,r))}catch(e){throw new eT(t,e)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(b(ew,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new eN(this.transaction.objectStore(e))}}class eS{constructor(e,t,r){this.name=e,this.version=t,this.schemaConverter=r,12.2===eS.getIOSVersion(getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b(ew,"Removing database:",e),eF(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!isIndexedDBAvailable())return!1;if(eS.isMockPersistence())return!0;let e=getUA(),t=eS.getIOSVersion(e),r=0<t&&t<10,n=eD(e),i=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)&&!r&&!i}static isMockPersistence(){var e;return"undefined"!=typeof process&&(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}async ensureDb(e){return this.db||(b(ew,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new eT(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new F(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new F(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new eT(e,n))},n.onupgradeneeded=e=>{b(ew,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.schemaConverter.createOrUpgrade(t,n.transaction,e.oldVersion,this.version).next(()=>{b(ew,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=e=>this.versionchangelistener(e)),this.db}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.ensureDb(e);let t=ev.open(this.db,e,i?"readonly":"readwrite",r),s=n(t).next(e=>(t.maybeCommit(),e)).catch(e=>(t.abort(e),ey.reject(e))).toPromise();return s.catch(()=>{}),await t.completionPromise,s}catch(r){let e=r,t="FirebaseError"!==e.name&&s<eb;if(b(ew,"Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eD(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class eR{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return eF(this.dbCursor.delete())}}class eT extends null{constructor(e,t){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ek(e){return"IndexedDbTransactionError"===e.name}class eN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(b(ew,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(b(ew,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eF(r)}add(e){return b(ew,"ADD",this.store.name,e,e),eF(this.store.add(e))}get(e){return eF(this.store.get(e)).next(t=>(void 0===t&&(t=null),b(ew,"GET",this.store.name,e,t),t))}delete(e){return b(ew,"DELETE",this.store.name,e),eF(this.store.delete(e))}count(){return b(ew,"COUNT",this.store.name),eF(this.store.count())}loadAll(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new ey((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.iterateCursor(e,(e,r)=>{t.push(r)}).next(()=>t)}}loadFirst(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new ey((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){b(ew,"DELETE ALL",this.store.name);let r=this.options(e,t);r.keysOnly=!1;let n=this.cursor(r);return this.iterateCursor(n,(e,t,r)=>r.delete())}iterate(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.iterateCursor(n,t)}iterateSerial(e){let t=this.cursor({});return new ey((r,n)=>{t.onerror=e=>{n(eM(e.target.error))},t.onsuccess=t=>{let n=t.target.result;if(!n){r();return}e(n.primaryKey,n.value).next(e=>{e?n.continue():r()})}})}iterateCursor(e,t){let r=[];return new ey((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i){n();return}let s=new eR(i),A=t(i.primaryKey,i.value,s);if(A instanceof ey){let e=A.catch(e=>(s.done(),ey.reject(e)));r.push(e)}s.isDone?n():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}}).next(()=>ey.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),!e.index)return this.store.openCursor(e.range,t);{let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}}}function eF(e){return new ey((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(eM(e.target.error))}})}let eL=!1;function eM(e){let t=eS.getIOSVersion(getUA());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eL||(eL=!0,setTimeout(()=>{throw e},0)),e}}return e}let e_="IndexBackfiller",eU=null,eO=null,ex=50;class eP{constructor(e,t){this.asyncQueue=e,this.backfiller=t,this.task=null}start(){this.schedule(eU)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(e){b(e_,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.backfiller.backfill();b(e_,`Documents written: ${e}`)}catch(e){ek(e)?b(e_,"Ignoring IndexedDB error during index backfill: ",e):await eB(e)}await this.schedule(eO)})}}class eV{constructor(e,t){this.localStore=e,this.persistence=t}async backfill(e=ex){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){let r=new Set,n=t,i=!0;return ey.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(!(null===t||r.has(t)))return b(e_,`Processing collection: ${t}`),this.writeEntriesForCollectionGroup(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}writeEntriesForCollectionGroup(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.getNewOffset(n,r)).next(r=>(b(e_,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}getNewOffset(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=ep(t);eI(n,r)>0&&(r=n)}),new eC(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.setPreviousValue(e),this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e))}setPreviousValue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e}}eG.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eY="\x01",eJ="\x01",eH="\x10",eq="\x11";function eW(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=ez(t)),t=ej(e.get(r),t);return ez(t)}function ej(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\x00":r+=eY+eH;break;case eY:r+=eY+eq;break;default:r+=n}}return r}function ez(e){return e+eY+eJ}function eK(e){let t=e.length;if(T(t>=2),2===t)return T(e.charAt(0)===eY&&e.charAt(1)===eJ),et.emptyPath();let r=t-2,n=[],i="";for(let s=0;s<t;){let t=e.indexOf(eY,s);switch((t<0||t>r)&&R(),e.charAt(t+1)){case eJ:let A;let o=e.substring(s,t);0===i.length?A=o:(i+=o,A=i,i=""),n.push(A);break;case eH:i+=e.substring(s,t)+"\x00";break;case eq:i+=e.substring(s,t+1);break;default:R()}s=t+2}return new et(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eX="remoteDocuments",eZ="owner",e$="owner",e0="mutationQueues",e1="userId",e2="mutations",e9="batchId",e3="userMutationsIndex",e4=null;function e5(e){return[e]}function e8(e,t){return[e,eW(t)]}function e6(e,t,r){return[e,eW(t),r]}let e7={},te="documentMutations",tt="remoteDocumentsV14",tr=null,tn="documentKeyIndex",ti=null,ts="collectionGroupIndex",tA=null,to="remoteDocumentGlobal",ta="remoteDocumentGlobalKey",tl="targets",tc="targetId",th="queryTargetsIndex",tu=null,td="targetDocuments",tg=null,tf="documentTargetsIndex",tE=null,tp="targetGlobalKey",tC="targetGlobal",tI="collectionParents",tm=null,tQ="clientMetadata",tB="clientId",ty="bundles",tw="bundleId",tb="namedQueries",tv="name",tS="indexConfiguration",tD="indexId",tR="collectionGroupIndex",tT="collectionGroup",tk="indexState",tN=null,tF="sequenceNumberIndex",tL=null,tM="indexEntries",t_=null,tU="documentKeyIndex",tO=null,tx="documentOverlays",tP=null,tV="collectionPathOverlayIndex",tG=null,tY="collectionGroupOverlayIndex",tJ=null,tH=[e0,e2,te,eX,tl,eZ,tC,td,tQ,to,tI,ty,tb],tq=[...tH,tx],tW=[e0,e2,te,tt,tl,eZ,tC,td,tQ,to,tI,ty,tb,tx],tj=tW,tz=[...tj,tS,tk,tM],tK=null;function tX(e){return 16===e?tK:15===e?tz:14===e?tj:13===e?tW:12===e?tq:11===e?tH:void R()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ extends null{constructor(e,t){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=t}}function t$(e,t){let r=k(e);return eS.getStore(r.simpleDbTransaction,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function t1(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function t2(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,t){this.comparator=e,this.root=t||t4.EMPTY}insert(e,t){return new t9(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,t4.BLACK,null,null))}remove(e){return new t9(this.comparator,this.root.remove(e,this.comparator).copy(null,null,t4.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t3(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t3(this.root,e,this.comparator,!1)}getReverseIterator(){return new t3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t3(this.root,e,this.comparator,!0)}}class t3{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else if(0===i){this.nodeStack.push(e);break}else this.nodeStack.push(e),e=this.isReverse?e.right:e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class t4{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:t4.RED,this.left=null!=n?n:t4.EMPTY,this.right=null!=i?i:t4.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new t4(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return t4.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r;let n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return t4.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t4.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t4.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();let e=this.left.check();if(e===this.right.check())return e+(this.isRed()?0:1);throw R()}}t4.EMPTY=null,t4.RED=!0,t4.BLACK=!1;class t5{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(e,t,r,n,i){return this}insert(e,t,r){return new t4(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}t4.EMPTY=new t5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.comparator=e,this.data=new t9(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new t6(this.data.getIterator())}getIteratorFrom(e){return new t6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof t8)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new t8(this.comparator);return t.data=e,t}}class t6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function t7(e,t,r,n,i){let s=e.getIterator(),A=t.getIterator(),o=re(s),a=re(A);for(;o||a;){let e=!1,t=!1;if(o&&a){let n=r(o,a);n<0?t=!0:n>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(n(a),a=re(A)):t?(i(o),o=re(s)):(o=re(s),a=re(A))}}function re(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new rt([])}unionWith(e){let t=new t8(en.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new rt(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return W(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e){return Buffer.from(e,"base64").toString("binary")}function rn(e){return Buffer.from(e,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.binaryString=e}static fromBase64String(e){return new ri(rr(e))}static fromUint8Array(e){return new ri(rs(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return rn(this.binaryString)}toUint8Array(){return rA(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function rs(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}function rA(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}ri.EMPTY_BYTE_STRING=new ri("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(e){if(T(!!e),"string"==typeof e){let t=0,r=ro.exec(e);if(T(!!r),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:rl(e.seconds),nanos:rl(e.nanos)}}function rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rc(e){return"string"==typeof e?ri.fromBase64String(e):ri.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh="server_timestamp",ru="__type__",rd="__previous_value__",rg="__local_write_time__";function rf(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ru])||void 0===r?void 0:r.stringValue)===rh}function rE(e,t){let r={fields:{[ru]:{stringValue:rh},[rg]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rf(t)&&(t=rp(t)),t&&(r.fields[rd]=t),{mapValue:r}}function rp(e){let t=e.mapValue.fields[rd];return rf(t)?rp(t):t}function rC(e){let t=ra(e.mapValue.fields[rg].timestampValue);return new X(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,r,n,i,s,A,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=A,this.longPollingOptions=o,this.useFetchStreams=a}}let rm="(default)";class rQ{constructor(e,t){this.projectId=e,this.database=t||rm}static empty(){return new rQ("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof rQ&&e.projectId===this.projectId&&e.database===this.database}}function rB(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rQ(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry=-1;function rw(e){return null==e}function rb(e){return 0===e&&1/e==-1/0}function rv(e){return"number"==typeof e&&Number.isInteger(e)&&!rb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rS="__max__",rD={mapValue:{fields:{__type__:{stringValue:rS}}}},rR={nullValue:"NULL_VALUE"};function rT(e){if("nullValue"in e)return 0;if("booleanValue"in e)return 1;if("integerValue"in e||"doubleValue"in e)return 2;if("timestampValue"in e)return 3;if("stringValue"in e)return 5;if("bytesValue"in e)return 6;if("referenceValue"in e)return 7;else if("geoPointValue"in e)return 8;else if("arrayValue"in e)return 9;else if(!("mapValue"in e))return R();else return rf(e)?4:nr(e)?9007199254740991:10}function rk(e,t){if(e===t)return!0;let r=rT(e);if(r!==rT(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rC(e).isEqual(rC(t));case 3:return rN(e,t);case 5:return e.stringValue===t.stringValue;case 6:return rL(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return rF(e,t);case 2:return rM(e,t);case 9:return W(e.arrayValue.values||[],t.arrayValue.values||[],rk);case 10:return r_(e,t);default:return R()}}function rN(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=ra(e.timestampValue),n=ra(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}function rF(e,t){return rl(e.geoPointValue.latitude)===rl(t.geoPointValue.latitude)&&rl(e.geoPointValue.longitude)===rl(t.geoPointValue.longitude)}function rL(e,t){return rc(e.bytesValue).isEqual(rc(t.bytesValue))}function rM(e,t){if("integerValue"in e&&"integerValue"in t)return rl(e.integerValue)===rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=rl(e.doubleValue),n=rl(t.doubleValue);return r===n?rb(r)===rb(n):isNaN(r)&&isNaN(n)}return!1}function r_(e,t){let r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(t0(r)!==t0(n))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!rk(r[e],n[e])))return!1;return!0}function rU(e,t){return void 0!==(e.values||[]).find(e=>rk(e,t))}function rO(e,t){if(e===t)return 0;let r=rT(e),n=rT(t);if(r!==n)return q(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return rx(e,t);case 3:return rP(e.timestampValue,t.timestampValue);case 4:return rP(rC(e),rC(t));case 5:return q(e.stringValue,t.stringValue);case 6:return rY(e.bytesValue,t.bytesValue);case 7:return rV(e.referenceValue,t.referenceValue);case 8:return rG(e.geoPointValue,t.geoPointValue);case 9:return rJ(e.arrayValue,t.arrayValue);case 10:return rH(e.mapValue,t.mapValue);default:throw R()}}function rx(e,t){let r=rl(e.integerValue||e.doubleValue),n=rl(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}function rP(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return q(e,t);let r=ra(e),n=ra(t),i=q(r.seconds,n.seconds);return 0!==i?i:q(r.nanos,n.nanos)}function rV(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=q(r[e],n[e]);if(0!==t)return t}return q(r.length,n.length)}function rG(e,t){let r=q(rl(e.latitude),rl(t.latitude));return 0!==r?r:q(rl(e.longitude),rl(t.longitude))}function rY(e,t){let r=rc(e),n=rc(t);return r.compareTo(n)}function rJ(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=rO(r[e],n[e]);if(t)return t}return q(r.length,n.length)}function rH(e,t){if(e===rD.mapValue&&t===rD.mapValue)return 0;if(e===rD.mapValue)return 1;if(t===rD.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){let t=q(n[e],s[e]);if(0!==t)return t;let A=rO(r[n[e]],i[s[e]]);if(0!==A)return A}return q(n.length,s.length)}function rq(e){return rW(e)}function rW(e){if("nullValue"in e)return"null";if("booleanValue"in e)return""+e.booleanValue;if("integerValue"in e)return""+e.integerValue;if("doubleValue"in e)return""+e.doubleValue;if("timestampValue"in e)return rz(e.timestampValue);if("stringValue"in e)return e.stringValue;if("bytesValue"in e)return rj(e.bytesValue);else if("referenceValue"in e)return rX(e.referenceValue);else if("geoPointValue"in e)return rK(e.geoPointValue);else if("arrayValue"in e)return r$(e.arrayValue);else if("mapValue"in e)return rZ(e.mapValue);else return R()}function rj(e){return rc(e).toBase64()}function rz(e){let t=ra(e);return`time(${t.seconds},${t.nanos})`}function rK(e){return`geo(${e.latitude},${e.longitude})`}function rX(e){return ei.fromName(e).toString()}function rZ(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${rW(e.fields[i])}`;return r+"}"}function r$(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=rW(n);return t+"]"}function r0(e){switch(rT(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=rp(e);return t?16+r0(t):16;case 5:return 2*e.stringValue.length;case 6:return rc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return r2(e.arrayValue);case 10:return r1(e.mapValue);default:throw R()}}function r1(e){let t=0;return t1(e.fields,(e,r)=>{t+=e.length+r0(r)}),t}function r2(e){return(e.values||[]).reduce((e,t)=>e+r0(t),0)}function r9(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function r3(e){return!!e&&"integerValue"in e}function r4(e){return!!e&&"doubleValue"in e}function r5(e){return r3(e)||r4(e)}function r8(e){return!!e&&"arrayValue"in e}function r6(e){return!!e&&"nullValue"in e}function r7(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ne(e){return!!e&&"mapValue"in e}function nt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return t1(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=nt(r)),t}{if(!e.arrayValue)return Object.assign({},e);let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=nt(e.arrayValue.values[r]);return t}}function nr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rS}function nn(e){if("nullValue"in e)return rR;if("booleanValue"in e)return{booleanValue:!1};if("integerValue"in e||"doubleValue"in e)return{doubleValue:NaN};if("timestampValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in e)return{stringValue:""};if("bytesValue"in e)return{bytesValue:""};if("referenceValue"in e)return r9(rQ.empty(),ei.empty());else if("geoPointValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in e)return{arrayValue:{}};else if("mapValue"in e)return{mapValue:{}};else return R()}function ni(e){if("nullValue"in e)return{booleanValue:!1};if("booleanValue"in e)return{doubleValue:NaN};if("integerValue"in e||"doubleValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in e)return{stringValue:""};if("stringValue"in e)return{bytesValue:""};if("bytesValue"in e)return r9(rQ.empty(),ei.empty());if("referenceValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in e)return{arrayValue:{}};else if("arrayValue"in e)return{mapValue:{}};else if("mapValue"in e)return rD;else return R()}function ns(e,t){let r=rO(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nA(e,t){let r=rO(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.value=e}static empty(){return new no({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!ne(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nt(t)}setAll(e){let t=en.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=nt(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rk(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];ne(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(t1(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new no(nt(this.value))}}function na(e){let t=[];return t1(e.fields,(e,r)=>{let n=new en([e]);if(ne(r)){let e=na(r.mapValue).fields;if(0===e.length)t.push(n);else for(let r of e)t.push(n.child(r))}else t.push(n)}),new rt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r,n,i,s,A){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=A}static newInvalidDocument(e){return new nl(e,0,Z.min(),Z.min(),Z.min(),no.empty(),0)}static newFoundDocument(e,t,r,n){return new nl(e,1,t,Z.min(),r,n,0)}static newNoDocument(e,t){return new nl(e,2,t,Z.min(),Z.min(),no.empty(),0)}static newUnknownDocument(e,t){return new nl(e,3,t,Z.min(),Z.min(),no.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(Z.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=no.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=no.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function nc(e,t,r){let n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?rO(n,i):R()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function nu(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let s=t[i],A=e.position[i];if(n=s.field.isKeyField()?ei.comparator(ei.fromName(A.referenceValue),r.key):rO(A,r.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function nd(e,t,r){let n=nu(e,t,r);return e.inclusive?n>=0:n>0}function ng(e,t,r){let n=nu(e,t,r);return e.inclusive?n<=0:n<0}function nf(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!rk(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t="asc"){this.field=e,this.dir=t}}function np(e){return e.field.canonicalString()+e.dir}function nC(e){return`${e.field.canonicalString()} (${e.dir})`}function nI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{}class nQ extends nm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nM(e,t,r):"array-contains"===t?new nx(e,r):"in"===t?new nP(e,r):"not-in"===t?new nV(e,r):"array-contains-any"===t?new nG(e,r):new nQ(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new n_(e,r):new nU(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rO(t,this.value)):null!==t&&rT(this.value)===rT(t)&&this.matchesComparison(rO(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nB extends nm{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new nB(e,t)}matches(e){return ny(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function ny(e){return"and"===e.op}function nw(e){return"or"===e.op}function nb(e){return nv(e)&&ny(e)}function nv(e){for(let t of e.filters)if(t instanceof nB)return!1;return!0}function nS(e){if(e instanceof nQ)return e.field.canonicalString()+e.op.toString()+rq(e.value);if(nb(e))return e.filters.map(e=>nS(e)).join(",");{let t=e.filters.map(e=>nS(e)).join(",");return`${e.op}(${t})`}}function nD(e,t){return e instanceof nQ?nR(e,t):e instanceof nB?nT(e,t):void R()}function nR(e,t){return t instanceof nQ&&e.op===t.op&&e.field.isEqual(t.field)&&rk(e.value,t.value)}function nT(e,t){return t instanceof nB&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&nD(r,t.filters[n]),!0)}function nk(e,t){let r=e.filters.concat(t);return nB.create(r,e.op)}function nN(e){return e instanceof nQ?nL(e):e instanceof nB?nF(e):"Filter"}function nF(e){return e.op.toString()+" {"+e.getFilters().map(nN).join(" ,")+"}"}function nL(e){return`${e.field.canonicalString()} ${e.op} ${rq(e.value)}`}class nM extends nQ{constructor(e,t,r){super(e,t,r),this.key=ei.fromName(r.referenceValue)}matches(e){let t=ei.comparator(e.key,this.key);return this.matchesComparison(t)}}class n_ extends nQ{constructor(e,t){super(e,"in",t),this.keys=nO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nU extends nQ{constructor(e,t){super(e,"not-in",t),this.keys=nO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nO(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>ei.fromName(e.referenceValue))}class nx extends nQ{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return r8(t)&&rU(t.arrayValue,this.value)}}class nP extends nQ{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&rU(this.value.arrayValue,t)}}class nV extends nQ{constructor(e,t){super(e,"not-in",t)}matches(e){if(rU(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!rU(this.value.arrayValue,t)}}class nG extends nQ{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!!r8(t)&&!!t.arrayValue.values&&t.arrayValue.values.some(e=>rU(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,t=null,r=[],n=[],i=null,s=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=A,this.memoizedCanonicalId=null}}function nJ(e,t=null,r=[],n=[],i=null,s=null,A=null){return new nY(e,t,r,n,i,s,A)}function nH(e){let t=k(e);if(null===t.memoizedCanonicalId){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>nS(e)).join(",")+"|ob:"+t.orderBy.map(e=>np(e)).join(","),rw(t.limit)||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>rq(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>rq(e)).join(",")),t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function nq(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>nN(e)).join(", ")}]`),rw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>nC(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>rq(e)).join(",")),e.endAt&&(t+=", endAt: "+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>rq(e)).join(",")),`Target(${t})`}function nW(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!nI(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!nD(e.filters[r],t.filters[r]))return!1;return!!(e.collectionGroup===t.collectionGroup&&e.path.isEqual(t.path)&&nf(e.startAt,t.startAt))&&nf(e.endAt,t.endAt)}function nj(e){return ei.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function nz(e,t){return e.filters.filter(e=>e instanceof nQ&&e.field.isEqual(t))}function nK(e,t){let r=ea(t);if(void 0===r)return null;for(let t of nz(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}function nX(e,t){let r=new Map;for(let n of el(t))for(let t of nz(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}function nZ(e,t){let r=[],n=!0;for(let i of el(t)){let t=0===i.kind?n0(e,i.fieldPath,e.startAt):n1(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new nh(r,n)}function n$(e,t){let r=[],n=!0;for(let i of el(t)){let t=0===i.kind?n1(e,i.fieldPath,e.endAt):n0(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new nh(r,n)}function n0(e,t,r){let n=rR,i=!0;for(let r of nz(e,t)){let e=rR,t=!0;switch(r.op){case"<":case"<=":e=nn(r.value);break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=rR}0>ns({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];0>ns({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function n1(e,t,r){let n=rD,i=!0;for(let r of nz(e,t)){let e=rD,t=!0;switch(r.op){case">=":case">":e=ni(r.value),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=rD}nA({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];nA({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function n2(e){let t=new t8(en.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(r?1:0)}function n9(e){return null!==e.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t=null,r=[],n=[],i=null,s="F",A=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=A,this.endAt=o,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function n4(e,t,r,n,i,s,A,o){return new n3(e,t,r,n,i,s,A,o)}function n5(e){return new n3(e)}function n8(e,t){return new n3(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function n6(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function n7(e){let t=new t8(en.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}function ie(e){return ei.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function it(e){return null!==e.collectionGroup}function ir(e){let t=k(e);if(null===t.memoizedNormalizedOrderBy){t.memoizedNormalizedOrderBy=[];let e=new Set;for(let r of t.explicitOrderBy)t.memoizedNormalizedOrderBy.push(r),e.add(r.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";n7(t).forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.memoizedNormalizedOrderBy.push(new nE(n,r))}),e.has(en.keyField().canonicalString())||t.memoizedNormalizedOrderBy.push(new nE(en.keyField(),r))}return t.memoizedNormalizedOrderBy}function ii(e){let t=k(e);return t.memoizedTarget||(t.memoizedTarget=iA(t,ir(e))),t.memoizedTarget}function is(e){let t=k(e);return t.memoizedAggregateTarget||(t.memoizedAggregateTarget=iA(t,e.explicitOrderBy)),t.memoizedAggregateTarget}function iA(e,t){if("F"===e.limitType)return nJ(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new nE(e.field,t)});let r=e.endAt?new nh(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new nh(e.startAt.position,e.startAt.inclusive):null;return nJ(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function io(e,t){let r=e.filters.concat([t]);return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function ia(e,t){let r=e.explicitOrderBy.concat([t]);return new n3(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function il(e,t,r){return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function ic(e,t){return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function ih(e,t){return new n3(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function iu(e,t){return nW(ii(e),ii(t))&&e.limitType===t.limitType}function id(e){return`${nH(ii(e))}|lt:${e.limitType}`}function ig(e){return`Query(target=${nq(ii(e))}; limitType=${e.limitType})`}function iE(e,t){return t.isFoundDocument()&&ip(e,t)&&iC(e,t)&&iI(e,t)&&im(e,t)}function ip(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ei.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}function iC(e,t){for(let r of ir(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}function iI(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}function im(e,t){return(!e.startAt||!!ng(e.startAt,ir(e),t))&&(!e.endAt||!!nd(e.endAt,ir(e),t))}function iQ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iB(e){return(t,r)=>{let n=!1;for(let i of ir(e)){let e=iy(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}function iy(e,t,r){let n=e.field.isKeyField()?ei.comparator(t.key,r.key):nc(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return R()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n){this.inner[r]=[[e,t]],this.innerSize++;return}for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e)){n[r]=[e,t];return}n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){t1(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib=new t9(ei.comparator);function iv(){return ib}let iS=new t9(ei.comparator);function iD(...e){let t=iS;for(let r of e)t=t.insert(r.key,r);return t}function iR(){return iF()}function iT(e){let t=iS;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ik(){return iF()}function iN(){return iF()}function iF(){return new iw(e=>e.toString(),(e,t)=>e.isEqual(t))}let iL=new t9(ei.comparator);function iM(){return iL}let i_=new t8(ei.comparator);function iU(...e){let t=i_;for(let r of e)t=t.add(r);return t}let iO=new t8(q);function ix(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rb(t)?"-0":t}}function iV(e){return{integerValue:""+e}}function iG(e,t){return rv(t)?iV(t):iP(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(){this._=void 0}}function iJ(e,t,r){return e instanceof ij?rE(r,t):e instanceof iz?iK(e,t):e instanceof iX?iZ(e,t):i0(e,t)}function iH(e,t,r){return e instanceof iz?iK(e,t):e instanceof iX?iZ(e,t):r}function iq(e,t){return e instanceof i$?r5(t)?t:{integerValue:0}:null}function iW(e,t){return e instanceof iz&&t instanceof iz||e instanceof iX&&t instanceof iX?W(e.elements,t.elements,rk):e instanceof i$&&t instanceof i$?rk(e.operand,t.operand):e instanceof ij&&t instanceof ij}class ij extends iY{}class iz extends iY{constructor(e){super(),this.elements=e}}function iK(e,t){let r=i2(t);for(let t of e.elements)r.some(e=>rk(e,t))||r.push(t);return{arrayValue:{values:r}}}class iX extends iY{constructor(e){super(),this.elements=e}}function iZ(e,t){let r=i2(t);for(let t of e.elements)r=r.filter(e=>!rk(e,t));return{arrayValue:{values:r}}}class i$ extends iY{constructor(e,t){super(),this.serializer=e,this.operand=t}}function i0(e,t){let r=iq(e,t),n=i1(r)+i1(e.operand);return r3(r)&&r3(e.operand)?iV(n):iP(e.serializer,n)}function i1(e){return rl(e.integerValue||e.doubleValue)}function i2(e){return r8(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,t){this.field=e,this.transform=t}}function i3(e,t){return e.field.isEqual(t.field)&&iW(e.transform,t.transform)}function i4(e,t){return void 0===e&&void 0===t||!!e&&!!t&&W(e,t,(e,t)=>i3(e,t))}class i5{constructor(e,t){this.version=e,this.transformResults=t}}class i8{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new i8}static exists(e){return new i8(void 0,e)}static updateTime(e){return new i8(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function i6(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class i7{}function se(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new sg(e.key,i8.none()):new ss(e.key,e.data,i8.none());{let r=e.data,n=no.empty(),i=new t8(en.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new sa(e.key,n,new rt(i.toArray()),i8.none())}}function st(e,t,r){e instanceof ss?sA(e,t,r):e instanceof sa?sl(e,t,r):sf(e,t,r)}function sr(e,t,r,n){return e instanceof ss?so(e,t,r,n):e instanceof sa?sc(e,t,r,n):sE(e,t,r)}function sn(e,t){let r=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),i=iq(n.transform,e||null);null!=i&&(null===r&&(r=no.empty()),r.set(n.field,i))}return r||null}function si(e,t){return!!(e.type===t.type&&e.key.isEqual(t.key)&&e.precondition.isEqual(t.precondition)&&i4(e.fieldTransforms,t.fieldTransforms))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ss extends i7{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}function sA(e,t,r){let n=e.value.clone(),i=su(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}function so(e,t,r,n){if(!i6(e.precondition,t))return r;let i=e.value.clone(),s=sd(e.fieldTransforms,n,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}class sa extends i7{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sl(e,t,r){if(!i6(e.precondition,t)){t.convertToUnknownDocument(r.version);return}let n=su(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(sh(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}function sc(e,t,r,n){if(!i6(e.precondition,t))return r;let i=sd(e.fieldTransforms,n,t),s=t.data;return(s.setAll(sh(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function sh(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function su(e,t,r){let n=new Map;T(e.length===r.length);for(let i=0;i<r.length;i++){let s=e[i],A=s.transform,o=t.data.field(s.field);n.set(s.field,iH(A,o,r[i]))}return n}function sd(e,t,r){let n=new Map;for(let i of e){let e=i.transform,s=r.data.field(i.field);n.set(i.field,iJ(e,s,t))}return n}class sg extends i7{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function sf(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}function sE(e,t,r){return i6(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}class sp extends i7{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&st(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=sr(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=sr(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iN();return this.mutations.forEach(n=>{let i=e.get(n.key),s=i.overlayedDocument,A=this.applyToLocalView(s,i.mutatedFields),o=se(s,A=t.has(n.key)?null:A);null!==o&&r.set(n.key,o),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),iU())}isEqual(e){return this.batchId===e.batchId&&W(this.mutations,e.mutations,(e,t)=>si(e,t))&&W(this.baseMutations,e.baseMutations,(e,t)=>si(e,t))}}class sI{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){T(e.mutations.length===r.length);let n=iM(),i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new sI(e,t,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,t){this.count=e,this.unchangedNames=t}}function sB(e){switch(e){case N.OK:return R();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return R()}}function sy(e){return sB(e)&&e!==N.ABORTED}function sw(e){if(void 0===e)return v("GRPC error has no .code"),N.UNKNOWN;switch(e){case s.OK:return N.OK;case s.CANCELLED:return N.CANCELLED;case s.UNKNOWN:return N.UNKNOWN;case s.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case s.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case s.INTERNAL:return N.INTERNAL;case s.UNAVAILABLE:return N.UNAVAILABLE;case s.UNAUTHENTICATED:return N.UNAUTHENTICATED;case s.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case s.NOT_FOUND:return N.NOT_FOUND;case s.ALREADY_EXISTS:return N.ALREADY_EXISTS;case s.PERMISSION_DENIED:return N.PERMISSION_DENIED;case s.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case s.ABORTED:return N.ABORTED;case s.OUT_OF_RANGE:return N.OUT_OF_RANGE;case s.UNIMPLEMENTED:return N.UNIMPLEMENTED;case s.DATA_LOSS:return N.DATA_LOSS;default:return R()}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(s||(s={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new c.TextEncoder}function sD(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sR=new n([4294967295,4294967295],0);function sT(e){let t=sS().encode(e),r=new i;return r.update(t),new Uint8Array(r.digest())}function sk(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),A=t.getUint32(12,!0);return[new n([r,i],0),new n([s,A],0)]}class sN{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sF(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new sF(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sF(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=8*e.length-t,this.bitCountInInteger=n.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(n.fromNumber(r)));return 1===i.compare(sR)&&(i=new n([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(0===this.bitCount)return!1;let[t,r]=sk(sT(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);if(!this.isBitSet(n))return!1}return!0}static create(e,t,r){let n=e%8==0?0:8-e%8,i=new sN(new Uint8Array(Math.ceil(e/8)),n,t);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.bitCount)return;let[t,r]=sk(sT(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);this.setBit(n)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sF extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,sM.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sL(Z.min(),n,new t9(q),iv(),iU())}}class sM{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sM(r,t,iU(),iU(),iU())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,r,n){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=n}}class sU{constructor(e,t){this.targetId=e,this.existenceFilter=t}}class sO{constructor(e,t,r=ri.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class sx{constructor(){this.pendingResponses=0,this.documentChanges=sY(),this._resumeToken=ri.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=iU(),t=iU(),r=iU();return this.documentChanges.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:R()}}),new sM(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=sY()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,T(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let sP="WatchChangeAggregator";class sV{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=iv(),this.pendingDocumentTargetMapping=sG(),this.pendingTargetResets=new t9(q)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:R()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((e,r)=>{this.isActiveTarget(r)&&t(r)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,n=this.targetDataForActiveTarget(t);if(n){let i=n.target;if(nj(i)){if(0===r){let e=new ei(i.path);this.removeDocumentFromTarget(t,e,nl.newNoDocument(e,Z.min()))}else T(1===r)}else{let n=this.getCurrentDocumentCountForTarget(t);if(n!==r){let r=this.parseBloomFilter(e),i=r?this.applyBloomFilter(r,e,n):1;if(0!==i){this.resetTarget(t);let e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}null==sv||sv.notifyOnExistenceFilterMismatch(sJ(n,e.existenceFilter,this.metadataProvider.getDatabaseId(),r,i))}}}}parseBloomFilter(e){let t,r;let n=e.existenceFilter.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:A=0}=n;try{t=rc(i).toUint8Array()}catch(e){if(e instanceof sb)return S("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new sN(t,s,A)}catch(e){return e instanceof sF?S("BloomFilter error: ",e):S("Applying bloom filter failed: ",e),null}return 0===r.bitCount?null:r}applyBloomFilter(e,t,r){return t.existenceFilter.count===r-this.filterRemovedDocuments(e,t.targetId)?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.metadataProvider.getDatabaseId(),s=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;!e.mightContain(s)&&(this.removeDocumentFromTarget(t,r,null),n++)}),n}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((r,n)=>{let i=this.targetDataForActiveTarget(n);if(i){if(r.current&&nj(i.target)){let t=new ei(i.target.path);null!==this.pendingDocumentUpdates.get(t)||this.targetContainsDocument(n,t)||this.removeDocumentFromTarget(n,t,nl.newNoDocument(t,e))}r.hasPendingChanges&&(t.set(n,r.toTargetChange()),r.clearPendingChanges())}});let r=iU();this.pendingDocumentTargetMapping.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.targetDataForActiveTarget(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.pendingDocumentUpdates.forEach((t,r)=>r.setReadTime(e));let n=new sL(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=iv(),this.pendingDocumentTargetMapping=sG(),this.pendingTargetResets=new t9(q),n}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let n=this.ensureTargetState(e);this.targetContainsDocument(e,t)?n.addDocumentChange(t,1):n.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new sx,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new t8(q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=null!==this.targetDataForActiveTarget(e);return t||b(sP,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new sx),this.metadataProvider.getRemoteKeysForTarget(e).forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}}function sG(){return new t9(ei.comparator)}function sY(){return new t9(ei.comparator)}function sJ(e,t,r,n,i){var s,A,o,a,l,c;let h={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},u=t.unchangedNames;return u&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==u?void 0:u.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===(o=null===(A=null==u?void 0:u.bits)||void 0===A?void 0:A.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(l=null==u?void 0:u.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sH=(()=>{let e={};return e.asc="ASCENDING",e.desc="DESCENDING",e})(),sq=(()=>{let e={};return e["<"]="LESS_THAN",e["<="]="LESS_THAN_OR_EQUAL",e[">"]="GREATER_THAN",e[">="]="GREATER_THAN_OR_EQUAL",e["=="]="EQUAL",e["!="]="NOT_EQUAL",e["array-contains"]="ARRAY_CONTAINS",e.in="IN",e["not-in"]="NOT_IN",e["array-contains-any"]="ARRAY_CONTAINS_ANY",e})(),sW=(()=>{let e={};return e.and="AND",e.or="OR",e})();class sj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sz(e){return new F(void 0===e.code?N.UNKNOWN:sw(e.code),e.message||"")}function sK(e,t){return e.useProto3Json||rw(t)?t:{value:t}}function sX(e){let t;return rw(t="object"==typeof e?e.value:e)?null:t}function sZ(e,t){if(!e.useProto3Json)return{seconds:""+t.seconds,nanos:t.nanoseconds};{let e=new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),r=("000000000"+t.nanoseconds).slice(-9);return`${e}.${r}Z`}}function s$(e){let t=ra(e);return new X(t.seconds,t.nanos)}function s0(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function s1(e,t){return e.useProto3Json?(T(void 0===t||"string"==typeof t),ri.fromBase64String(t||"")):(T(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ri.fromUint8Array(t||new Uint8Array))}function s2(e,t){return sZ(e,t.toTimestamp())}function s9(e){return T(!!e),Z.fromTimestamp(s$(e))}function s3(e,t){return s4(e,t).canonicalString()}function s4(e,t){let r=Ar(e).child("documents");return void 0===t?r:r.child(t)}function s5(e){let t=et.fromString(e);return T(A9(t)),t}function s8(e,t){return s3(e.databaseId,t.path)}function s6(e,t){let r=s5(t);if(r.get(1)!==e.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ei(An(r))}function s7(e,t){return s3(e.databaseId,t)}function Ae(e){let t=s5(e);return 4===t.length?et.emptyPath():An(t)}function At(e){return new et(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ar(e){return new et(["projects",e.projectId,"databases",e.database])}function An(e){return T(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ai(e,t,r){return{name:s8(e,t),fields:r.value.mapValue.fields}}function As(e,t){return{name:s8(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sZ(e,t.version.toTimestamp()),createTime:sZ(e,t.createTime.toTimestamp())}}function AA(e,t,r){let n=s6(e,t.name),i=s9(t.updateTime),s=t.createTime?s9(t.createTime):Z.min(),A=new no({mapValue:{fields:t.fields}}),o=nl.newFoundDocument(n,i,s,A);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function Ao(e,t){T(!!t.found),t.found.name,t.found.updateTime;let r=s6(e,t.found.name),n=s9(t.found.updateTime),i=t.found.createTime?s9(t.found.createTime):Z.min(),s=new no({mapValue:{fields:t.found.fields}});return nl.newFoundDocument(r,n,i,s)}function Aa(e,t){T(!!t.missing),T(!!t.readTime);let r=s6(e,t.missing),n=s9(t.readTime);return nl.newNoDocument(r,n)}function Al(e,t){return"found"in t?Ao(e,t):"missing"in t?Aa(e,t):R()}function Ac(e,t){let r;if("targetChange"in t){t.targetChange;let n=Ah(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=s1(e,t.targetChange.resumeToken),A=t.targetChange.cause;r=new sO(n,i,s,A&&sz(A)||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=s6(e,n.document.name),s=s9(n.document.updateTime),A=n.document.createTime?s9(n.document.createTime):Z.min(),o=new no({mapValue:{fields:n.document.fields}}),a=nl.newFoundDocument(i,s,A,o);r=new s_(n.targetIds||[],n.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=s6(e,n.document),s=n.readTime?s9(n.readTime):Z.min(),A=nl.newNoDocument(i,s);r=new s_([],n.removedTargetIds||[],A.key,A)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=s6(e,n.document);r=new s_([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return R();t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,s=new sQ(n,i);r=new sU(e.targetId,s)}return r}function Ah(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:R()}function Au(e){if(!("targetChange"in e))return Z.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length||!t.readTime?Z.min():s9(t.readTime)}function Ad(e,t){let r;if(t instanceof ss)r={update:Ai(e,t.key,t.value)};else if(t instanceof sg)r={delete:s8(e,t.key)};else if(t instanceof sa)r={update:Ai(e,t.key,t.data),updateMask:A1(t.fieldMask)};else{if(!(t instanceof sp))return R();r={verify:s8(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(t=>AI(e,t))),t.precondition.isNone||(r.currentDocument=Af(e,t.precondition)),r}function Ag(e,t){let r=t.currentDocument?AE(t.currentDocument):i8.none(),n=t.updateTransforms?t.updateTransforms.map(t=>Am(e,t)):[];if(t.update){t.update.name;let i=s6(e,t.update.name),s=new no({mapValue:{fields:t.update.fields}});return t.updateMask?new sa(i,s,A2(t.updateMask),r,n):new ss(i,s,r,n)}return t.delete?new sg(s6(e,t.delete),r):t.verify?new sp(s6(e,t.verify),r):R()}function Af(e,t){return void 0!==t.updateTime?{updateTime:s2(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:R()}function AE(e){return void 0!==e.updateTime?i8.updateTime(s9(e.updateTime)):void 0!==e.exists?i8.exists(e.exists):i8.none()}function Ap(e,t){let r=e.updateTime?s9(e.updateTime):s9(t);return r.isEqual(Z.min())&&(r=s9(t)),new i5(r,e.transformResults||[])}function AC(e,t){return e&&e.length>0?(T(void 0!==t),e.map(e=>Ap(e,t))):[]}function AI(e,t){let r=t.transform;if(r instanceof ij)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof iz)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof iX)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof i$)return{fieldPath:t.field.canonicalString(),increment:r.operand};throw R()}function Am(e,t){let r=null;return"setToServerValue"in t?(T("REQUEST_TIME"===t.setToServerValue),r=new ij):"appendMissingElements"in t?r=new iz(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new iX(t.removeAllFromArray.values||[]):"increment"in t?r=new i$(e,t.increment):R(),new i9(en.fromServerFormat(t.fieldPath),r)}function AQ(e,t){return{documents:[s7(e,t.path)]}}function AB(e){return T(1===e.documents.length),ii(n5(Ae(e.documents[0])))}function Ay(e,t){let r;let n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=s7(e,r);let s=AT(t.filters);s&&(n.structuredQuery.where=s);let A=AF(t.orderBy);A&&(n.structuredQuery.orderBy=A);let o=sK(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=AM(t.startAt)),t.endAt&&(n.structuredQuery.endAt=A_(t.endAt)),{queryTarget:n,parent:r}}function Aw(e,t,r,n){let{queryTarget:i,parent:s}=Ay(e,t),A={},o=[],a=0;return r.forEach(e=>{let t=n?e.alias:`aggregate_${a++}`;A[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:AH(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:AH(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},aliasMap:A,parent:s}}function Ab(e){let t=Ae(e.parent),r=e.structuredQuery,n=r.from?r.from.length:0,i=null;if(n>0){T(1===n);let e=r.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];r.where&&(s=Ak(r.where));let A=[];r.orderBy&&(A=AL(r.orderBy));let o=null;r.limit&&(o=sX(r.limit));let a=null;r.startAt&&(a=AU(r.startAt));let l=null;return r.endAt&&(l=AO(r.endAt)),n4(t,i,A,s,o,"F",a,l)}function Av(e){return ii(Ab(e))}function AS(e,t){let r=AD(t.purpose);return null==r?null:{"goog-listen-tags":r}}function AD(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}function AR(e,t){let r;let n=t.target;if((r=nj(n)?{documents:AQ(e,n)}:{query:Ay(e,n).queryTarget}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=s0(e,t.resumeToken);let n=sK(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(Z.min())>0){r.readTime=sZ(e,t.snapshotVersion.toTimestamp());let n=sK(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}function AT(e){if(0!==e.length)return Az(nB.create(e,"and"))}function Ak(e){let t=AN(e);return t instanceof nB&&nb(t)?t.getFilters():[t]}function AN(e){return void 0!==e.unaryFilter?AZ(e):void 0!==e.fieldFilter?A$(e):void 0!==e.compositeFilter?A0(e):R()}function AF(e){if(0!==e.length)return e.map(e=>AW(e))}function AL(e){return e.map(e=>Aj(e))}function AM(e){return{before:e.inclusive,values:e.position}}function A_(e){return{before:!e.inclusive,values:e.position}}function AU(e){let t=!!e.before;return new nh(e.values||[],t)}function AO(e){let t=!e.before;return new nh(e.values||[],t)}function Ax(e){return sH[e]}function AP(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function AV(e){return sq[e]}function AG(e){return sW[e]}function AY(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}function AJ(e){switch(e){case"AND":return"and";case"OR":return"or";default:return R()}}function AH(e){return{fieldPath:e.canonicalString()}}function Aq(e){return en.fromServerFormat(e.fieldPath)}function AW(e){return{field:AH(e.field),direction:Ax(e.dir)}}function Aj(e){return new nE(Aq(e.field),AP(e.direction))}function Az(e){return e instanceof nQ?AX(e):e instanceof nB?AK(e):R()}function AK(e){let t=e.getFilters().map(e=>Az(e));return 1===t.length?t[0]:{compositeFilter:{op:AG(e.op),filters:t}}}function AX(e){if("=="===e.op){if(r7(e.value))return{unaryFilter:{field:AH(e.field),op:"IS_NAN"}};if(r6(e.value))return{unaryFilter:{field:AH(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(r7(e.value))return{unaryFilter:{field:AH(e.field),op:"IS_NOT_NAN"}};if(r6(e.value))return{unaryFilter:{field:AH(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:AH(e.field),op:AV(e.op),value:e.value}}}function AZ(e){switch(e.unaryFilter.op){case"IS_NAN":let t=Aq(e.unaryFilter.field);return nQ.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=Aq(e.unaryFilter.field);return nQ.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=Aq(e.unaryFilter.field);return nQ.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Aq(e.unaryFilter.field);return nQ.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function A$(e){return nQ.create(Aq(e.fieldFilter.field),AY(e.fieldFilter.op),e.fieldFilter.value)}function A0(e){return nB.create(e.compositeFilter.filters.map(e=>AN(e)),AJ(e.compositeFilter.op))}function A1(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function A2(e){return new rt((e.fieldPaths||[]).map(e=>en.fromServerFormat(e)))}function A9(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t,r,n,i=Z.min(),s=Z.min(),A=ri.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=A,this.expectedCount=o}withSequenceNumber(e){return new A3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new A3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new A3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new A3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.remoteSerializer=e}}function A5(e,t){let r;if(t.document)r=AA(e.remoteSerializer,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=ei.fromSegments(t.noDocument.path),n=ot(t.noDocument.readTime);r=nl.newNoDocument(e,n),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return R();let e=ei.fromSegments(t.unknownDocument.path),n=ot(t.unknownDocument.version);r=nl.newUnknownDocument(e,n)}return t.readTime&&r.setReadTime(A7(t.readTime)),r}function A8(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:A6(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=As(e.remoteSerializer,t);else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:oe(t.version)};else{if(!t.isUnknownDocument())return R();n.unknownDocument={path:r.path.toArray(),version:oe(t.version)}}return n}function A6(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function A7(e){let t=new X(e[0],e[1]);return Z.fromTimestamp(t)}function oe(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ot(e){let t=new X(e.seconds,e.nanoseconds);return Z.fromTimestamp(t)}function or(e,t,r){let n=r.baseMutations.map(t=>Ad(e.remoteSerializer,t)),i=r.mutations.map(t=>Ad(e.remoteSerializer,t));return{userId:t,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:n,mutations:i}}function on(e,t){let r=(t.baseMutations||[]).map(t=>Ag(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let n=t.mutations[e+1];r.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let n=t.mutations.map(t=>Ag(e.remoteSerializer,t)),i=X.fromMillis(t.localWriteTimeMs);return new sC(t.batchId,i,r,n)}function oi(e){let t;let r=ot(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ot(e.lastLimboFreeSnapshotVersion):Z.min();return new A3(t=oA(e.query)?AB(e.query):Av(e.query),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,n,ri.fromBase64String(e.resumeToken))}function os(e,t){let r;let n=oe(t.snapshotVersion),i=oe(t.lastLimboFreeSnapshotVersion);r=nj(t.target)?AQ(e.remoteSerializer,t.target):Ay(e.remoteSerializer,t.target).queryTarget;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nH(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oA(e){return void 0!==e.documents}function oo(e){return{id:e.bundleId,createTime:ot(e.createTime),version:e.version}}function oa(e){return{bundleId:e.id,createTime:oe(s9(e.createTime)),version:e.version}}function ol(e){return{name:e.name,query:oh(e.bundledQuery),readTime:ot(e.readTime)}}function oc(e){return{name:e.name,readTime:oe(s9(e.readTime)),bundledQuery:e.bundledQuery}}function oh(e){let t=Ab({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?il(t,t.limit,"L"):t}function ou(e){return{name:e.name,query:oh(e.bundledQuery),readTime:s9(e.readTime)}}function od(e){return{id:e.id,version:e.version,createTime:s9(e.createTime)}}function og(e,t){return new sm(t.largestBatchId,Ag(e.remoteSerializer,t.overlayMutation))}function of(e,t,r){let[n,i,s]=oE(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:Ad(e.remoteSerializer,r.mutation)}}function oE(e,t){let r=t.path.lastSegment();return[e,eW(t.path.popLast()),r]}function op(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function oC(e,t){let r=t?new ef(t.sequenceNumber,new eC(ot(t.readTime),new ei(eK(t.documentKey)),t.largestBatchId)):ef.empty(),n=e.fields.map(([e,t])=>new ed(en.fromServerFormat(e),t));return new eo(e.indexId,e.collectionGroup,n,r)}function oI(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:oe(n.readTime),documentKey:eW(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{getBundleMetadata(e,t){return oQ(e).get(t).next(e=>{if(e)return oo(e)})}saveBundleMetadata(e,t){return oQ(e).put(oa(t))}getNamedQuery(e,t){return oB(e).get(t).next(e=>{if(e)return ol(e)})}saveNamedQuery(e,t){return oB(e).put(oc(t))}}function oQ(e){return t$(e,ty)}function oB(e){return t$(e,tb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.serializer=e,this.userId=t}static forUser(e,t){return new oy(e,t.uid||"")}getOverlay(e,t){return ow(e).get(oE(this.userId,t)).next(e=>e?og(this.serializer,e):null)}getOverlays(e,t){let r=ik();return ey.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let s=new sm(t,i);n.push(this.saveOverlay(e,s))}),ey.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(eW(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(ow(e).deleteAll(tV,n))}),ey.waitFor(i)}getOverlaysForCollection(e,t,r){let n=ik(),i=eW(t),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ow(e).loadAll(tV,s).next(e=>{for(let t of e){let e=og(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i;let s=ik(),A=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ow(e).iterate({index:tY,range:A},(e,t,r)=>{let A=og(this.serializer,t);s.size()<n||A.largestBatchId===i?(s.set(A.getKey(),A),i=A.largestBatchId):r.done()}).next(()=>s)}saveOverlay(e,t){return ow(e).put(of(this.serializer,this.userId,t))}}function ow(e){return t$(e,tx)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ob=5,ov=10,oS=13,oD=15,oR=20,oT=25,ok=30,oN=37,oF=45,oL=50,oM=55,o_=60,oU=2;class oO{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,ob);else if("booleanValue"in e)this.writeValueTypeLabel(t,ov),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,oD),t.writeNumber(rl(e.integerValue));else if("doubleValue"in e){let r=rl(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,oS):(this.writeValueTypeLabel(t,oD),rb(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,oR),"string"==typeof r&&(r=ra(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,ok),t.writeBytes(rc(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,oF),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?nr(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):R()}writeIndexString(e,t){this.writeValueTypeLabel(t,oT),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};for(let e of(this.writeValueTypeLabel(t,oM),Object.keys(r)))this.writeIndexString(e,t),this.writeIndexValueAux(r[e],t)}writeIndexArray(e,t){let r=e.values||[];for(let e of(this.writeValueTypeLabel(t,oL),r))this.writeIndexValueAux(e,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,oN),ei.fromName(e).path.forEach(e=>{this.writeValueTypeLabel(t,o_),this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(oU)}}oO.INSTANCE=new oO;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox="\uD800",oP="\uDBFF",oV=0,oG=255,oY=1,oJ=255,oH=255,oq=0,oW=64,oj=8,oz=1024;function oK(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}function oX(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function oZ(e){let t=0;for(let r=0;r<8;++r){let n=oX(255&e[r]);if(t+=n,8!==n)break}return t}function o$(e){return Math.ceil((oW-oZ(e))/oj)}class o0{constructor(){this.buffer=new Uint8Array(oz),this.position=0}writeBytesAscending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteAscending(r.value),r=t.next();this.writeSeparatorAscending()}writeBytesDescending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteDescending(r.value),r=t.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteAscending(e);else if(e<2048)this.writeByteAscending(960|e>>>6),this.writeByteAscending(128|63&e);else if(t<ox||oP<t)this.writeByteAscending(480|e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e);else{let e=t.codePointAt(0);this.writeByteAscending(240|e>>>18),this.writeByteAscending(128|63&e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteDescending(e);else if(e<2048)this.writeByteDescending(960|e>>>6),this.writeByteDescending(128|63&e);else if(t<ox||oP<t)this.writeByteDescending(480|e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e);else{let e=t.codePointAt(0);this.writeByteDescending(240|e>>>18),this.writeByteDescending(128|63&e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){let t=this.toOrderedBits(e),r=o$(t);this.ensureAvailable(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}writeNumberDescending(e){let t=this.toOrderedBits(e),r=o$(t);this.ensureAvailable(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}writeInfinityAscending(){this.writeEscapedByteAscending(oJ),this.writeEscapedByteAscending(oH)}writeInfinityDescending(){this.writeEscapedByteDescending(oJ),this.writeEscapedByteDescending(oH)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let t=oK(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let e=1;e<t.length;++e)t[e]^=r?255:0;return t}writeByteAscending(e){let t=255&e;t===oV?(this.writeEscapedByteAscending(oV),this.writeEscapedByteAscending(oG)):t===oJ?(this.writeEscapedByteAscending(oJ),this.writeEscapedByteAscending(oq)):this.writeEscapedByteAscending(t)}writeByteDescending(e){let t=255&e;t===oV?(this.writeEscapedByteDescending(oV),this.writeEscapedByteDescending(oG)):t===oJ?(this.writeEscapedByteDescending(oJ),this.writeEscapedByteDescending(oq)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(oV),this.writeEscapedByteAscending(oY)}writeSeparatorDescending(){this.writeEscapedByteDescending(oV),this.writeEscapedByteDescending(oY)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class o1{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class o2{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class o9{constructor(){this.orderedCode=new o0,this.ascending=new o1(this.orderedCode),this.descending=new o2(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return 0===e?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t,r,n){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=n}successor(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new o3(this.indexId,this.documentKey,this.arrayValue,r)}}function o4(e,t){let r=e.indexId-t.indexId;return 0!==r||0!==(r=o5(e.arrayValue,t.arrayValue))||0!==(r=o5(e.directionalValue,t.directionalValue))?r:ei.comparator(e.documentKey,t.documentKey)}function o5(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){for(let t of(this.inequalityFilters=new t8((e,t)=>en.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[],e.filters)){let e=t;e.isInequality()?this.inequalityFilters=this.inequalityFilters.add(e):this.equalityFilters.push(e)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(T(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let t=ea(e);if(void 0!==t&&!this.hasMatchingEqualityFilter(t))return!1;let r=el(e),n=new Set,i=0,s=0;for(;i<r.length;++i)if(this.hasMatchingEqualityFilter(r[i]))n=n.add(r[i].fieldPath.canonicalString());else break;if(i===r.length)return!0;if(this.inequalityFilters.size>0){let e=this.inequalityFilters.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[s++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(s>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[s++],e))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new t8(en.comparator),t=[];for(let r of this.equalityFilters)if(!r.field.isKeyField()){if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new ed(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ed(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ed(r.field,"asc"===r.dir?0:1)));return new eo(eo.UNKNOWN_ID,this.collectionId,t,ef.empty())}hasMatchingEqualityFilter(e){for(let t of this.equalityFilters)if(this.matchesFilter(t,e))return!0;return!1}matchesFilter(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}matchesOrderBy(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(e){var t,r;if(T(e instanceof nQ||e instanceof nB),e instanceof nQ){if(!(e instanceof nP))return e;{let n=(null===(r=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(t=>nQ.create(e.field,"==",t)))||[];return nB.create(n,"or")}}let n=e.filters.map(e=>o6(e));return nB.create(n,e.op)}function o7(e){if(0===e.getFilters().length)return[];let t=ai(o6(e));return(T(ar(t)),ae(t)||at(t))?[t]:t.getFilters()}function ae(e){return e instanceof nQ}function at(e){return e instanceof nB&&nb(e)}function ar(e){return ae(e)||at(e)||an(e)}function an(e){if(e instanceof nB&&nw(e)){for(let t of e.getFilters())if(!ae(t)&&!at(t))return!1;return!0}return!1}function ai(e){if(T(e instanceof nQ||e instanceof nB),e instanceof nQ)return e;if(1===e.filters.length)return ai(e.filters[0]);let t=e.filters.map(e=>ai(e)),r=nB.create(t,e.op);return ar(r=al(r))?r:(T(r instanceof nB),T(ny(r)),T(r.filters.length>1),r.filters.reduce((e,t)=>as(e,t)))}function as(e,t){let r;return T(e instanceof nQ||e instanceof nB),T(t instanceof nQ||t instanceof nB),al(r=e instanceof nQ?t instanceof nQ?aA(e,t):aa(e,t):t instanceof nQ?aa(t,e):ao(e,t))}function aA(e,t){return nB.create([e,t],"and")}function ao(e,t){if(T(e.filters.length>0&&t.filters.length>0),ny(e)&&ny(t))return nk(e,t.getFilters());let r=nw(e)?e:t,n=nw(e)?t:e,i=r.filters.map(e=>as(e,n));return nB.create(i,"or")}function aa(e,t){if(ny(t))return nk(t,e.getFilters());{let r=t.filters.map(t=>as(e,t));return nB.create(r,"or")}}function al(e){if(T(e instanceof nQ||e instanceof nB),e instanceof nQ)return e;let t=e.getFilters();if(1===t.length)return al(t[0]);if(nv(e))return e;let r=t.map(e=>al(e)),n=[];return(r.forEach(t=>{t instanceof nQ?n.push(t):t instanceof nB&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length)?n[0]:nB.create(n,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.collectionParentIndex=new ah}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),ey.resolve()}getCollectionParents(e,t){return ey.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return ey.resolve()}deleteFieldIndex(e,t){return ey.resolve()}deleteAllFieldIndexes(e){return ey.resolve()}createTargetIndexes(e,t){return ey.resolve()}getDocumentsMatchingTarget(e,t){return ey.resolve(null)}getIndexType(e,t){return ey.resolve(0)}getFieldIndexes(e,t){return ey.resolve([])}getNextCollectionGroupToUpdate(e){return ey.resolve(null)}getMinOffset(e,t){return ey.resolve(eC.min())}getMinOffsetFromCollectionGroup(e,t){return ey.resolve(eC.min())}updateCollectionGroup(e,t,r){return ey.resolve()}updateIndexEntries(e,t){return ey.resolve()}}class ah{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new t8(et.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new t8(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="IndexedDbIndexManager",ad=new Uint8Array(0);class ag{constructor(e,t){this.databaseId=t,this.collectionParentsCache=new ah,this.targetToDnfSubTargets=new iw(e=>nH(e),(e,t)=>nW(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});let i={collectionId:r,parent:eW(n)};return af(e).put(i)}return ey.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[j(t),""],!1,!0);return af(e).loadAll(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(eK(n.parent))}return r})}addFieldIndex(e,t){let r=ap(e),n=op(t);delete n.indexId;let i=r.add(n);if(!t.indexState)return i.next();{let r=aC(e);return i.next(e=>{r.put(oI(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}}deleteFieldIndex(e,t){let r=ap(e),n=aC(e),i=aE(e);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=ap(e),r=aE(e),n=aC(e);return t.deleteAll().next(()=>r.deleteAll()).next(()=>n.deleteAll())}createTargetIndexes(e,t){return ey.forEach(this.getSubTargets(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new o8(t).buildTargetIndex();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=aE(e),n=!0,i=new Map;return ey.forEach(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(!n)return ey.resolve(null);{let e=iU(),n=[];return ey.forEach(i,(i,s)=>{b(au,`Using index ${eu(i)} to execute ${nH(t)}`);let A=nK(s,i),o=nX(s,i),a=nZ(s,i),l=n$(s,i),c=this.encodeBound(i,s,a),h=this.encodeBound(i,s,l),u=this.encodeValues(i,s,o),d=this.generateIndexRanges(i.indexId,A,c,a.inclusive,h,l.inclusive,u);return ey.forEach(d,i=>r.loadFirst(i,t.limit).next(t=>{t.forEach(t=>{let r=ei.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);return t||(t=0===e.filters.length?[e]:o7(nB.create(e.filters,"and")).map(t=>nJ(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,t)),t}generateIndexRanges(e,t,r,n,i,s,A){let o=(null!=t?t.length:1)*Math.max(r.length,i.length),a=o/(null!=t?t.length:1),l=[];for(let c=0;c<o;++c){let o=t?this.encodeSingleElement(t[c/a]):ad,h=this.generateLowerBound(e,o,r[c%a],n),u=this.generateUpperBound(e,o,i[c%a],s),d=A.map(t=>this.generateLowerBound(e,o,t,!0));l.push(...this.createRange(h,u,d))}return l}generateLowerBound(e,t,r,n){let i=new o3(e,ei.empty(),t,r);return n?i:i.successor()}generateUpperBound(e,t,r,n){let i=new o3(e,ei.empty(),t,r);return n?i.successor():i}getFieldIndex(e,t){let r=new o8(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.servedByIndex(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.getSubTargets(t);return ey.forEach(n,t=>this.getFieldIndex(e,t).next(e=>{e?0!==r&&e.fields.length<n2(t)&&(r=1):r=0})).next(()=>n9(t)&&n.length>1&&2===r?1:r)}encodeDirectionalElements(e,t){let r=new o9;for(let n of el(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.forKind(n.kind);oO.INSTANCE.writeIndexValue(e,i)}return r.encodedBytes()}encodeSingleElement(e){let t=new o9;return oO.INSTANCE.writeIndexValue(e,t.forKind(0)),t.encodedBytes()}encodeDirectionalKey(e,t){let r=new o9;return oO.INSTANCE.writeIndexValue(r9(this.databaseId,t),r.forKind(ec(e))),r.encodedBytes()}encodeValues(e,t,r){if(null===r)return[];let n=[];n.push(new o9);let i=0;for(let s of el(e)){let e=r[i++];for(let r of n)if(this.isInFilter(t,s.fieldPath)&&r8(e))n=this.expandIndexValues(n,s,e);else{let t=r.forKind(s.kind);oO.INSTANCE.writeIndexValue(e,t)}}return this.getEncodedBytes(n)}encodeBound(e,t,r){return this.encodeValues(e,t,r.position)}getEncodedBytes(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].encodedBytes();return t}expandIndexValues(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new o9;n.seed(r.encodedBytes()),oO.INSTANCE.writeIndexValue(e,n.forKind(t.kind)),i.push(n)}return i}isInFilter(e,t){return!!e.filters.find(e=>e instanceof nQ&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=ap(e),n=aC(e);return(t?r.loadAll(tR,IDBKeyRange.bound(t,t)):r.loadAll()).next(e=>{let t=[];return ey.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{t.push(oC(e,r))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:q(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=ap(e),i=aC(e);return this.getNextSequenceNumber(e).next(e=>n.loadAll(tR,IDBKeyRange.bound(t,t)).next(t=>ey.forEach(t,t=>i.put(oI(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return ey.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?ey.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),ey.forEach(i,r=>this.getExistingIndexEntries(e,t,r).next(t=>{let i=this.computeIndexEntries(n,r);return t.isEqual(i)?ey.resolve():this.updateEntries(e,n,r,t,i)}))))})}addIndexEntry(e,t,r,n){return aE(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,t.key),documentKey:t.key.path.toArray()})}deleteIndexEntry(e,t,r,n){return aE(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.encodeDirectionalKey(r,t.key),t.key.path.toArray()])}getExistingIndexEntries(e,t,r){let n=aE(e),i=new t8(o4);return n.iterate({index:tU,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,t)])},(e,n)=>{i=i.add(new o3(r.indexId,t,n.arrayValue,n.directionalValue))}).next(()=>i)}computeIndexEntries(e,t){let r=new t8(o4),n=this.encodeDirectionalElements(t,e);if(null==n)return r;let i=ea(t);if(null!=i){let s=e.data.field(i.fieldPath);if(r8(s))for(let i of s.arrayValue.values||[])r=r.add(new o3(t.indexId,e.key,this.encodeSingleElement(i),n))}else r=r.add(new o3(t.indexId,e.key,ad,n));return r}updateEntries(e,t,r,n,i){b(au,"Updating index entries for document '%s'",t.key);let s=[];return t7(n,i,o4,n=>{s.push(this.addIndexEntry(e,t,r,n))},n=>{s.push(this.deleteIndexEntry(e,t,r,n))}),ey.waitFor(s)}getNextSequenceNumber(e){let t=1;return aC(e).iterate({index:tF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>o4(e,t)).filter((e,t,r)=>!t||0!==o4(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=o4(i,e),s=o4(i,t);if(0===r)n[0]=e.successor();else if(r>0&&s<0)n.push(i),n.push(i.successor());else if(s>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.isRangeMatchable(n[e],n[e+1]))return[];let t=[n[e].indexId,this.uid,n[e].arrayValue,n[e].directionalValue,ad,[]],r=[n[e+1].indexId,this.uid,n[e+1].arrayValue,n[e+1].directionalValue,ad,[]];i.push(IDBKeyRange.bound(t,r))}return i}isRangeMatchable(e,t){return o4(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aI)}getMinOffset(e,t){return ey.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e||R())).next(aI)}}function af(e){return t$(e,tI)}function aE(e){return t$(e,tM)}function ap(e){return t$(e,tS)}function aC(e){return t$(e,tk)}function aI(e){T(0!==e.length);let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>eI(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new eC(t.readTime,t.documentKey,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e,t,r){let n=e.store(e2),i=e.store(te),s=[],A=IDBKeyRange.only(r.batchId),o=0,a=n.iterate({range:A},(e,t,r)=>(o++,r.delete()));s.push(a.next(()=>{T(1===o)}));let l=[];for(let e of r.mutations){let n=e6(t,e.key.path,r.batchId);s.push(i.delete(n)),l.push(e.key)}return ey.waitFor(s).next(()=>l)}function aQ(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else if(e.noDocument)t=e.noDocument;else throw R();return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.documentKeysByBatchId={}}static forUser(e,t,r,n){return T(""!==e.uid),new aB(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ab(e).iterate({index:e3,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=av(e),s=ab(e);return s.add({}).next(A=>{T("number"==typeof A);let o=new sC(A,t,r,n),a=or(this.serializer,this.userId,o),l=[],c=new t8((e,t)=>q(e.canonicalString(),t.canonicalString()));for(let e of n){let t=e6(this.userId,e.key.path,A);c=c.add(e.key.path.popLast()),l.push(s.put(a)),l.push(i.put(t,e7))}return c.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[A]=o.keys()}),ey.waitFor(l).next(()=>o)})}lookupMutationBatch(e,t){return ab(e).get(t).next(e=>e?(T(e.userId===this.userId),on(this.serializer,e)):null)}lookupMutationKeys(e,t){return this.documentKeysByBatchId[t]?ey.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(e=>{if(!e)return null;{let r=e.keys();return this.documentKeysByBatchId[t]=r,r}})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return ab(e).iterate({index:e3,range:n},(e,t,n)=>{t.userId===this.userId&&(T(t.batchId>=r),i=on(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=ry;return ab(e).iterate({index:e3,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,ry],[this.userId,Number.POSITIVE_INFINITY]);return ab(e).loadAll(e3,t).next(e=>e.map(e=>on(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=e8(this.userId,t.path),n=IDBKeyRange.lowerBound(r),i=[];return av(e).iterate({range:n},(r,n,s)=>{let[A,o,a]=r,l=eK(o);if(A!==this.userId||!t.path.isEqual(l)){s.done();return}return ab(e).get(a).next(e=>{if(!e)throw R();T(e.userId===this.userId),i.push(on(this.serializer,e))})}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new t8(q),n=[];return t.forEach(t=>{let i=e8(this.userId,t.path),s=IDBKeyRange.lowerBound(i),A=av(e).iterate({range:s},(e,n,i)=>{let[s,A,o]=e,a=eK(A);if(s!==this.userId||!t.path.isEqual(a)){i.done();return}r=r.add(o)});n.push(A)}),ey.waitFor(n).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=e8(this.userId,r),s=IDBKeyRange.lowerBound(i),A=new t8(q);return av(e).iterate({range:s},(e,t,i)=>{let[s,o,a]=e,l=eK(o);if(s!==this.userId||!r.isPrefixOf(l)){i.done();return}l.length===n&&(A=A.add(a))}).next(()=>this.lookupMutationBatches(e,A))}lookupMutationBatches(e,t){let r=[],n=[];return t.forEach(t=>{n.push(ab(e).get(t).next(e=>{if(null===e)throw R();T(e.userId===this.userId),r.push(on(this.serializer,e))}))}),ey.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return am(e.simpleDbTransaction,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)}),ey.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ey.resolve();let r=IDBKeyRange.lowerBound(e5(this.userId)),n=[];return av(e).iterate({range:r},(e,t,r)=>{if(e[0]!==this.userId){r.done();return}{let t=eK(e[1]);n.push(t)}}).next(()=>{T(0===n.length)})})}containsKey(e,t){return ay(e,this.userId,t)}getMutationQueueMetadata(e){return aS(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:ry,lastStreamToken:""})}}function ay(e,t,r){let n=e8(t,r.path),i=n[1],s=IDBKeyRange.lowerBound(n),A=!1;return av(e).iterate({range:s,keysOnly:!0},(e,r,n)=>{let[s,o,a]=e;s===t&&o===i&&(A=!0),n.done()}).next(()=>A)}function aw(e,t){let r=!1;return aS(e).iterateSerial(n=>ay(e,n,t).next(e=>(e&&(r=!0),ey.resolve(!e)))).next(()=>r)}function ab(e){return t$(e,e2)}function av(e){return t$(e,te)}function aS(e){return t$(e,e0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aD=2;class aR{constructor(e){this.lastId=e}next(){return this.lastId+=aD,this.lastId}static forTargetCache(){return new aR(2-aD)}static forSyncEngine(){return new aR(1-aD)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{let r=new aR(t.highestTargetId);return t.highestTargetId=r.next(),this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>Z.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.retrieveMetadata(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.saveMetadata(e,n)))}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(t,r),this.saveMetadata(e,r))))}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ak(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>(T(t.targetCount>0),t.targetCount-=1,this.saveMetadata(e,t)))}removeTargets(e,t,r){let n=0,i=[];return ak(e).iterate((s,A)=>{let o=oi(A);o.sequenceNumber<=t&&null===r.get(o.targetId)&&(n++,i.push(this.removeTargetData(e,o)))}).next(()=>ey.waitFor(i)).next(()=>n)}forEachTarget(e,t){return ak(e).iterate((e,r)=>{t(oi(r))})}retrieveMetadata(e){return aN(e).get(tp).next(e=>(T(null!==e),e))}saveMetadata(e,t){return aN(e).put(tp,t)}saveTargetData(e,t){return ak(e).put(os(this.serializer,t))}updateMetadataFromTargetData(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){let r=nH(t),n=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return ak(e).iterate({range:n,index:th},(e,r,n)=>{let s=oi(r);nW(t,s.target)&&(i=s,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=aF(e);return t.forEach(t=>{let s=eW(t.path);n.push(i.put({targetId:r,path:s})),n.push(this.referenceDelegate.addReference(e,r,t))}),ey.waitFor(n)}removeMatchingKeys(e,t,r){let n=aF(e);return ey.forEach(t,t=>{let i=eW(t.path);return ey.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=aF(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=aF(e),i=iU();return n.iterate({range:r,keysOnly:!0},(e,t,r)=>{let n=new ei(eK(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=eW(t.path),n=IDBKeyRange.bound([r],[j(r)],!1,!0),i=0;return aF(e).iterate({index:tf,keysOnly:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}getTargetDataForTarget(e,t){return ak(e).get(t).next(e=>e?oi(e):null)}}function ak(e){return t$(e,tl)}function aN(e){return t$(e,tC)}function aF(e){return t$(e,td)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aM=-1,a_=41943040;class aU{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new aU(e,aU.DEFAULT_COLLECTION_PERCENTILE,aU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}aU.DEFAULT_COLLECTION_PERCENTILE=10,aU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aU.DEFAULT=new aU(a_,aU.DEFAULT_COLLECTION_PERCENTILE,aU.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aU.DISABLED=new aU(aM,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aO="LruGarbageCollector",ax=1048576,aP=null,aV=null;function aG([e,t],[r,n]){let i=q(e,r);return 0===i?q(t,n):i}class aY{constructor(e){this.maxElements=e,this.buffer=new t8(aG),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>aG(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aJ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==aM&&this.scheduleGC(aP)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(e){b(aO,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ek(e)?b(aO,"Ignoring IndexedDB error during garbage collection: ",e):await eB(e)}await this.scheduleGC(aV)})}}class aH{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ey.resolve(eG.INVALID);let r=new aY(t);return this.delegate.forEachTarget(e,e=>r.addElement(e.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>r.addElement(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===aM?(b("LruGarbageCollector","Garbage collection skipped; disabled"),ey.resolve(aL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(b("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aL):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,n,i,s,A,o,a;let l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(b("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,s=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,A=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(a=Date.now(),w()<=LogLevel.DEBUG&&b("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${n} in ${A-s}ms
	Removed ${i} targets in ${o-A}ms
	Removed ${e} documents in ${a-o}ms
Total Duration: ${a-l}ms`),ey.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}function aq(e,t){return new aH(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,t){this.db=e,this.garbageCollector=aq(this,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,r)=>t(r))}addReference(e,t,r){return aK(e,r)}removeReference(e,t,r){return aK(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return aK(e,t)}isPinned(e,t){return aw(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this.forEachOrphanedDocument(e,(s,A)=>{if(A<=t){let t=this.isPinned(e,s).next(t=>{if(!t)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Z.min()),aF(e).delete(aj(s))))});n.push(t)}}).next(()=>ey.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return aK(e,t)}forEachOrphanedDocument(e,t){let r;let n=aF(e),i=eG.INVALID;return n.iterate({index:tf},([e,n],{path:s,sequenceNumber:A})=>{0===e?(i!==eG.INVALID&&t(new ei(eK(r)),i),i=A,r=s):i=eG.INVALID}).next(()=>{i!==eG.INVALID&&t(new ei(eK(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function aj(e){return[0,eW(e.path)]}function az(e,t){return{targetId:0,path:eW(e.path),sequenceNumber:t}}function aK(e,t){return aF(e).put(az(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(){this.changes=new iw(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?ey.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return a2(e).put(r)}removeEntry(e,t,r){return a2(e).delete(a3(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.setMetadata(e,r)))}getEntry(e,t){let r=nl.newInvalidDocument(t);return a2(e).iterate({index:tn,range:IDBKeyRange.only(a9(t))},(e,n)=>{r=this.maybeDecodeDocument(t,n)}).next(()=>r)}getSizedEntry(e,t){let r={size:0,document:nl.newInvalidDocument(t)};return a2(e).iterate({index:tn,range:IDBKeyRange.only(a9(t))},(e,n)=>{r={document:this.maybeDecodeDocument(t,n),size:aQ(n)}}).next(()=>r)}getEntries(e,t){let r=iv();return this.forEachDbEntry(e,t,(e,t)=>{let n=this.maybeDecodeDocument(e,t);r=r.insert(e,n)}).next(()=>r)}getSizedEntries(e,t){let r=iv(),n=new t9(ei.comparator);return this.forEachDbEntry(e,t,(e,t)=>{let i=this.maybeDecodeDocument(e,t);r=r.insert(e,i),n=n.insert(e,aQ(t))}).next(()=>({documents:r,sizeMap:n}))}forEachDbEntry(e,t,r){if(t.isEmpty())return ey.resolve();let n=new t8(a5);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(a9(n.first()),a9(n.last())),s=n.getIterator(),A=s.getNext();return a2(e).iterate({index:tn,range:i},(e,t,n)=>{let i=ei.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;A&&0>a5(A,i);)r(A,null),A=s.getNext();A&&A.isEqual(i)&&(r(A,t),A=s.hasNext()?s.getNext():null),A?n.skip(a9(A)):n.done()}).next(()=>{for(;A;)r(A,null),A=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let s=t.path,A=[s.popLast().toArray(),s.lastSegment(),A6(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return a2(e).loadAll(IDBKeyRange.bound(A,o,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let r=iv();for(let i of e){let e=this.maybeDecodeDocument(ei.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(iE(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=iv(),s=a4(t,r),A=a4(t,eC.max());return a2(e).iterate({index:ts,range:IDBKeyRange.bound(s,A,!0)},(e,t,r)=>{let s=this.maybeDecodeDocument(ei.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(s.key,s)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new a0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return a1(e).get(ta).next(e=>(T(!!e),e))}setMetadata(e,t){return a1(e).put(ta,t)}maybeDecodeDocument(e,t){if(t){let e=A5(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(Z.min())))return e}return nl.newInvalidDocument(e)}}function a$(e){return new aZ(e)}class a0 extends null{constructor(e,t){super(),this.documentCache=e,this.trackRemovals=t,this.documentStates=new iw(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new t8((e,t)=>q(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{let A=this.documentStates.get(i);if(t.push(this.documentCache.removeEntry(e,i,A.readTime)),s.isValidDocument()){let o=A8(this.documentCache.serializer,s);n=n.add(i.path.popLast());let a=aQ(o);r+=a-A.size,t.push(this.documentCache.addEntry(e,i,o))}else if(r-=A.size,this.trackRemovals){let r=A8(this.documentCache.serializer,s.convertToNoDocument(Z.min()));t.push(this.documentCache.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.documentCache.updateMetadata(e,r)),ey.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>(this.documentStates.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>(t.forEach((t,r)=>{this.documentStates.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function a1(e){return t$(e,to)}function a2(e){return t$(e,tt)}function a9(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function a3(e,t){let r=e.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],A6(t),r[r.length-1]]}function a4(e,t){let r=t.documentKey.path.toArray();return[e,A6(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function a5(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=q(r[e],n[e]))return i;return(i=q(r.length,n.length))||(i=q(r[r.length-2],n[n.length-2]))?i:q(r[r.length-1],n[n.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a8=16;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&sr(r.mutation,e,rt.empty(),X.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,iU()).next(()=>t))}getLocalViewOfDocuments(e,t,r=iU()){let n=ik();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=iD();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=ik();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,iU()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=iv(),s=iF(),A=iR();return t.forEach((e,t)=>{let A=r.get(t.key);n.has(t.key)&&(void 0===A||A.mutation instanceof sa)?i=i.insert(t.key,t):void 0!==A?(s.set(t.key,A.mutation.getFieldMask()),sr(A.mutation,t,A.mutation.getFieldMask(),X.now())):s.set(t.key,rt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var r;return A.set(e,new a6(t,null!==(r=s.get(e))&&void 0!==r?r:null))}),A))}recalculateAndSaveOverlays(e,t){let r=iF(),n=new t9((e,t)=>e-t),i=iU();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let A=r.get(e)||rt.empty();A=i.applyToLocalView(s,A),r.set(e,A);let o=(n.get(i.batchId)||iU()).add(e);n=n.insert(i.batchId,o)})}).next(()=>{let s=[],A=n.getReverseIterator();for(;A.hasNext();){let n=A.getNext(),o=n.key,a=n.value,l=iN();a.forEach(e=>{if(!i.has(e)){let n=se(t.get(e),r.get(e));null!==n&&l.set(e,n),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return ey.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return ie(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):it(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let s=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):ey.resolve(ik()),A=es,o=i;return s.next(t=>ey.forEach(t,(t,r)=>(A<r.largestBatchId&&(A=r.largestBatchId),i.get(t))?ey.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)})).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,iU())).next(e=>({batchId:A,changes:iT(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ei(t)).next(e=>{let t=iD();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,s=iD();return this.indexManager.getCollectionParents(e,i).next(A=>ey.forEach(A,A=>{let o=n8(t,A.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,r,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,nl.newInvalidDocument(n)))});let r=iD();return e.forEach((e,n)=>{let s=i.get(e);void 0!==s&&sr(s.mutation,n,rt.empty(),X.now()),iE(t,n)&&(r=r.insert(e,n))}),r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return ey.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,od(t)),ey.resolve()}getNamedQuery(e,t){return ey.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,ou(t)),ey.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(){this.overlays=new t9(ei.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return ey.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ik();return ey.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.saveOverlay(e,t,n)}),ey.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.overlayByBatchId.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.overlayByBatchId.delete(r)),ey.resolve()}getOverlaysForCollection(e,t,r){let n=ik(),i=t.length+1,s=new ei(t.child("")),A=this.overlays.getIteratorFrom(s);for(;A.hasNext();){let e=A.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return ey.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new t9((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=ik(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let A=ik(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>A.set(e,t)),!(A.size()>=n)););return ey.resolve(A)}saveOverlay(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.overlayByBatchId.get(n.largestBatchId).delete(r.key);this.overlayByBatchId.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new sm(t,r));let i=this.overlayByBatchId.get(t);void 0===i&&(i=iU(),this.overlayByBatchId.set(t,i)),this.overlayByBatchId.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.refsByKey=new t8(ln.compareByKey),this.refsByTarget=new t8(ln.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new ln(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new ln(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){let t=new ei(new et([])),r=new ln(t,e),n=new ln(t,e+1),i=[];return this.refsByTarget.forEachInRange([r,n],e=>{this.removeRef(e),i.push(e.key)}),i}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new ei(new et([])),r=new ln(t,e),n=new ln(t,e+1),i=iU();return this.refsByTarget.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new ln(e,0),r=this.refsByKey.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return ei.comparator(e.key,t.key)||q(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return q(e.targetOrBatchId,t.targetOrBatchId)||ei.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new t8(ln.compareByKey)}checkEmpty(e){return ey.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new sC(i,t,r,n);for(let t of(this.mutationQueue.push(s),n))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ln(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ey.resolve(s)}lookupMutationBatch(e,t){return ey.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=this.indexOfBatchId(r),i=n<0?0:n;return ey.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ey.resolve(0===this.mutationQueue.length?ry:this.nextBatchId-1)}getAllMutationBatches(e){return ey.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ln(t,0),n=new ln(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,n],e=>{let t=this.findMutationBatch(e.targetOrBatchId);i.push(t)}),ey.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new t8(q);return t.forEach(e=>{let t=new ln(e,0),n=new ln(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,n],e=>{r=r.add(e.targetOrBatchId)})}),ey.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;ei.isDocumentKey(i)||(i=i.child(""));let s=new ln(new ei(i),0),A=new t8(q);return this.batchesByDocumentKey.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(A=A.add(e.targetOrBatchId)),!0)},s),ey.resolve(this.findMutationBatches(A))}findMutationBatches(e){let t=[];return e.forEach(e=>{let r=this.findMutationBatch(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){T(0===this.indexOfExistingBatchId(t.batchId,"removed")),this.mutationQueue.shift();let r=this.batchesByDocumentKey;return ey.forEach(t.mutations,n=>{let i=new ln(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new ln(t,0),n=this.batchesByDocumentKey.firstAfterOrEqual(r);return ey.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,ey.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return new t9(ei.comparator)}class lA{constructor(e){this.sizer=e,this.docs=ls(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,s=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return ey.resolve(r?r.document.mutableCopy():nl.newInvalidDocument(t))}getEntries(e,t){let r=iv();return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():nl.newInvalidDocument(e))}),ey.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=iv(),s=t.path,A=new ei(s.child("")),o=this.docs.getIteratorFrom(A);for(;o.hasNext();){let{key:e,value:{document:A}}=o.getNext();if(!s.isPrefixOf(e.path))break;!(e.path.length>s.length+1||0>=eI(ep(A),r))&&(n.has(A.key)||iE(t,A))&&(i=i.insert(A.key,A.mutableCopy()))}return ey.resolve(i)}getAllFromCollectionGroup(e,t,r,n){R()}forEachDocumentKey(e,t){return ey.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new la(this)}getSize(e){return ey.resolve(this.size)}}function lo(e){return new lA(e)}class la extends aX{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.documentCache.addEntry(e,n)):this.documentCache.removeEntry(r)}),ey.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.persistence=e,this.targets=new iw(e=>nH(e),nW),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new lr,this.targetCount=0,this.targetIdGenerator=aR.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((e,r)=>t(r)),ey.resolve()}getLastRemoteSnapshotVersion(e){return ey.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ey.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),ey.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),ey.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new aR(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,ey.resolve()}updateTargetData(e,t){return this.saveTargetData(t),ey.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,ey.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.targets.forEach((s,A)=>{A.sequenceNumber<=t&&null===r.get(A.targetId)&&(this.targets.delete(s),i.push(this.removeMatchingKeysForTargetId(e,A.targetId)),n++)}),ey.waitFor(i).next(()=>n)}getTargetCount(e){return ey.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return ey.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),ey.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),ey.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),ey.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return ey.resolve(r)}containsKey(e,t){return ey.resolve(this.references.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc="MemoryPersistence";class lh{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new eG(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new ll(this);let r=e=>this.referenceDelegate.documentSize(e);this.indexManager=new ac,this.remoteDocumentCache=lo(r),this.serializer=new A4(t),this.bundleCache=new le(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lt,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new li(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){b(lc,"Starting transaction:",e);let n=new lu(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(n).next(e=>this.referenceDelegate.onTransactionCommitted(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}mutationQueuesContainKey(e,t){return ey.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}}class lu extends eQ{constructor(e){super(),this.currentSequenceNumber=e}}class ld{constructor(e){this.persistence=e,this.localViewReferences=new lr,this._orphanedDocuments=null}static factory(e){return new ld(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw R()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),ey.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),ey.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),ey.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(e=>this.orphanedDocuments.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ey.forEach(this.orphanedDocuments,r=>{let n=ei.fromPath(r);return this.isReferenced(e,n).next(e=>{e||t.removeEntry(n,Z.min())})}).next(()=>(this._orphanedDocuments=null,t.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{e?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return ey.or([()=>ey.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class lg{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new iw(e=>eW(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=aq(this,t)}static factory(e,t){return new lg(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return ey.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return ey.forEach(this.orphanedSequenceNumbers,(r,n)=>this.isPinned(e,r,n).next(e=>e?ey.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.forEachDocumentKey(e,n=>this.isPinned(e,n,t).next(e=>{e||(r++,i.removeEntry(n,Z.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ey.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),ey.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),ey.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),ey.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=r0(e.data.value)),t}isPinned(e,t,r){return ey.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.orphanedSequenceNumbers.get(t);return ey.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.serializer=e}createOrUpgrade(e,t,r,n){let i=new ev("createOrUpgrade",t);r<1&&n>=1&&(lp(e),lC(e),ly(e),lm(e));let s=ey.resolve();return r<3&&n>=3&&(0!==r&&(lw(e),ly(e)),s=s.next(()=>lv(i))),r<4&&n>=4&&(0!==r&&(s=s.next(()=>lI(e,i))),s=s.next(()=>{lS(e)})),r<5&&n>=5&&(s=s.next(()=>this.removeAcknowledgedMutations(i))),r<6&&n>=6&&(s=s.next(()=>(lB(e),this.addDocumentGlobal(i)))),r<7&&n>=7&&(s=s.next(()=>this.ensureSequenceNumbers(i))),r<8&&n>=8&&(s=s.next(()=>this.createCollectionParentIndex(e,i))),r<9&&n>=9&&(s=s.next(()=>{lb(e)})),r<10&&n>=10&&(s=s.next(()=>this.rewriteCanonicalIds(i))),r<11&&n>=11&&(s=s.next(()=>{lD(e),lR(e)})),r<12&&n>=12&&(s=s.next(()=>{lk(e)})),r<13&&n>=13&&(s=s.next(()=>lQ(e)).next(()=>this.rewriteRemoteDocumentCache(e,i)).next(()=>e.deleteObjectStore(eX))),r<14&&n>=14&&(s=s.next(()=>this.runOverlayMigration(e,i))),r<15&&n>=15&&(s=s.next(()=>lT(e))),r<16&&n>=16&&(s=s.next(()=>{t.objectStore(tk).clear()}).next(()=>{t.objectStore(tM).clear()})),s}addDocumentGlobal(e){let t=0;return e.store(eX).iterate((e,r)=>{t+=aQ(r)}).next(()=>{let r={byteSize:t};return e.store(to).put(ta,r)})}removeAcknowledgedMutations(e){let t=e.store(e0),r=e.store(e2);return t.loadAll().next(t=>ey.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,ry],[t.userId,t.lastAcknowledgedBatchId]);return r.loadAll(e3,n).next(r=>ey.forEach(r,r=>{T(r.userId===t.userId);let n=on(this.serializer,r);return am(e,t.userId,n).next(()=>{})}))}))}ensureSequenceNumbers(e){let t=e.store(td),r=e.store(eX);return e.store(tC).get(tp).next(e=>{let n=r=>t.put({targetId:0,path:eW(r),sequenceNumber:e.highestListenSequenceNumber}),i=[];return r.iterate((e,r)=>{let s=new et(e),A=lE(s);i.push(t.get(A).next(e=>e?ey.resolve():n(s)))}).next(()=>ey.waitFor(i))})}createCollectionParentIndex(e,t){e.createObjectStore(tI,{keyPath:tm});let r=t.store(tI),n=new ah,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:eW(n)})}};return t.store(eX).iterate({keysOnly:!0},(e,t)=>i(new et(e).popLast())).next(()=>t.store(te).iterate({keysOnly:!0},([e,t,r],n)=>i(eK(t).popLast())))}rewriteCanonicalIds(e){let t=e.store(tl);return t.iterate((e,r)=>{let n=oi(r),i=os(this.serializer,n);return t.put(i)})}rewriteRemoteDocumentCache(e,t){let r=t.store(eX),n=[];return r.iterate((e,r)=>{let i=t.store(tt),s=lN(r).path.toArray(),A={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(A))}).next(()=>ey.waitFor(n))}runOverlayMigration(e,t){let r=t.store(e2),n=a$(this.serializer),i=new lh(ld.factory,this.serializer.remoteSerializer);return r.loadAll().next(e=>{let r=new Map;return e.forEach(e=>{var t;let n=null!==(t=r.get(e.userId))&&void 0!==t?t:iU();on(this.serializer,e).keys().forEach(e=>n=n.add(e)),r.set(e.userId,n)}),ey.forEach(r,(e,r)=>{let s=new I(r),A=oy.forUser(this.serializer,s),o=i.getIndexManager(s);return new a7(n,aB.forUser(s,this.serializer,o,i.referenceDelegate),A,o).recalculateAndSaveOverlaysForDocumentKeys(new tZ(t,eG.INVALID),e).next()})})}}function lE(e){return[0,eW(e)]}function lp(e){e.createObjectStore(eZ)}function lC(e){e.createObjectStore(e0,{keyPath:e1}),e.createObjectStore(e2,{keyPath:e9,autoIncrement:!0}).createIndex(e3,e4,{unique:!0}),e.createObjectStore(te)}function lI(e,t){return t.store(e2).loadAll().next(r=>{e.deleteObjectStore(e2),e.createObjectStore(e2,{keyPath:e9,autoIncrement:!0}).createIndex(e3,e4,{unique:!0});let n=t.store(e2),i=r.map(e=>n.put(e));return ey.waitFor(i)})}function lm(e){e.createObjectStore(eX)}function lQ(e){let t=e.createObjectStore(tt,{keyPath:tr});t.createIndex(tn,ti),t.createIndex(ts,tA)}function lB(e){e.createObjectStore(to)}function ly(e){e.createObjectStore(td,{keyPath:tg}).createIndex(tf,tE,{unique:!0}),e.createObjectStore(tl,{keyPath:tc}).createIndex(th,tu,{unique:!0}),e.createObjectStore(tC)}function lw(e){e.deleteObjectStore(td),e.deleteObjectStore(tl),e.deleteObjectStore(tC)}function lb(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}function lv(e){let t=e.store(tC),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return t.put(tp,r)}function lS(e){e.createObjectStore(tQ,{keyPath:tB})}function lD(e){e.createObjectStore(ty,{keyPath:tw})}function lR(e){e.createObjectStore(tb,{keyPath:tv})}function lT(e){e.createObjectStore(tS,{keyPath:tD,autoIncrement:!0}).createIndex(tR,tT,{unique:!1}),e.createObjectStore(tk,{keyPath:tN}).createIndex(tF,tL,{unique:!1}),e.createObjectStore(tM,{keyPath:t_}).createIndex(tU,tO,{unique:!1})}function lk(e){let t=e.createObjectStore(tx,{keyPath:tP});t.createIndex(tV,tG,{unique:!1}),t.createIndex(tY,tJ,{unique:!1})}function lN(e){return e.document?new ei(et.fromString(e.document.name).popFirst(5)):e.noDocument?ei.fromSegments(e.noDocument.path):e.unknownDocument?ei.fromSegments(e.unknownDocument.path):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lF="IndexedDbPersistence",lL=null,lM=5e3,l_=4e3,lU=null,lO=null,lx="firestore_zombie",lP="main";class lV{constructor(e,t,r,n,i,s,A,o,a,l,c=a8){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.queue=i,this.window=s,this.document=A,this.sequenceNumberSyncer=a,this.forceOwningTab=l,this.schemaVersion=c,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=e=>Promise.resolve(),!lV.isAvailable())throw new F(N.UNIMPLEMENTED,lO);this.referenceDelegate=new aW(this,n),this.dbName=t+lP,this.serializer=new A4(o),this.simpleDb=new eS(this.dbName,this.schemaVersion,new lf(this.serializer)),this.targetCache=new aT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a$(this.serializer),this.bundleCache=new om,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===l&&v(lF,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,lU);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new eG(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lY(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(e=>{e||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(t=>this.isPrimary&&!t?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):!!t&&this.acquireOrExtendPrimaryLease(e).next(()=>!0))).catch(e=>{if(ek(e))return b(lF,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return b(lF,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return lG(e).get(e$).next(e=>ey.resolve(this.isLocalClient(e)))}removeClientMetadata(e){return lY(e).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,lL)){this.lastGarbageCollectionTime=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=t$(e,tQ);return t.loadAll().next(e=>{let r=this.filterActiveClients(e,lL),n=e.filter(e=>-1===r.indexOf(e));return ey.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.webStorage)for(let t of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",l_,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return!!e&&e.ownerId===this.clientId}canActAsPrimary(e){return this.forceOwningTab?ey.resolve(!0):lG(e).get(e$).next(t=>{if(null!==t&&this.isWithinAge(t.leaseTimestampMs,lM)&&!this.isClientZombied(t.ownerId)){if(this.isLocalClient(t)&&this.networkEnabled)return!0;if(!this.isLocalClient(t)){if(!t.allowTabSynchronization)throw new F(N.FAILED_PRECONDITION,lU);return!1}}return!!this.networkEnabled&&!!this.inForeground||lY(e).loadAll().next(e=>void 0===this.filterActiveClients(e,lM).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&b(lF,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[eZ,tQ],e=>{let t=new tZ(e,eG.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>lY(e).loadAll().next(e=>this.filterActiveClients(e,lL).map(e=>e.clientId)))}get started(){return this._started}getMutationQueue(e,t){return aB.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ag(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return oy.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){let n;b(lF,"Starting transaction:",e);let i="readonly"===t?"readonly":"readwrite",s=tX(this.schemaVersion);return this.simpleDb.runTransaction(e,i,s,i=>(n=new tZ(i,this.listenSequence?this.listenSequence.next():eG.INVALID),"readwrite-primary"===t)?this.verifyPrimaryLease(n).next(e=>!!e||this.canActAsPrimary(n)).next(t=>{if(!t)throw v(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new F(N.FAILED_PRECONDITION,em);return r(n)}).next(e=>this.acquireOrExtendPrimaryLease(n).next(()=>e)):this.verifyAllowTabSynchronization(n).next(()=>r(n))).then(e=>(n.raiseOnCommittedEvent(),e))}verifyAllowTabSynchronization(e){return lG(e).get(e$).next(e=>{if(null!==e&&this.isWithinAge(e.leaseTimestampMs,lM)&&!this.isClientZombied(e.ownerId)&&!this.isLocalClient(e)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization))throw new F(N.FAILED_PRECONDITION,lU)})}acquireOrExtendPrimaryLease(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lG(e).put(e$,t)}static isAvailable(){return eS.isAvailable()}releasePrimaryLeaseIfHeld(e){let t=lG(e);return t.get(e$).next(e=>this.isLocalClient(e)?(b(lF,"Releasing primary lease."),t.delete(e$)):ey.resolve())}isWithinAge(e,t){let r=Date.now(),n=r-t,i=r;return!(e<n)&&(!(e>i)||(v(`Detected an update time that is in the future: ${e} > ${i}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let e=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var t;try{let r=(null===(t=this.webStorage)||void 0===t?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return b(lF,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(e){return v(lF,"Failed to get zombied client id.",e),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){v("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${lx}_${this.persistenceKey}_${e}`}}function lG(e){return t$(e,eZ)}function lY(e){return t$(e,tQ)}function lJ(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(e,t,r,n,i){t=[...t],(e=[...e]).sort(r),t.sort(r);let s=e.length,A=t.length,o=0,a=0;for(;o<A&&a<s;){let s=r(e[a],t[o]);s<0?i(e[a++]):s>0?n(t[o++]):(o++,a++)}for(;o<A;)n(t[o++]);for(;a<s;)i(e[a++])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lq="LocalStore",lW=3e8;class lj{constructor(e,t,r,n){this.persistence=e,this.queryEngine=t,this.serializer=n,this.targetDataByTarget=new t9(q),this.targetIdByTarget=new iw(e=>nH(e),nW),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a7(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function lz(e,t,r,n){return new lj(e,t,r,n)}async function lK(e,t){let r=k(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,r.initializeUserComponents(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{let i=[],s=[],A=iU();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))A=A.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))A=A.add(t.key);return r.localDocuments.getDocuments(e,A).next(e=>({affectedDocuments:e,removedBatchIds:i,addedBatchIds:s}))})})}function lX(e,t){let r,n;let i=k(e),s=X.now(),A=t.reduce((e,t)=>e.add(t.key),iU());return i.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=iv(),a=iU();return i.remoteDocuments.getEntries(e,A).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(a=a.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(e,o)).next(n=>{r=n;let A=[];for(let e of t){let t=sn(e,r.get(e.key).overlayedDocument);null!=t&&A.push(new sa(e.key,t,na(t.value.mapValue),i8.exists(!0)))}return i.mutationQueue.addMutationBatch(e,s,A,t)}).next(t=>{n=t;let s=t.applyToLocalDocumentSet(r,a);return i.documentOverlayCache.saveOverlays(e,t.batchId,s)})}).then(()=>({batchId:n.batchId,changes:iT(r)}))}function lZ(e,t){let r=k(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),i=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});return cn(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,l$(t))).next(()=>r.localDocuments.getDocuments(e,n))})}function l$(e){let t=iU();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}function l0(e,t){let r=k(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(T(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}function l1(e){let t=k(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function l2(e){let t=k(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function l9(e,t){let r=k(e),n=t.snapshotVersion,i=r.targetDataByTarget;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let s=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=r.targetDataByTarget;let A=[];t.targetChanges.forEach((s,o)=>{let a=i.get(o);if(!a)return;A.push(r.targetCache.removeMatchingKeys(e,s.removedDocuments,o).next(()=>r.targetCache.addMatchingKeys(e,s.addedDocuments,o)));let l=a.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(ri.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,n)),i=i.insert(o,l),l4(a,l,s)&&A.push(r.targetCache.updateTargetData(e,l))});let o=iv(),a=iU();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),A.push(l3(e,s,t.documentUpdates).next(e=>{o=e.changedDocuments,a=e.existenceChangedKeys})),!n.isEqual(Z.min())){let t=r.targetCache.getLastRemoteSnapshotVersion(e).next(t=>r.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,n));A.push(t)}return ey.waitFor(A).next(()=>s.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,o,a)).next(()=>o)}).then(e=>(r.targetDataByTarget=i,e))}function l3(e,t,r){let n=iU(),i=iU();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=iv();return r.forEach((r,s)=>{let A=e.get(r);s.isFoundDocument()!==A.isFoundDocument()&&(i=i.add(r)),s.isNoDocument()&&s.version.isEqual(Z.min())?(t.removeEntry(r,s.readTime),n=n.insert(r,s)):!A.isValidDocument()||s.version.compareTo(A.version)>0||0===s.version.compareTo(A.version)&&A.hasPendingWrites?(t.addEntry(s),n=n.insert(r,s)):b(lq,"Ignoring outdated watch update for ",r,". Current version:",A.version," Watch version:",s.version)}),{changedDocuments:n,existenceChangedKeys:i}})}function l4(e,t,r){return!!(0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=lW)||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}async function l5(e,t){let r=k(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ey.forEach(t,t=>ey.forEach(t.addedKeys,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>ey.forEach(t.removedKeys,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(ek(e))b(lq,"Failed to update sequence numbers: "+e);else throw e}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=r.targetDataByTarget.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.targetDataByTarget=r.targetDataByTarget.insert(t,i)}}}function l8(e,t){let r=k(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ry),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function l6(e,t){let r=k(e);return r.persistence.runTransaction("read document","readonly",e=>r.localDocuments.getDocument(e,t))}function l7(e,t){let r=k(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.targetCache.getTargetData(e,t).next(i=>i?(n=i,ey.resolve(n)):r.targetCache.allocateTargetId(e).next(i=>(n=new A3(t,i,"TargetPurposeListen",e.currentSequenceNumber),r.targetCache.addTargetData(e,n).next(()=>n))))}).then(e=>{let n=r.targetDataByTarget.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.targetDataByTarget=r.targetDataByTarget.insert(e.targetId,e),r.targetIdByTarget.set(t,e.targetId)),e})}function ce(e,t,r){let n=k(e),i=n.targetIdByTarget.get(r);return void 0!==i?ey.resolve(n.targetDataByTarget.get(i)):n.targetCache.getTargetData(t,r)}async function ct(e,t,r){let n=k(e),i=n.targetDataByTarget.get(t),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,e=>n.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(ek(e))b(lq,`Failed to update sequence numbers for target ${t}: ${e}`);else throw e}n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(i.target)}function cr(e,t,r){let n=k(e),i=Z.min(),s=iU();return n.persistence.runTransaction("Execute query","readwrite",e=>ce(n,e,ii(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>n.queryEngine.getDocumentsMatchingQuery(e,t,r?i:Z.min(),r?s:iU())).next(e=>(cl(n,iQ(t),e),{documents:e,remoteKeys:s})))}function cn(e,t,r,n){let i=r.batch,s=i.keys(),A=ey.resolve();return s.forEach(e=>{A=A.next(()=>n.getEntry(t,e)).next(t=>{let s=r.docVersions.get(e);T(null!==s),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),A.next(()=>e.mutationQueue.removeMutationBatch(t,i))}function ci(e,t){let r=k(e),n=k(r.mutationQueue);return r.persistence.runTransaction("Lookup mutation documents","readonly",e=>n.lookupMutationKeys(e,t).next(t=>t?r.localDocuments.getDocuments(e,t):ey.resolve(null)))}function cs(e,t){k(k(e,lj).mutationQueue).removeCachedMutationKeys(t)}function cA(e){return k(k(e,lj).persistence).getActiveClients()}function co(e,t){let r=k(e),n=k(r.targetCache),i=r.targetDataByTarget.get(t);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",e=>n.getTargetDataForTarget(e,t).next(e=>e?e.target:null))}function ca(e,t){let r=k(e),n=r.collectionGroupReadTime.get(t)||Z.min();return r.persistence.runTransaction("Get new document changes","readonly",e=>r.remoteDocuments.getAllFromCollectionGroup(e,t,eE(n,es),Number.MAX_SAFE_INTEGER)).then(e=>(cl(r,t,e),e))}function cl(e,t,r){let n=e.collectionGroupReadTime.get(t)||Z.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.collectionGroupReadTime.set(t,n)}function cc(e){return ii(n5(et.fromString(`__bundle__/docs/${e}`)))}async function ch(e,t,r,n){let i=k(e),s=iU(),A=iv();for(let e of r){let r=t.toDocumentKey(e.metadata.name);e.document&&(s=s.add(r));let n=t.toMutableDocument(e);n.setReadTime(t.toSnapshotVersion(e.metadata.readTime)),A=A.insert(r,n)}let o=i.remoteDocuments.newChangeBuffer({trackRemovals:!0}),a=await l7(i,cc(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>l3(e,o,A).next(t=>(o.apply(e),t)).next(t=>i.targetCache.removeMatchingKeysForTargetId(e,a.targetId).next(()=>i.targetCache.addMatchingKeys(e,s,a.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)))}function cu(e,t){let r=k(e),n=s9(t.createTime);return r.persistence.runTransaction("hasNewerBundle","readonly",e=>r.bundleCache.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(n)>=0)}function cd(e,t){let r=k(e);return r.persistence.runTransaction("Save bundle","readwrite",e=>r.bundleCache.saveBundleMetadata(e,t))}async function cg(e,t,r=iU()){let n=await l7(e,ii(oh(t.bundledQuery))),i=k(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{let s=s9(t.readTime);if(n.snapshotVersion.compareTo(s)>=0)return i.bundleCache.saveNamedQuery(e,t);let A=n.withResumeToken(ri.EMPTY_BYTE_STRING,s);return i.targetDataByTarget=i.targetDataByTarget.insert(A.targetId,A),i.targetCache.updateTargetData(e,A).next(()=>i.targetCache.removeMatchingKeysForTargetId(e,n.targetId)).next(()=>i.targetCache.addMatchingKeys(e,r,n.targetId)).next(()=>i.bundleCache.saveNamedQuery(e,t))})}function cf(e,t){k(e).queryEngine.indexAutoCreationEnabled=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=100;function cC(){return(0,h.G6)()?8:eD((0,h.z$)())>0?6:4}class cI{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=cp,this.relativeIndexReadCostPerDocument=cC()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.performQueryUsingIndex(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.performQueryUsingRemoteKeys(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new cE;return this.executeFullCollectionScan(e,t,r).next(n=>{if(i.result=n,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,r,n.size)})}).next(()=>i.result)}createCacheIndexes(e,t,r,n){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(w()<=l.in.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",ig(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),ey.resolve()):(w()<=l.in.DEBUG&&b("QueryEngine","Query:",ig(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*n)?(w()<=l.in.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",ig(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):ey.resolve()}performQueryUsingIndex(e,t){if(n6(t))return ey.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=ii(t=il(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=iU(...n);return this.localDocumentsView.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let s=this.applyQuery(t,n);return this.needsRefill(t,s,i,r.readTime)?this.performQueryUsingIndex(e,il(t,null,"F")):this.appendRemainingResults(e,s,t,r)}))})))}performQueryUsingRemoteKeys(e,t,r,n){return n6(t)||n.isEqual(Z.min())?ey.resolve(null):this.localDocumentsView.getDocuments(e,r).next(i=>{let s=this.applyQuery(t,i);return this.needsRefill(t,s,r,n)?ey.resolve(null):(w()<=l.in.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ig(t)),this.appendRemainingResults(e,s,t,eE(n,es)).next(e=>e))})}applyQuery(e,t){let r=new t8(iB(e));return t.forEach((t,n)=>{iE(e,n)&&(r=r.add(n))}),r}needsRefill(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}executeFullCollectionScan(e,t,r){return w()<=l.in.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",ig(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,eC.min(),r)}appendRemainingResults(e,t,r,n){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm="firestore_clients";function cQ(e,t){return`${cm}_${e}_${t}`}let cB="firestore_mutations";function cy(e,t,r){let n=`${cB}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let cw="firestore_targets";function cb(e,t){return`${cw}_${e}_${t}`}let cv="firestore_online_state";function cS(e){return`${cv}_${e}`}let cD="firestore_bundle_loaded_v2";function cR(e){return`${cD}_${e}`}let cT="firestore_sequence_number";function ck(e){return`${cT}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cN="SharedClientState";class cF{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static fromWebStorageEntry(e,t,r){let n;let i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return(s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(n=new F(i.error.code,i.error.message)),s)?new cF(e,t,i.state,n):(v(cN,`Failed to parse mutation state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cL{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fromWebStorageEntry(e,t){let r;let n=JSON.parse(t),i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return(i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new F(n.error.code,n.error.message)),i)?new cL(e,n.state,r):(v(cN,`Failed to parse target state for ID '${e}': ${t}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cM{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fromWebStorageEntry(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=ix();for(let e=0;n&&e<r.activeTargetIds.length;++e)n=rv(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new cM(e,i):(v(cN,`Failed to parse client data for instance '${e}': ${t}`),null)}}class c_{constructor(e,t){this.clientId=e,this.onlineState=t}static fromWebStorageEntry(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new c_(t.clientId,t.onlineState):(v(cN,`Failed to parse online state: ${e}`),null)}}class cU{constructor(){this.activeTargetIds=ix()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class cO{constructor(e,t,r,n,i){this.window=e,this.queue=t,this.persistenceKey=r,this.localClientId=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new t9(q),this.started=!1,this.earlyEvents=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.localClientStorageKey=cQ(this.persistenceKey,this.localClientId),this.sequenceNumberKey=ck(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new cU),this.clientStateKeyRe=RegExp(`^${cm}_${s}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${cB}_${s}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${cw}_${s}_(\\d+)$`),this.onlineStateKey=cS(this.persistenceKey),this.bundleLoadedKey=cR(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){for(let e of(await this.syncEngine.getActiveClients())){if(e===this.localClientId)continue;let t=this.getItem(cQ(this.persistenceKey,e));if(t){let r=cM.fromWebStorageEntry(e,t);r&&(this.activeClients=this.activeClients.insert(r.clientId,r))}}this.persistClientState();let e=this.storage.getItem(this.onlineStateKey);if(e){let t=this.fromWebStorageOnlineState(e);t&&this.handleOnlineStateEvent(t)}for(let e of this.earlyEvents)this.handleWebStorageEvent(e);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=!1;return this.activeClients.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,r){this.persistMutationState(e,t,r),this.removeMutationState(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(cb(this.persistenceKey,e));if(r){let n=cL.fromWebStorageEntry(e,r);n&&(t=n.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cb(this.persistenceKey,e))}updateQueryState(e,t,r){this.persistQueryTargetState(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.removeMutationState(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return b(cN,"READ",e,t),t}setItem(e,t){b(cN,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){b(cN,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let t=e;if(t.storageArea===this.storage){if(b(cN,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey){v("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(null!==t.key){if(this.clientStateKeyRe.test(t.key)){if(null!=t.newValue){let e=this.fromWebStorageClientState(t.key,t.newValue);if(e)return this.handleClientStateEvent(e.clientId,e)}else{let e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e)return this.handleMutationBatchEvent(e)}}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e)return this.handleQueryTargetEvent(e)}}else if(t.key===this.onlineStateKey){if(null!==t.newValue){let e=this.fromWebStorageOnlineState(t.newValue);if(e)return this.handleOnlineStateEvent(e)}}else if(t.key===this.sequenceNumberKey){let e=cx(t.newValue);e!==eG.INVALID&&this.sequenceNumberHandler(e)}else if(t.key===this.bundleLoadedKey){let e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,r){let n=new cF(this.currentUser,e,t,r),i=cy(this.persistenceKey,this.currentUser,e);this.setItem(i,n.toWebStorageJSON())}removeMutationState(e){let t=cy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){let t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,r){let n=cb(this.persistenceKey,e),i=new cL(e,t,r);this.setItem(n,i.toWebStorageJSON())}persistBundleLoadedState(e){let t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){let t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){let r=this.fromWebStorageClientStateKey(e);return cM.fromWebStorageEntry(r,t)}fromWebStorageMutationMetadata(e,t){let r=this.mutationBatchKeyRe.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return cF.fromWebStorageEntry(new I(i),n,t)}fromWebStorageQueryTargetMetadata(e,t){let r=Number(this.queryTargetKeyRe.exec(e)[1]);return cL.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return c_.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){b(cN,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){let r=t?this.activeClients.insert(e,t):this.activeClients.remove(e),n=this.extractActiveQueryTargets(this.activeClients),i=this.extractActiveQueryTargets(r),s=[],A=[];return i.forEach(e=>{n.has(e)||s.push(e)}),n.forEach(e=>{i.has(e)||A.push(e)}),this.syncEngine.applyActiveTargetsChange(s,A).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let t=ix();return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}function cx(e){let t=eG.INVALID;if(null!=e)try{let r=JSON.parse(e);T("number"==typeof r),t=r}catch(e){v(cN,"Failed to read sequence number from WebStorage",e)}return t}class cP{constructor(){this.localState=new cU,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new cU,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{addCallback(e){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cY=null;function cJ(){return 268435456+Math.round(2147483648*Math.random())}function cH(){return null===cY?cY=cJ():cY++,"0x"+cY.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(e){return new Promise((t,r)=>{e((e,n)=>{e?r(e):t(n)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cW="1.9.1",cj="GrpcConnection",cz=`gl-node/${process.versions.node} fire/${m} grpc/${cW}`;function cK(e,t,r,n){T(null===t||"OAuth"===t.type);let i=new f.SF;return t&&t.headers.forEach((e,t)=>i.set(t,e)),r&&r.headers.forEach((e,t)=>i.set(t,e)),n&&i.set("X-Firebase-GMPID",n),i.set("X-Goog-Api-Client",cz),i.set("Google-Cloud-Resource-Prefix",e),i.set("x-goog-request-params",e),i}class cX{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){b(cj,"Creating Firestore stub.");let e=this.databaseInfo.ssl?f.K9.createSsl():f.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,n,i){let s=cH(),A=this.ensureActiveStub(),o=cK(this.databasePath,n,i,this.databaseInfo.appId),a=Object.assign({database:this.databasePath},r);return cq(t=>(b(cj,`RPC '${e}' ${s} invoked with request:`,r),A[e](a,o,(r,n)=>{r?(b(cj,`RPC '${e}' ${s} failed with error:`,r),t(new F(sw(r.code),r.message))):(b(cj,`RPC '${e}' ${s} completed with response:`,n),t(void 0,n))})))}invokeStreamingRPC(e,t,r,n,i,s){let A=cH(),o=[],a=new L;b(cj,`RPC '${e}' ${A} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),c=cK(this.databasePath,n,i,this.databaseInfo.appId),h=Object.assign(Object.assign({},r),{database:this.databasePath}),u=l[e](h,c),d=!1;return u.on("data",t=>{b(cj,`RPC ${e} ${A} received result:`,t),o.push(t),void 0!==s&&o.length===s&&(d=!0,a.resolve(o))}),u.on("end",()=>{b(cj,`RPC '${e}' ${A} completed.`),d||(d=!0,a.resolve(o))}),u.on("error",t=>{b(cj,`RPC '${e}' ${A} failed with error:`,t);let r=sw(t.code);a.reject(new F(r,t.message))}),a.promise}openStream(e,t,r){let n=cH(),i=this.ensureActiveStub(),s=cK(this.databasePath,t,r,this.databaseInfo.appId),A=i[e](s),o=!1,a=e=>{o||(o=!0,l.callOnClose(e),A.end())},l=new cG({sendFn:t=>{if(o)b(cj,`RPC '${e}' stream ${n} not sending because gRPC stream is closed:`,t);else{b(cj,`RPC '${e}' stream ${n} sending:`,t);try{A.write(t)}catch(e){throw v("Failure sending:",t),v("Error:",e),e}}},closeFn:()=>{b(cj,`RPC '${e}' stream ${n} closed locally via close().`),a()}}),c=!1;return A.on("data",t=>{o||(b(cj,`RPC '${e}' stream ${n} received:`,t),c||(l.callOnConnected(),c=!0),l.callOnMessage(t))}),A.on("end",()=>{b(cj,`RPC '${e}' stream ${n} ended.`),a()}),A.on("error",t=>{o||(S(cj,`RPC '${e}' stream ${n} error. Code:`,t.code,"Message:",t.message),a(new F(sw(t.code),t.message)))}),b(cj,`Opening RPC '${e}' stream ${n} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let cZ={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var c$={nested:cZ},c0=Object.freeze({__proto__:null,nested:cZ,default:c$});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1={longs:String,enums:String,defaults:!0,oneofs:!1};function c2(){let e=E.im(c0,c1);return f.Rz(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(e){return new cX(c2(),e)}function c3(){return new cV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function c5(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(e){return new sj(e,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6="ExponentialBackoff",c7=1e3,he=1.5,ht=6e4;class hr{constructor(e,t,r=c7,n=he,i=ht){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=n,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),n=Math.max(0,t-r);n>0&&b(c6,`Backing off for ${n} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,n,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn="PersistentStream",hi=6e4,hs=1e4;class hA{constructor(e,t,r,n,i,s,A,o){this.queue=e,this.idleTimerId=r,this.healthTimerId=n,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=A,this.listener=o,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new hr(e,t)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,hi,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(e,t){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==e?this.backoff.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(v(t.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===N.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,await this.listener.onClose(t)}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.closeCount===t&&this.startStream(e,r)},t=>{e(()=>{let e=new F(N.UNKNOWN,"Fetching auth token failed: "+t.message);return this.handleStreamClose(e)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,hs,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(e=>{r(()=>this.handleStreamClose(e))}),this.stream.onMessage(e=>{r(()=>this.onMessage(e))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(e){return b(hn,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(b(hn,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ho extends hA{constructor(e,t,r,n,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onMessage(e){this.backoff.reset();let t=Ac(this.serializer,e),r=Au(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=At(this.serializer),t.addTarget=AR(this.serializer,e);let r=AS(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=At(this.serializer),t.removeTarget=e,this.sendRequest(t)}}class ha extends hA{constructor(e,t,r,n,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onMessage(e){if(T(!!e.streamToken),this.lastStreamToken=e.streamToken,!this.handshakeComplete_)return T(!e.writeResults||0===e.writeResults.length),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();{this.backoff.reset();let t=AC(e.writeResults,e.commitTime),r=s9(e.commitTime);return this.listener.onMutationResult(r,t)}}writeHandshake(){let e={};e.database=At(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>Ad(this.serializer,e))};this.sendRequest(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{}class hc extends hl{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,n){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.invokeRPC(e,s4(t,r),n,i,s)).catch(e=>{if("FirebaseError"===e.name)throw e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new F(N.UNKNOWN,e.toString())})}invokeStreamingRPC(e,t,r,n,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,A])=>this.connection.invokeStreamingRPC(e,s4(t,r),n,s,A,i)).catch(e=>{if("FirebaseError"===e.name)throw e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new F(N.UNKNOWN,e.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function hh(e,t,r,n){return new hc(e,t,r,n)}async function hu(e,t){let r=k(e),n={writes:t.map(e=>Ad(r.serializer,e))};await r.invokeRPC("Commit",r.serializer.databaseId,et.emptyPath(),n)}async function hd(e,t){let r=k(e),n={documents:t.map(e=>s8(r.serializer,e))},i=await r.invokeStreamingRPC("BatchGetDocuments",r.serializer.databaseId,et.emptyPath(),n,t.length),s=new Map;i.forEach(e=>{let t=Al(r.serializer,e);s.set(t.key.toString(),t)});let A=[];return t.forEach(e=>{let t=s.get(e.toString());T(!!t),A.push(t)}),A}async function hg(e,t,r){var n;let i=k(e),{request:s,aliasMap:A,parent:o}=Aw(i.serializer,is(t),r);i.connection.shouldResourcePathBeIncludedInRequest||delete s.parent;let a=(await i.invokeStreamingRPC("RunAggregationQuery",i.serializer.databaseId,o,s,1)).filter(e=>!!e.result);T(1===a.length);let l=null===(n=a[0].result)||void 0===n?void 0:n.aggregateFields;return Object.keys(l).reduce((e,t)=>(e[A[t]]=l[t],e),{})}function hf(e,t,r){let n=k(e);return n.verifyInitialized(),new ha(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}function hE(e,t,r){let n=k(e);return n.verifyInitialized(),new ho(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp="OnlineStateTracker",hC=1,hI=1e4;class hm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",hI,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${hI/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=hC&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${hC} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===e&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(v(t),this.shouldWarnClientIsOffline=!1):b(hp,t)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hQ="RemoteStore",hB=10;class hy{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=i,this.connectivityMonitor.addCallback(e=>{r.enqueueAndForget(async()=>{hL(this)&&(b(hQ,"Restarting streams for network reachability change."),await h0(this))})}),this.onlineStateTracker=new hm(r,n)}}function hw(e,t,r,n,i){return new hy(e,t,r,n,i)}async function hb(e){if(hL(e))for(let t of e.onNetworkStatusChange)await t(!0)}async function hv(e){for(let t of e.onNetworkStatusChange)await t(!1)}async function hS(e){let t=k(e);b(hQ,"RemoteStore shutting down."),t.offlineCauses.add(5),await hv(t),t.connectivityMonitor.shutdown(),t.onlineStateTracker.set("Unknown")}function hD(e,t){let r=k(e);!r.listenTargets.has(t.targetId)&&(r.listenTargets.set(t.targetId,t),hF(r)?hN(r):h9(r).isOpen()&&hT(r,t))}function hR(e,t){let r=k(e),n=h9(r);r.listenTargets.delete(t),n.isOpen()&&hk(r,t),0===r.listenTargets.size&&(n.isOpen()?n.markIdle():hL(r)&&r.onlineStateTracker.set("Unknown"))}function hT(e,t){if(e.watchChangeAggregator.recordPendingTargetRequest(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}h9(e).watch(t)}function hk(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t),h9(e).unwatch(t)}function hN(e){e.watchChangeAggregator=new sV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId}),h9(e).start(),e.onlineStateTracker.handleWatchStreamStart()}function hF(e){return hL(e)&&!h9(e).isStarted()&&e.listenTargets.size>0}function hL(e){return 0===k(e).offlineCauses.size}function hM(e){e.watchChangeAggregator=void 0}async function h_(e){e.onlineStateTracker.set("Online")}async function hU(e){e.listenTargets.forEach((t,r)=>{hT(e,t)})}async function hO(e,t){hM(e),hF(e)?(e.onlineStateTracker.handleWatchStreamFailure(t),hN(e)):e.onlineStateTracker.set("Unknown")}async function hx(e,t,r){if(e.onlineStateTracker.set("Online"),t instanceof sO&&2===t.state&&t.cause){try{await hY(e,t)}catch(r){b(hQ,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hP(e,r)}return}if(t instanceof s_?e.watchChangeAggregator.handleDocumentChange(t):t instanceof sU?e.watchChangeAggregator.handleExistenceFilter(t):e.watchChangeAggregator.handleTargetChange(t),!r.isEqual(Z.min()))try{let t=await l2(e.localStore);r.compareTo(t)>=0&&await hG(e,r)}catch(t){b(hQ,"Failed to raise snapshot:",t),await hP(e,t)}}async function hP(e,t,r){if(ek(t))e.offlineCauses.add(1),await hv(e),e.onlineStateTracker.set("Offline"),r||(r=()=>l2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{b(hQ,"Retrying IndexedDB access"),await r(),e.offlineCauses.delete(1),await hb(e)});else throw t}function hV(e,t){return t().catch(r=>hP(e,r,t))}function hG(e,t){let r=e.watchChangeAggregator.createRemoteEvent(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){let i=e.listenTargets.get(n);i&&e.listenTargets.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{let n=e.listenTargets.get(t);n&&(e.listenTargets.set(t,n.withResumeToken(ri.EMPTY_BYTE_STRING,n.snapshotVersion)),hk(e,t),hT(e,new A3(n.target,t,r,n.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(r)}async function hY(e,t){let r=t.cause;for(let n of t.targetIds)e.listenTargets.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.listenTargets.delete(n),e.watchChangeAggregator.removeTarget(n))}async function hJ(e){let t=k(e),r=h3(t),n=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:ry;for(;hH(t);)try{let e=await l8(t.localStore,n);if(null===e){0===t.writePipeline.length&&r.markIdle();break}n=e.batchId,hq(t,e)}catch(e){await hP(t,e)}hW(t)&&hj(t)}function hH(e){return hL(e)&&e.writePipeline.length<hB}function hq(e,t){e.writePipeline.push(t);let r=h3(e);r.isOpen()&&r.handshakeComplete&&r.writeMutations(t.mutations)}function hW(e){return hL(e)&&!h3(e).isStarted()&&e.writePipeline.length>0}function hj(e){h3(e).start()}async function hz(e){h3(e).writeHandshake()}async function hK(e){let t=h3(e);for(let r of e.writePipeline)t.writeMutations(r.mutations)}async function hX(e,t,r){let n=e.writePipeline.shift(),i=sI.from(n,t,r);await hV(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hJ(e)}async function hZ(e,t){t&&h3(e).handshakeComplete&&await h$(e,t),hW(e)&&hj(e)}async function h$(e,t){if(sy(t.code)){let r=e.writePipeline.shift();h3(e).inhibitBackoff(),await hV(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await hJ(e)}}async function h0(e){let t=k(e);t.offlineCauses.add(4),await hv(t),t.onlineStateTracker.set("Unknown"),t.offlineCauses.delete(4),await hb(t)}async function h1(e,t){let r=k(e);r.asyncQueue.verifyOperationInProgress(),b(hQ,"RemoteStore received new credentials");let n=hL(r);r.offlineCauses.add(3),await hv(r),n&&r.onlineStateTracker.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.offlineCauses.delete(3),await hb(r)}async function h2(e,t){let r=k(e);t?(r.offlineCauses.delete(2),await hb(r)):t||(r.offlineCauses.add(2),await hv(r),r.onlineStateTracker.set("Unknown"))}function h9(e){return e.watchStream||(e.watchStream=hE(e.datastore,e.asyncQueue,{onConnected:h_.bind(null,e),onOpen:hU.bind(null,e),onClose:hO.bind(null,e),onWatchChange:hx.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.watchStream.inhibitBackoff(),hF(e)?hN(e):e.onlineStateTracker.set("Unknown")):(await e.watchStream.stop(),hM(e))})),e.watchStream}function h3(e){return e.writeStream||(e.writeStream=hf(e.datastore,e.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:hz.bind(null,e),onClose:hZ.bind(null,e),onHandshakeComplete:hK.bind(null,e),onMutationResult:hX.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.writeStream.inhibitBackoff(),await hJ(e)):(await e.writeStream.stop(),e.writePipeline.length>0&&(b(hQ,`Stopping write stream with ${e.writePipeline.length} pending writes`),e.writePipeline=[]))})),e.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h4="AsyncQueue";class h5{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let s=new h5(e,t,Date.now()+r,n,i);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h8(e,t){if(v(h4,`${t}: ${e}`),ek(e))return new F(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){e?this.comparator=(t,r)=>e(t,r)||ei.comparator(t.key,r.key):this.comparator=(e,t)=>ei.comparator(e.key,t.key),this.keyedMap=iD(),this.sortedSet=new t9(this.comparator)}static emptySet(e){return new h6(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof h6)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return(this.forEach(t=>{e.push(t.toString())}),0===e.length)?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new h6;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.changeMap=new t9(ei.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}0!==e.type&&3===r.type?this.changeMap=this.changeMap.insert(t,e):3===e.type&&1!==r.type?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.changeMap=this.changeMap.remove(t):1===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):R()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}}class ue{constructor(e,t,r,n,i,s,A,o,a){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=A,this.excludesMetadataChanges=o,this.hasCachedResults=a}static fromInitialDocuments(e,t,r,n,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ue(e,t,h6.emptySet(t),s,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!iu(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}}function ur(){return new un}class un{constructor(){this.queries=new iw(e=>id(e),iu),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}}async function ui(e,t){let r=k(e),n=3,i=t.query,s=r.queries.get(i);s?!s.hasRemoteListeners()&&t.listensToRemoteStore()&&(n=2):(s=new ut,n=t.listensToRemoteStore()?0:1);try{switch(n){case 0:s.viewSnap=await r.onListen(i,!0);break;case 1:s.viewSnap=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(r){let e=h8(r,`Initialization of query '${ig(t.query)}' failed`);t.onError(e);return}r.queries.set(i,s),s.listeners.push(t),t.applyOnlineStateChange(r.onlineState),s.viewSnap&&t.onViewSnapshot(s.viewSnap)&&ul(r)}async function us(e,t){let r=k(e),n=t.query,i=3,s=r.queries.get(n);if(s){let e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),0===s.listeners.length?i=t.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&t.listensToRemoteStore()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function uA(e,t){let r=k(e),n=!1;for(let e of t){let t=e.query,i=r.queries.get(t);if(i){for(let t of i.listeners)t.onViewSnapshot(e)&&(n=!0);i.viewSnap=e}}n&&ul(r)}function uo(e,t,r){let n=k(e),i=n.queries.get(t);if(i)for(let e of i.listeners)e.onError(r);n.queries.delete(t)}function ua(e,t){let r=k(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(let e of r.listeners)e.applyOnlineStateChange(t)&&(n=!0)}),n&&ul(r)}function ul(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}!function(e){e.Default="default",e.Cache="cache"}(A||(A={}));class uc{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new ue(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r="Offline"!==t;return(!this.options.waitForSyncWhenOnline||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return(!!e.syncStateChanged||!!t)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(e){e=ue.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==A.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=n}static fromSnapshot(e,t){let r=iU(),n=iU();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new uh(e,t.fromCache,r,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.serializer=e}toDocumentKey(e){return s6(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?AA(this.serializer,e.document,!1):nl.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return s9(e)}}class ud{constructor(e,t,r){this.bundleMetadata=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ug(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),!e.payload.documentMetadata.exists&&++t;let r=et.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let t=new Map,r=new uu(this.serializer);for(let n of e)if(n.metadata.queries){let e=r.toDocumentKey(n.metadata.name);for(let r of n.metadata.queries){let n=(t.get(r)||iU()).add(e);t.set(r,n)}}return t}async complete(){let e=await ch(this.localStore,new uu(this.serializer),this.documents,this.bundleMetadata.id),t=this.getQueryDocumentMapping(this.documents);for(let e of this.queries)await cg(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}}}function ug(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function uf(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.key=e}}class up{constructor(e){this.key=e}}class uC{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=iU(),this.mutatedKeys=iU(),this.docComparator=iB(e),this.documentSet=new h6(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new h7,n=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,s=n,A=!1,o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,a="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let l=n.get(e),c=iE(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),u=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;l&&c?l.data.isEqual(c.data)?h!==u&&(r.track({type:3,doc:c}),d=!0):!this.shouldWaitForSyncedDocument(l,c)&&(r.track({type:2,doc:c}),d=!0,(o&&this.docComparator(c,o)>0||a&&0>this.docComparator(c,a))&&(A=!0)):!l&&c?(r.track({type:0,doc:c}),d=!0):l&&!c&&(r.track({type:1,doc:l}),d=!0,(o||a)&&(A=!0)),d&&(c?(s=s.add(c),i=u?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{documentSet:s,changeSet:r,needsRefill:A,mutatedKeys:i}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let s=e.changeSet.getChanges();s.sort((e,t)=>uI(e.type,t.type)||this.docComparator(e.doc,t.doc)),this.applyTargetChange(r),n=null!=n&&n;let A=t&&!n?this.updateLimboDocuments():[],o=0===this.limboDocuments.size&&this.current&&!n?1:0,a=o!==this.syncState;return(this.syncState=o,0!==s.length||a)?{snapshot:new ue(this.query,e.documentSet,i,s,e.mutatedKeys,0===o,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),limboChanges:A}:{limboChanges:A}}applyOnlineStateChange(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new h7,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations}applyTargetChange(e){e&&(e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=iU(),this.documentSet.forEach(e=>{this.shouldBeInLimbo(e.key)&&(this.limboDocuments=this.limboDocuments.add(e.key))});let t=[];return e.forEach(e=>{this.limboDocuments.has(e)||t.push(new up(e))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new uE(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=iU();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return ue.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function uI(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return r(e)-r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um="SyncEngine";class uQ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uB{constructor(e){this.key=e,this.receivedDocument=!1}}class uy{constructor(e,t,r,n,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.syncEngineListener={},this.queryViewsByQuery=new iw(e=>id(e),iu),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new t9(ei.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new lr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=aR.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function uw(e,t,r,n,i,s,A){let o=new uy(e,t,r,n,i,s);return A&&(o._isPrimaryClient=!0),o}async function ub(e,t,r=!0){let n;let i=u5(e),s=i.queryViewsByQuery.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.computeInitialSnapshot()):n=await uS(i,t,r,!0),n}async function uv(e,t){let r=u5(e);await uS(r,t,!0,!1)}async function uS(e,t,r,n){let i;let s=await l7(e.localStore,ii(t)),A=s.targetId,o=r?e.sharedClientState.addLocalQueryTarget(A):"not-current";return n&&(i=await uD(e,t,A,"current"===o,s.resumeToken)),e.isPrimaryClient&&r&&hD(e.remoteStore,s),i}async function uD(e,t,r,n,i){e.applyDocChanges=(t,r,n)=>uW(e,t,r,n);let s=await cr(e.localStore,t,!0),A=new uC(t,s.remoteKeys),o=A.computeDocChanges(s.documents),a=sM.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),l=A.applyChanges(o,e.isPrimaryClient,a);uY(e,r,l.limboChanges);let c=new uQ(t,r,A);return e.queryViewsByQuery.set(t,c),e.queriesByTarget.has(r)?e.queriesByTarget.get(r).push(t):e.queriesByTarget.set(r,[t]),l.snapshot}async function uR(e,t,r){let n=k(e),i=n.queryViewsByQuery.get(t),s=n.queriesByTarget.get(i.targetId);if(s.length>1){n.queriesByTarget.set(i.targetId,s.filter(e=>!iu(e,t))),n.queryViewsByQuery.delete(t);return}n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ct(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&hR(n.remoteStore,i.targetId),uV(n,i.targetId)}).catch(eB)):(uV(n,i.targetId),await ct(n.localStore,i.targetId,!0))}async function uT(e,t){let r=k(e),n=r.queryViewsByQuery.get(t),i=r.queriesByTarget.get(n.targetId);r.isPrimaryClient&&1===i.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),hR(r.remoteStore,n.targetId))}async function uk(e,t,r){let n=u8(e);try{let e=await lX(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),ux(n,e.batchId,r),await uq(n,e.changes),await hJ(n.remoteStore)}catch(t){let e=h8(t,"Failed to persist write");r.reject(e)}}async function uN(e,t){let r=k(e);try{let e=await l9(r.localStore,t);t.targetChanges.forEach((e,t)=>{let n=r.activeLimboResolutionsByTarget.get(t);n&&(T(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.receivedDocument=!0:e.modifiedDocuments.size>0?T(n.receivedDocument):e.removedDocuments.size>0&&(T(n.receivedDocument),n.receivedDocument=!1))}),await uq(r,e,t)}catch(e){await eB(e)}}function uF(e,t,r){let n=k(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){let e=[];n.queryViewsByQuery.forEach((r,n)=>{let i=n.view.applyOnlineStateChange(t);i.snapshot&&e.push(i.snapshot)}),ua(n.eventManager,t),e.length&&n.syncEngineListener.onWatchChange(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function uL(e,t,r){let n=k(e);n.sharedClientState.updateQueryState(t,"rejected",r);let i=n.activeLimboResolutionsByTarget.get(t),s=i&&i.key;if(s){let e=new t9(ei.comparator);e=e.insert(s,nl.newNoDocument(s,Z.min()));let r=iU().add(s),i=new sL(Z.min(),new Map,new t9(q),e,r);await uN(n,i),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(s),n.activeLimboResolutionsByTarget.delete(t),uH(n)}else await ct(n.localStore,t,!1).then(()=>uV(n,t,r)).catch(eB)}async function uM(e,t){let r=k(e),n=t.batch.batchId;try{let e=await lZ(r.localStore,t);uP(r,n,null),uU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await uq(r,e)}catch(e){await eB(e)}}async function u_(e,t,r){let n=k(e);try{let e=await l0(n.localStore,t);uP(n,t,r),uU(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await uq(n,e)}catch(e){await eB(e)}}function uU(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()}),e.pendingWritesCallbacks.delete(t)}function uO(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new F(N.CANCELLED,t))})}),e.pendingWritesCallbacks.clear()}function ux(e,t,r){let n=e.mutationUserCallbacks[e.currentUser.toKey()];n||(n=new t9(q)),n=n.insert(t,r),e.mutationUserCallbacks[e.currentUser.toKey()]=n}function uP(e,t,r){let n=k(e),i=n.mutationUserCallbacks[n.currentUser.toKey()];if(i){let e=i.get(t);e&&(r?e.reject(r):e.resolve(),i=i.remove(t)),n.mutationUserCallbacks[n.currentUser.toKey()]=i}}function uV(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.queriesByTarget.get(t)))e.queryViewsByQuery.delete(n),r&&e.syncEngineListener.onWatchError(n,r);e.queriesByTarget.delete(t),e.isPrimaryClient&&e.limboDocumentRefs.removeReferencesForId(t).forEach(t=>{e.limboDocumentRefs.containsKey(t)||uG(e,t)})}function uG(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());let r=e.activeLimboTargetsByKey.get(t);null!==r&&(hR(e.remoteStore,r),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t),e.activeLimboResolutionsByTarget.delete(r),uH(e))}function uY(e,t,r){for(let n of r)n instanceof uE?(e.limboDocumentRefs.addReference(n.key,t),uJ(e,n)):n instanceof up?(b(um,"Document no longer in limbo: "+n.key),e.limboDocumentRefs.removeReference(n.key,t),e.limboDocumentRefs.containsKey(n.key)||uG(e,n.key)):R()}function uJ(e,t){let r=t.key,n=r.path.canonicalString();e.activeLimboTargetsByKey.get(r)||e.enqueuedLimboResolutions.has(n)||(b(um,"New document in limbo: "+r),e.enqueuedLimboResolutions.add(n),uH(e))}function uH(e){for(;e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions;){let t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);let r=new ei(et.fromString(t)),n=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(n,new uB(r)),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(r,n),hD(e.remoteStore,new A3(ii(n5(r.path)),n,"TargetPurposeLimboResolution",eG.INVALID))}}async function uq(e,t,r){let n=k(e),i=[],s=[],A=[];n.queryViewsByQuery.isEmpty()||(n.queryViewsByQuery.forEach((e,o)=>{A.push(n.applyDocChanges(o,t,r).then(e=>{var t;if((e||r)&&n.isPrimaryClient){let i=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);let t=uh.fromSnapshot(o.targetId,e);s.push(t)}}))}),await Promise.all(A),n.syncEngineListener.onWatchChange(i),await l5(n.localStore,s))}async function uW(e,t,r,n){let i=t.view.computeDocChanges(r);i.needsRefill&&(i=await cr(e.localStore,t.query,!1).then(({documents:e})=>t.view.computeDocChanges(e,i)));let s=n&&n.targetChanges.get(t.targetId),A=n&&null!=n.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,A);return uY(e,t.targetId,o.limboChanges),o.snapshot}async function uj(e,t){let r=k(e);if(!r.currentUser.isEqual(t)){b(um,"User change. New user:",t.toKey());let e=await lK(r.localStore,t);r.currentUser=t,uO(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await uq(r,e.affectedDocuments)}}function uz(e,t){let r=k(e),n=r.activeLimboResolutionsByTarget.get(t);if(n&&n.receivedDocument)return iU().add(n.key);{let e=iU(),n=r.queriesByTarget.get(t);if(!n)return e;for(let t of n){let n=r.queryViewsByQuery.get(t);e=e.unionWith(n.view.syncedDocuments)}return e}}async function uK(e,t){let r=k(e),n=await cr(r.localStore,t.query,!0),i=t.view.synchronizeWithPersistedState(n);return r.isPrimaryClient&&uY(r,t.targetId,i.limboChanges),i}async function uX(e,t){let r=k(e);return ca(r.localStore,t).then(e=>uq(r,e))}async function uZ(e,t,r,n){let i=k(e),s=await ci(i.localStore,t);if(null===s){b(um,"Cannot apply mutation batch with id: "+t);return}"pending"===r?await hJ(i.remoteStore):"acknowledged"===r||"rejected"===r?(uP(i,t,n||null),uU(i,t),cs(i.localStore,t)):R(),await uq(i,s)}async function u$(e,t){let r=k(e);if(u5(r),u8(r),!0===t&&!0!==r._isPrimaryClient){let e=r.sharedClientState.getAllActiveQueryTargets(),t=await u1(r,e.toArray());for(let e of(r._isPrimaryClient=!0,await h2(r.remoteStore,!0),t))hD(r.remoteStore,e)}else if(!1===t&&!1!==r._isPrimaryClient){let e=[],t=Promise.resolve();r.queriesByTarget.forEach((n,i)=>{r.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(uV(r,i),ct(r.localStore,i,!0))),hR(r.remoteStore,i)}),await t,await u1(r,e),u0(r),r._isPrimaryClient=!1,await h2(r.remoteStore,!1)}}function u0(e){let t=k(e);t.activeLimboResolutionsByTarget.forEach((e,r)=>{hR(t.remoteStore,r)}),t.limboDocumentRefs.removeAllReferences(),t.activeLimboResolutionsByTarget=new Map,t.activeLimboTargetsByKey=new t9(ei.comparator)}async function u1(e,t,r){let n=k(e),i=[],s=[];for(let e of t){let t;let r=n.queriesByTarget.get(e);if(r&&0!==r.length)for(let e of(t=await l7(n.localStore,ii(r[0])),r)){let t=n.queryViewsByQuery.get(e),r=await uK(n,t);r.snapshot&&s.push(r.snapshot)}else{let r=await co(n.localStore,e);t=await l7(n.localStore,r),await uD(n,u2(r),e,!1,t.resumeToken)}i.push(t)}return n.syncEngineListener.onWatchChange(s),i}function u2(e){return n4(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function u9(e){return cA(k(e).localStore)}async function u3(e,t,r,n){let i=k(e);if(i._isPrimaryClient){b(um,"Ignoring unexpected query state notification.");return}let s=i.queriesByTarget.get(t);if(s&&s.length>0)switch(r){case"current":case"not-current":{let e=await ca(i.localStore,iQ(s[0])),n=sL.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,ri.EMPTY_BYTE_STRING);await uq(i,e,n);break}case"rejected":await ct(i.localStore,t,!0),uV(i,t,n);break;default:R()}}async function u4(e,t,r){let n=u5(e);if(n._isPrimaryClient){for(let e of t){if(n.queriesByTarget.has(e)&&n.sharedClientState.isActiveQueryTarget(e)){b(um,"Adding an already active target "+e);continue}let t=await co(n.localStore,e),r=await l7(n.localStore,t);await uD(n,u2(t),r.targetId,!1,r.resumeToken),hD(n.remoteStore,r)}for(let e of r)n.queriesByTarget.has(e)&&await ct(n.localStore,e,!1).then(()=>{hR(n.remoteStore,e),uV(n,e)}).catch(eB)}}function u5(e){let t=k(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uL.bind(null,t),t.syncEngineListener.onWatchChange=uA.bind(null,t.eventManager),t.syncEngineListener.onWatchError=uo.bind(null,t.eventManager),t}function u8(e){let t=k(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u_.bind(null,t),t}async function u6(e,t,r){try{let n=await t.getMetadata();if(await cu(e.localStore,n))return await t.close(),r._completeWith(uf(n)),Promise.resolve(new Set);r._updateProgress(ug(n));let i=new ud(n,e.localStore,t.serializer),s=await t.nextElement();for(;s;){let e=await i.addSizedElement(s);e&&r._updateProgress(e),s=await t.nextElement()}let A=await i.complete();return await uq(e,A.changedDocs,void 0),await cd(e.localStore,n),r._completeWith(A.progress),Promise.resolve(A.changedCollectionGroups)}catch(e){return S(um,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=c8(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return lz(this.persistence,new cI,e.initialUser,this.serializer)}createPersistence(e){return new lh(ld.factory,this.serializer)}createSharedClientState(e){return new cP}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class de extends null{constructor(e,t,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.onlineComponentProvider.initialize(this,e),await u8(this.onlineComponentProvider.syncEngine),await hJ(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return lz(this.persistence,new cI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new aJ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let r=new eV(t,this.persistence);return new eP(e.asyncQueue,r)}createPersistence(e){let t=lJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?aU.withCacheSize(this.cacheSizeBytes):aU.DEFAULT;return new lV(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,c4(),c5(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cP}}class dt{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uF(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=uj.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return ur()}createDatastore(e){let t=c8(e.databaseInfo.databaseId),r=c9(e.databaseInfo);return hh(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return hw(this.localStore,this.datastore,e.asyncQueue,e=>uF(this.syncEngine,e,0),c3())}createSyncEngine(e,t){return uw(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await hS(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dr=10240;function dn(e,t=dr){let r=0;return{async read(){if(r<e.byteLength){let n={value:e.slice(r,r+t),done:!1};return r+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e,t,r){if(!r)throw new F(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ds(e,t,r,n){if(!0===t&&!0===n)throw new F(N.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function dA(e){if(!ei.isDocumentKey(e))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function da(e){if(ei.isDocumentKey(e))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function dc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{let t=dh(e);return t?`a custom ${t} object`:"an object"}}if("function"==typeof e)return"a function";return R()}function dh(e){return e.constructor?e.constructor.name:null}function du(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=dc(e);throw new F(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function dd(e,t){if(t<=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(e,t){if(!(e instanceof Uint8Array))throw new F(N.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${dc(e)}`);return dn(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.observer.error?this.scheduleEvent(this.observer.error,e):v("Uncaught Error in snapshot listener:",e.toString())}mute(){this.muted=!0}scheduleEvent(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.payload=e,this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t){this.reader=e,this.serializer=t,this.metadata=new L,this.buffer=new Uint8Array,this.textDecoder=sD(),this.nextElementImpl().then(e=>{e&&e.isBundleMetadata()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let e=await this.readLength();if(null===e)return null;let t=this.textDecoder.decode(e),r=Number(t);return isNaN(r)&&this.raiseError(`length string (${t}) is not valid number`),new dE(JSON.parse(await this.readJsonString(r)),e.length+r)}indexOfOpenBracket(){return this.buffer.findIndex(e=>123===e)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async readJsonString(e){for(;this.buffer.length<e;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let t=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}raiseError(e){throw this.reader.cancel(),Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){let e=await this.reader.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}function dC(e,t){return new dp(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await hd(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new sg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=ei.fromPath(t);this.mutations.push(new sp(r,this.precondition(r)))}),await hu(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else if(e.isNoDocument())t=Z.min();else throw R();let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new F(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return this.writtenDocs.has(e.toString())||!t?i8.none():t.isEqual(Z.min())?i8.exists(!1):i8.updateTime(t)}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return i8.exists(!0);if(t.isEqual(Z.min()))throw new F(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i8.updateTime(t)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm="FirestoreClient",dQ=100,dB=11,dy=20,dw=22;class db{constructor(e,t,r,n){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=I.UNAUTHENTICATED,this.clientId=H.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async e=>{b(dm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(b(dm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:dQ}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=h8(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function dv(e,t){e.asyncQueue.verifyOperationInProgress(),b(dm,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await lK(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dS(e,t){e.asyncQueue.verifyOperationInProgress();let r=await dR(e);b(dm,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>h1(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>h1(t.remoteStore,r)),e._onlineComponents=t}function dD(e){return"FirebaseError"===e.name?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||e.code===dw||e.code===dy||e.code===dB}async function dR(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){b(dm,"Using user provided OfflineComponentProvider");try{await dv(e,e._uninitializedComponentsProvider._offline)}catch(r){let t=r;if(!dD(t))throw t;S("Error using user provided cache. Falling back to memory cache: "+t),await dv(e,new u7)}}else b(dm,"Using default OfflineComponentProvider"),await dv(e,new u7)}return e._offlineComponents}async function dT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(b(dm,"Using user provided OnlineComponentProvider"),await dS(e,e._uninitializedComponentsProvider._online)):(b(dm,"Using default OnlineComponentProvider"),await dS(e,new dt))),e._onlineComponents}function dk(e){return dR(e).then(e=>e.localStore)}function dN(e){return dT(e).then(e=>e.syncEngine)}function dF(e){return dT(e).then(e=>e.datastore)}async function dL(e){let t=await dT(e),r=t.eventManager;return r.onListen=ub.bind(null,t.syncEngine),r.onUnlisten=uR.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=uv.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=uT.bind(null,t.syncEngine),r}function dM(e,t,r={}){let n=new L;return e.asyncQueue.enqueueAndForget(async()=>dO(await dL(e),e.asyncQueue,t,r,n)),n.promise}function d_(e,t,r={}){let n=new L;return e.asyncQueue.enqueueAndForget(async()=>dx(await dL(e),e.asyncQueue,t,r,n)),n.promise}function dU(e,t){let r=new L;return e.asyncQueue.enqueueAndForget(async()=>uk(await dN(e),t,r)),r.promise}function dO(e,t,r,n,i){let s=new df({next:s=>{t.enqueueAndForget(()=>us(e,A));let o=s.docs.has(r);!o&&s.fromCache?i.reject(new F(N.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&n&&"server"===n.source?i.reject(new F(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),A=new uc(n5(r.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return ui(e,A)}function dx(e,t,r,n,i){let s=new uc(r,new df({next:r=>{t.enqueueAndForget(()=>us(e,s)),r.fromCache&&"server"===n.source?i.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(r)},error:e=>i.reject(e)}),{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return ui(e,s)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e,t){return e.timeoutSeconds===t.timeoutSeconds}function dV(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dG="ComponentProvider",dY=new Map;function dJ(e){let t=dY.get(e);t&&(b(dG,"Removing Datastore"),dY.delete(e),t.terminate())}function dH(e,t,r,n){return new rI(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,dV(n.experimentalLongPollingOptions),n.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dq="firestore.googleapis.com",dW=!0,dj=5,dz=30,dK=!0;class dX{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dq,this.ssl=dW}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:dW;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=a_;else{if(e.cacheSizeBytes!==aM&&e.cacheSizeBytes<ax)throw new F(N.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${ax}`);this.cacheSizeBytes=e.cacheSizeBytes}ds("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=dK:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),dZ(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&dP(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function dZ(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<dj)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is ${dj})`);if(e.timeoutSeconds>dz)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is ${dz})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dX({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dX(e),void 0!==e.credentials&&(this._authCredentials=Y(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return dJ(this),Promise.resolve()}}function d0(e,t,r,n={}){var i;let s=(e=du(e,d$))._getSettings(),A=`${t}:${r}`;if(s.host!==dq&&s.host!==A&&S("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=I.MOCK_USER;else{t=(0,h.Sg)(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new I(s)}e._authCredentials=new U(new M(t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new d1(this.firestore,e,this._query)}}class d2{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new d9(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new d2(this.firestore,e,this._key)}}class d9 extends d1{constructor(e,t,r){super(e,t,n5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new d2(this.firestore,null,new ei(e))}withConverter(e){return new d9(this.firestore,e,this._path)}}function d3(e,t,...r){if(e=(0,h.m9)(e),di("collection","path",t),e instanceof d$){let n=et.fromString(t,...r);return da(n),new d9(e,null,n)}{if(!(e instanceof d2)&&!(e instanceof d9))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(et.fromString(t,...r));return da(n),new d9(e.firestore,null,n)}}function d4(e,t,...r){if(e=(0,h.m9)(e),1==arguments.length&&(t=H.newId()),di("doc","path",t),e instanceof d$){let n=et.fromString(t,...r);return dA(n),new d2(e,null,new ei(n))}{if(!(e instanceof d2)&&!(e instanceof d9))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(et.fromString(t,...r));return dA(n),new d2(e.firestore,e instanceof d9?e.converter:null,new ei(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d5="AsyncQueue";class d8{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new hr(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new L;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(ek(e))b(d5,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(e=>{throw this.failure=e,this.operationInProgress=!1,v("INTERNAL UNHANDLED ERROR: ",d7(e)),e}).then(e=>(this.operationInProgress=!1,e))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let n=h5.createAndSchedule(this,e,t,r,e=>this.removeDelayedOperation(e));return this.delayedOperations.push(n),n}verifyNotFailed(){this.failure&&R()}verifyOperationInProgress(){}async drain(){let e;do e=this.tail,await e;while(e!==this.tail)}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{for(let t of(this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.delayedOperations))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function d6(){return new d8}function d7(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ge extends d${constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=d6(),this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gn(this),this._firestoreClient.terminate()}}function gt(e,t){let r="object"==typeof e?e:(0,o.Mq)(),n="string"==typeof e?e:t||rm,i=(0,o.qX)(r,"firestore").getImmediate({identifier:n});if(!i._initialized){let e=(0,h.P0)("firestore");e&&d0(i,...e)}return i}function gr(e){return e._firestoreClient||gn(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gn(e){var t,r,n;let i=e._freezeSettings(),s=dH(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new db(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e,t=!0){Q(o.Jn),(0,o.Xd)(new a.wA("firestore",(e,{instanceIdentifier:r,options:n})=>{let i=e.getProvider("app").getImmediate(),s=new ge(new O(e.getProvider("auth-internal")),new G(e.getProvider("app-check-internal")),rB(i,r),i);return n=Object.assign({useFetchStreams:t},n),s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),(0,o.KN)(p,C,e),(0,o.KN)(p,C,"esm2017")}class gs{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gA(ri.fromBase64String(e))}catch(e){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gA(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=/^__.*__$/;class gh{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ss(e,this.data,t,this.fieldTransforms)}}class gu{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class gg{constructor(e,t,r,n,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gU(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(gd(this.dataSource)&&gc.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gf{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||c8(e)}createContext(e,t,r,n=!1){return new gg({dataSource:e,methodName:t,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gE(e){let t=e._freezeSettings(),r=c8(e._databaseId);return new gf(e._databaseId,!!t.ignoreUndefinedProperties,r)}function gp(e,t,r,n,i,s={}){let A,o;let a=e.createContext(s.merge||s.mergeFields?2:0,t,r,i);gF("Data must be an object, but it was:",a,n);let l=gD(n,a);if(s.merge)A=new rt(a.fieldMask),o=a.fieldTransforms;else if(s.mergeFields){let e=[];for(let n of s.mergeFields){let i=gL(t,n,r);if(!a.contains(i))throw new F(N.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);gO(e,i)||e.push(i)}A=new rt(e),o=a.fieldTransforms.filter(e=>A.covers(e.field))}else A=null,o=a.fieldTransforms;return new gh(new no(l),A,o)}class gC extends ga{_toFieldTransform(e){if(2===e.dataSource)e.fieldMask.push(e.path);else if(1===e.dataSource)throw e.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof gC}}function gI(e,t,r){return new gg({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gm extends ga{_toFieldTransform(e){return new i9(e.path,new ij)}isEqual(e){return e instanceof gm}}class gQ extends null{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=gI(this,e,!0),r=new iz(this._elements.map(e=>gS(e,t)));return new i9(e.path,r)}isEqual(e){return e instanceof gQ&&deepEqual(this._elements,e._elements)}}class gB extends null{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=gI(this,e,!0),r=new iX(this._elements.map(e=>gS(e,t)));return new i9(e.path,r)}isEqual(e){return e instanceof gB&&deepEqual(this._elements,e._elements)}}class gy extends null{constructor(e,t){super(e),this._operand=t}_toFieldTransform(e){let t=new i$(e.serializer,iG(e.serializer,this._operand));return new i9(e.path,t)}isEqual(e){return e instanceof gy&&this._operand===e._operand}}function gw(e,t,r,n){let i=e.createContext(1,t,r);gF("Data must be an object, but it was:",i,n);let s=[],A=no.empty();return t1(n,(e,n)=>{let o=g_(t,e,r);n=(0,h.m9)(n);let a=i.childContextForFieldPath(o);if(n instanceof gC)s.push(o);else{let e=gS(n,a);null!=e&&(s.push(o),A.set(o,e))}}),new gu(A,new rt(s),i.fieldTransforms)}function gb(e,t,r,n,i,s){let A=e.createContext(1,t,r),o=[gL(t,n,r)],a=[i];if(s.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(gL(t,s[e])),a.push(s[e+1]);let l=[],c=no.empty();for(let e=o.length-1;e>=0;--e)if(!gO(l,o[e])){let t=o[e],r=a[e];r=(0,h.m9)(r);let n=A.childContextForFieldPath(t);if(r instanceof gC)l.push(t);else{let e=gS(r,n);null!=e&&(l.push(t),c.set(t,e))}}return new gu(c,new rt(l),A.fieldTransforms)}function gv(e,t,r,n=!1){return gS(r,e.createContext(n?4:3,t))}function gS(e,t){if(gN(e=(0,h.m9)(e)))return gF("Unsupported field value:",t,e),gD(e,t);if(e instanceof ga)return gT(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),!(e instanceof Array))return gk(e,t);if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return gR(e,t)}function gD(e,t){let r={};return t2(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):t1(e,(e,n)=>{let i=gS(n,t.childContextForField(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function gR(e,t){let r=[],n=0;for(let i of e){let e=gS(i,t.childContextForArray(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}function gT(e,t){if(!gd(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}function gk(e,t){if(null===(e=(0,h.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iG(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=X.fromDate(e);return{timestampValue:sZ(t.serializer,r)}}if(e instanceof X){let r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sZ(t.serializer,r)}}if(e instanceof gl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};else if(e instanceof gA)return{bytesValue:s0(t.serializer,e._byteString)};else if(e instanceof d2){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.createError(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:s3(e.firestore._databaseId||t.databaseId,e._key.path)}}else throw t.createError(`Unsupported field value: ${dc(e)}`)}function gN(e){return"object"==typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof X)&&!(e instanceof gl)&&!(e instanceof gA)&&!(e instanceof d2)&&!(e instanceof ga)}function gF(e,t,r){if(!gN(r)||!dl(r)){let n=dc(r);if("an object"===n)throw t.createError(e+" a custom object");throw t.createError(e+" "+n)}}function gL(e,t,r){if((t=(0,h.m9)(t))instanceof go)return t._internalPath;if("string"==typeof t)return g_(e,t);throw gU("Field path arguments must be of type string or ",e,!1,void 0,r)}let gM=RegExp("[~\\*/\\[\\]]");function g_(e,t,r){if(t.search(gM)>=0)throw gU(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new go(...t.split("."))._internalPath}catch(n){throw gU(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function gU(e,t,r,n,i){let s=n&&!n.isEmpty(),A=void 0!==i,o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let a="";return(s||A)&&(a+=" (found",s&&(a+=` in field ${n}`),A&&(a+=` in document ${i}`),a+=")"),new F(N.INVALID_ARGUMENT,o+e+a)}function gO(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new d2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let e=new gP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}}}get(e){if(this._document){let t=this._document.data.field(gV("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gP extends gx{data(){return super.data()}}function gV(e,t){return"string"==typeof t?g_(e,t):t instanceof go?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gY{}class gJ extends gY{}function gH(e,t,...r){let n=[];for(let i of(t instanceof gY&&n.push(t),fn(n=n.concat(r)),n))e=i._apply(e);return e}class gq extends gJ{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gq(e,t,r)}_apply(e){let t=this._parse(e);return fe(e._query,t),new d1(e.firestore,e.converter,io(e._query,t))}_parse(e){let t=gE(e.firestore);return g9(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function gW(e,t,r){let n=t,i=gV("where",e);return gq._create(i,n,r)}class gj extends gY{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gj(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:nB.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(ft(e._query,t),new d1(e.firestore,e.converter,io(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gz extends gJ{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gz(e,t)}_apply(e){let t=g3(e._query,this._field,this._direction);return new d1(e.firestore,e.converter,ia(e._query,t))}}function gK(e,t="asc"){let r=t,n=gV("orderBy",e);return gz._create(n,r)}class gX extends gJ{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gX(e,t,r)}_apply(e){return new d1(e.firestore,e.converter,il(e._query,this._limit,this._limitType))}}function gZ(e){return dd("limit",e),gX._create("limit",e,"F")}class g$ extends gJ{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new g$(e,t,r)}_apply(e){let t=g2(e,this.type,this._docOrFields,this._inclusive);return new d1(e.firestore,e.converter,ic(e._query,t))}}function g0(...e){return g$._create("startAfter",e,!1)}class g1 extends null{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new g1(e,t,r)}_apply(e){let t=g2(e,this.type,this._docOrFields,this._inclusive);return new d1(e.firestore,e.converter,ih(e._query,t))}}function g2(e,t,r,n){if(r[0]=(0,h.m9)(r[0]),r[0]instanceof gx)return g4(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=gE(e.firestore);return g5(e._query,e.firestore._databaseId,i,t,r,n)}}function g9(e,t,r,n,i,s,A){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new F(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){g6(A,s);let t=[];for(let r of A)t.push(g8(n,e,r));o={arrayValue:{values:t}}}else o=g8(n,e,A)}else("in"===s||"not-in"===s||"array-contains-any"===s)&&g6(A,s),o=gv(r,t,A,"in"===s||"not-in"===s);return nQ.create(i,s,o)}function g3(e,t,r){if(null!==e.startAt)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new F(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nE(t,r)}function g4(e,t,r,n,i){if(!n)throw new F(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let s=[];for(let r of ir(e))if(r.field.isKeyField())s.push(r9(t,n.key));else{let e=n.data.field(r.field);if(rf(e))throw new F(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==e)s.push(e);else{let e=r.field.canonicalString();throw new F(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}}return new nh(s,i)}function g5(e,t,r,n,i,s){let A=e.explicitOrderBy;if(i.length>A.length)throw new F(N.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let o=[];for(let s=0;s<i.length;s++){let a=i[s];if(A[s].field.isKeyField()){if("string"!=typeof a)throw new F(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof a}`);if(!it(e)&&-1!==a.indexOf("/"))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${a}' contains a slash.`);let r=e.path.child(et.fromString(a));if(!ei.isDocumentKey(r))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new ei(r);o.push(r9(t,i))}else{let e=gv(r,n,a);o.push(e)}}return new nh(o,s)}function g8(e,t,r){if("string"==typeof(r=(0,h.m9)(r))){if(""===r)throw new F(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!it(t)&&-1!==r.indexOf("/"))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(et.fromString(r));if(!ei.isDocumentKey(n))throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return r9(e,new ei(n))}if(r instanceof d2)return r9(e,r._key);throw new F(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(r)}.`)}function g6(e,t){if(!Array.isArray(e)||0===e.length)throw new F(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function g7(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function fe(e,t){let r=fr(e.filters,g7(t.op));if(null!==r){if(r===t.op)throw new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`);throw new F(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}}function ft(e,t){let r=e;for(let e of t.getFlattenedFilters())fe(r,e),r=io(r,e)}function fr(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}function fn(e){let t=e.filter(e=>e instanceof gj).length,r=e.filter(e=>e instanceof gq).length;if(t>1||t>0&&r>0)throw new F(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{convertValue(e,t="none"){switch(rT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw R()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return t1(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertGeoPoint(e){return new gl(rl(e.latitude),rl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rp(e);if(null==r)return null;return this.convertValue(r,t);case"estimate":return this.convertTimestamp(rC(e));default:return null}}convertTimestamp(e){let t=ra(e);return new X(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=et.fromString(e);T(A9(r));let n=new rQ(r.get(1),r.get(3)),i=new ei(r.popFirst(5));return n.isEqual(t)||v(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends gx{constructor(e,t,r,n,i,s){super(e,t,r,n,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);{let t=new fa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}}}get(e,t={}){if(this._document){let r=this._document.data.field(gV("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fa extends fo{data(e={}){return super.data(e)}}class fl{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new fA(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fa(this._firestore,this._userDataWriter,r.key,r,new fA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=fc(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fc(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(r=>{let n=new fa(e._firestore,e._userDataWriter,r.doc.key,r.doc,new fA(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}})}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let n=new fa(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(s=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:fh(t.type),doc:n,oldIndex:i,newIndex:s}})}}function fh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(e){e=du(e,d2);let t=du(e.firestore,ge);return dM(gr(t),e._key).then(r=>fm(t,e,r))}class fd extends fi{constructor(e){super(),this.firestore=e}convertBytes(e){return new gA(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new d2(this.firestore,null,t)}}function fg(e){e=du(e,d1);let t=du(e.firestore,ge),r=gr(t),n=new fd(t);return gG(e._query),d_(r,e._query).then(r=>new fl(t,n,e,r))}function ff(e,t,r){e=du(e,d2);let n=du(e.firestore,ge),i=fs(e.converter,t,r),s=gp(gE(n),"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,i8.none());return fI(n,[s])}function fE(e,t,r,...n){let i;e=du(e,d2);let s=du(e.firestore,ge),A=gE(s);return fI(s,[(i="string"==typeof(t=(0,h.m9)(t))||t instanceof go?gb(A,"updateDoc",e._key,t,r,n):gw(A,"updateDoc",e._key,t)).toMutation(e._key,i8.exists(!0))])}function fp(e){return fI(du(e.firestore,ge),[new sg(e._key,i8.none())])}function fC(e,t){let r=du(e.firestore,ge),n=d4(e),i=fs(e.converter,t);return fI(r,[gp(gE(e.firestore),"addDoc",n._key,i,null!==e.converter,{}).toMutation(n._key,i8.exists(!1))]).then(()=>n)}function fI(e,t){return dU(gr(e),t)}function fm(e,t,r){let n=r.docs.get(t._key),i=new fd(e);return new fo(e,i,t._key,n,new fA(r.hasPendingWrites,r.fromCache),t.converter)}class fQ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new dt,this._offlineComponentProvider=new de(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}function fB(){return new gm("serverTimestamp")}new WeakMap,/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi("node")},71954:(e,t,r)=>{"use strict";var n;r.d(t,{Yd:()=>l,in:()=>n});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));let s={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},A=n.INFO,o={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},a=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=o[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class l{constructor(e){this.name=e,this._logLevel=A,this._logHandler=a,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}},36348:(e,t,r)=>{"use strict";r.d(t,{BH:()=>I,G6:()=>v,L:()=>l,LL:()=>k,P0:()=>p,Sg:()=>m,ZR:()=>T,aH:()=>C,b$:()=>b,eu:()=>D,hl:()=>S,m9:()=>Y,ne:()=>x,pd:()=>O,q4:()=>E,ru:()=>w,tV:()=>c,uI:()=>B,vZ:()=>L,xO:()=>_,z$:()=>Q,zd:()=>U});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n={NODE_CLIENT:!1},i=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},s=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{let s=e[r++],A=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&A)}}return t.join("")},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,A=s?e[t+1]:0,o=t+2<e.length,a=o?e[t+2]:0,l=i>>2,c=(3&i)<<4|A>>4,h=(15&A)<<2|a>>6,u=63&a;o||(u=64,s||(h=64)),n.push(r[l],r[c],r[h],r[u])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],s=t<e.length?r[e.charAt(t)]:0,A=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==s||null==A||null==a)throw new o;let l=i<<2|s>>4;if(n.push(l),64!==A){let e=s<<4&240|A>>2;if(n.push(e),64!==a){let e=A<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let a=function(e){let t=i(e);return A.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return A.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u=()=>h().__FIREBASE_DEFAULTS__,d=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&c(e[1]);return t&&JSON.parse(t)},f=()=>{try{return u()||d()||g()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},E=e=>{var t,r;return null===(r=null===(t=f())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},p=e=>{let t=E(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},C=()=>{var e;return null===(e=f())||void 0===e?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let A=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),o="";return[l(JSON.stringify(r)),l(JSON.stringify(A)),o].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function B(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function y(){var e;let t=null===(e=f())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function w(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return!y()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"==typeof indexedDB}catch(e){return!1}}function D(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R="FirebaseError";class T extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=R,Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],s=i?N(i,r):"Error",A=`${this.serviceName}: ${s} (${n}).`;return new T(n,A,r)}}function N(e,t){return e.replace(F,(e,r)=>{let n=t[r];return null!=n?String(n):`<${r}?>`})}let F=/\{\$([^}]+)}/g;function L(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],s=t[i];if(M(r)&&M(s)){if(!L(r,s))return!1}else if(r!==s)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function M(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){let t=[];for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function U(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function O(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function x(e,t){let r=new P(e,t);return r.subscribe.bind(r)}class P{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(n=V(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(n.next=G),void 0===n.error&&(n.error=G),void 0===n.complete&&(n.complete=G);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}function G(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.NODE_CLIENT=!0},76041:(e,t,r)=>{"use strict";r.d(t,{ZF:()=>n.ZF});var n=r(95285),i="firebase",s="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,n.KN)(i,s,"app")},81358:(e,t,r)=>{"use strict";r.d(t,{v0:()=>tb,ag:()=>q,Aj:()=>tu,e5:()=>th,w7:()=>td});var n=r(95285),i=r(36348);function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var A=r(47059),o=r(29730),a=r(71954);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let c=l,h=new i.LL("auth","Firebase",l()),u=new a.Yd("@firebase/auth");function d(e,...t){u.logLevel<=a.in.WARN&&u.warn(`Auth (${n.Jn}): ${e}`,...t)}function g(e,...t){u.logLevel<=a.in.ERROR&&u.error(`Auth (${n.Jn}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e,...t){throw I(e,...t)}function E(e,...t){return I(e,...t)}function p(e,t,r){let n=Object.assign(Object.assign({},c()),{[t]:r});return new i.LL("auth","Firebase",n).create(t,{appName:e.name})}function C(e){return p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I(e,...t){if("string"!=typeof e){let r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return h.create(e,...t)}function m(e,t,...r){if(!e)throw I(t,...r)}function Q(e){let t="INTERNAL ASSERTION FAILED: "+e;throw g(t),Error(t)}function B(e,t){e||Q(t)}function y(){return"http:"===w()||"https:"===w()}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(y()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function v(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,B(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return b()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){B(e.emulator,"Emulator should always be set here");let{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},k=new S(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function F(e,t,r,n,s={}){return L(e,s,async()=>{let s={},A={};n&&("GET"===t?A=n:s={body:JSON.stringify(n)});let o=(0,i.xO)(Object.assign({key:e.config.apiKey},A)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),R.fetch()(_(e,e.config.apiHost,r,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},s))})}async function L(e,t,r){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},T),t);try{let t=new O(e),i=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw x(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,r]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw x(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw x(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw x(e,"user-disabled",s);let A=n[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw p(e,A,r);f(e,A)}}catch(t){if(t instanceof i.ZR)throw t;f(e,"network-request-failed",{message:String(t)})}}async function M(e,t,r,n,i={}){let s=await F(e,t,r,n,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s}function _(e,t,r,n){let i=`${t}${r}?${n}`;return e.config.emulator?D(e.config,i):`${e.config.apiScheme}://${i}`}function U(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(E(this.auth,"network-request-failed")),k.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function x(e,t,r){let n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);let i=E(e,t,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){return void 0!==e&&void 0!==e.enterprise}class V{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G(e,t){return F(e,"GET","/v2/recaptchaConfig",N(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t){return F(e,"POST","/v1/accounts:delete",t)}async function J(e,t){return F(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function q(e,t=!1){let r=(0,i.m9)(e),n=await r.getIdToken(t),s=j(n);m(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");let A="object"==typeof s.firebase?s.firebase:void 0,o=null==A?void 0:A.sign_in_provider;return{claims:s,token:n,authTime:H(W(s.auth_time)),issuedAtTime:H(W(s.iat)),expirationTime:H(W(s.exp)),signInProvider:o||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}}function W(e){return 1e3*Number(e)}function j(e){let[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return g("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.tV)(r);if(!e)return g("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return g("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function z(e){let t=j(e);return m(t,"internal-error"),m(void 0!==t.exp,"internal-error"),m(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof i.ZR&&X(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(e){var t;let r=e.auth,n=await e.getIdToken(),i=await K(e,J(r,{idToken:n}));m(null==i?void 0:i.users.length,r,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let A=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?en(s.providerUserInfo):[],o=er(e.providerData,A),a=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length),c=!!a&&l;Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:c})}async function et(e){let t=(0,i.m9)(e);await ee(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function er(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function en(e){return e.map(e=>{var{providerId:t}=e,r=s(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ei(e,t){let r=await L(e,{},async()=>{let r=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:s}=e.config,A=_(e,n,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",R.fetch()(A,{method:"POST",headers:o,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function es(e,t){return F(e,"POST","/v2/accounts:revokeToken",N(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(void 0!==e.idToken,"internal-error"),m(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){m(0!==e.length,"internal-error");let t=z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(m(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:n,expiresIn:i}=await ei(e,t);this.updateTokensAndExpiration(r,n,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){let{refreshToken:r,accessToken:n,expirationTime:i}=t,s=new eA;return r&&(m("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),n&&(m("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),i&&(m("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eA,this.toJSON())}_performRefresh(){return Q("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e,t){m("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ea{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await K(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return q(this,e)}reload(){return et(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ee(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,n.rh)(this.auth.app))return Promise.reject(C(this.auth));let e=await this.getIdToken();return await K(this,Y(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,i,s,A,o,a,l;let c=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,u=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(s=t.photoURL)&&void 0!==s?s:void 0,g=null!==(A=t.tenantId)&&void 0!==A?A:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,E=null!==(a=t.createdAt)&&void 0!==a?a:void 0,p=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:I,isAnonymous:Q,providerData:B,stsTokenManager:y}=t;m(C&&y,e,"internal-error");let w=eA.fromJSON(this.name,y);m("string"==typeof C,e,"internal-error"),eo(c,e.name),eo(h,e.name),m("boolean"==typeof I,e,"internal-error"),m("boolean"==typeof Q,e,"internal-error"),eo(u,e.name),eo(d,e.name),eo(g,e.name),eo(f,e.name),eo(E,e.name),eo(p,e.name);let b=new ea({uid:C,auth:e,email:h,emailVerified:I,displayName:c,isAnonymous:Q,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:w,createdAt:E,lastLoginAt:p});return B&&Array.isArray(B)&&(b.providerData=B.map(e=>Object.assign({},e))),f&&(b._redirectEventId=f),b}static async _fromIdTokenResponse(e,t,r=!1){let n=new eA;n.updateFromServerResponse(t);let i=new ea({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await ee(i),i}static async _fromGetAccountInfoResponse(e,t,r){let n=t.users[0];m(void 0!==n.localId,"internal-error");let i=void 0!==n.providerUserInfo?en(n.providerUserInfo):[],s=!(n.email&&n.passwordHash)&&!(null==i?void 0:i.length),A=new eA;A.updateFromIdToken(r);let o=new ea({uid:n.localId,auth:e,stsTokenManager:A,isAnonymous:s});return Object.assign(o,{uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new $(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null==i?void 0:i.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el=new Map;function ec(e){B(e instanceof Function,"Expected a class definition");let t=el.get(e);return t?B(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,el.set(e,t)),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eh.type="NONE";let eu=eh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e,t,r){return`firebase:${e}:${t}:${r}`}class eg{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:n,name:i}=this.auth;this.fullUserKey=ed(this.userKey,n.apiKey,i),this.fullPersistenceKey=ed("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ea._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new eg(ec(eu),e,r);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=n[0]||ec(eu),s=ed(r,e.config.apiKey,e.name),A=null;for(let r of t)try{let t=await r._get(s);if(t){let n=ea._fromJSON(e,t);r!==i&&(A=n),i=r;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],A&&await i._set(s,A.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new eg(i,e,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(eE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eQ(t))return"Blackberry";if(eB(t))return"Webos";if(ep(t))return"Safari";if((t.includes("chrome/")||eC(t))&&!t.includes("edge/"))return"Chrome";if(em(t))return"Android";let r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function eE(e=(0,i.z$)()){return/firefox\//i.test(e)}function ep(e=(0,i.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eC(e=(0,i.z$)()){return/crios\//i.test(e)}function eI(e=(0,i.z$)()){return/iemobile/i.test(e)}function em(e=(0,i.z$)()){return/android/i.test(e)}function eQ(e=(0,i.z$)()){return/blackberry/i.test(e)}function eB(e=(0,i.z$)()){return/webos/i.test(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e,t=[]){let r;switch(e){case"Browser":r=ef((0,i.z$)());break;case"Worker":r=`${ef((0,i.z$)())}-${e}`;break;default:r=e}let s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${n.Jn}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=t=>new Promise((r,n)=>{try{let n=e(t);r(n)}catch(e){n(e)}});r.onAbort=t,this.queue.push(r);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(e,t={}){return F(e,"GET","/v2/passwordPolicy",N(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev=6;class eS{constructor(e){var t,r,n,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:ev,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,i,s,A;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(r=o.meetsMaxPasswordLength)||void 0===r||r),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(A=o.containsNonAlphanumericCharacter)||void 0===A||A),o}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ec(t)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await eg.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await J(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,n.rh)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null==i?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!r||r===n)&&(null==A?void 0:A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(m(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ee(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,n.rh)(this.app))return Promise.reject(C(this));let t=e?(0,i.m9)(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,n.rh)(this.app)?Promise.reject(C(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,n.rh)(this.app)?Promise.reject(C(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ec(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eS(await eb(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await es(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ec(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=await eg.create(this,[ec(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,A=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(A,this,"internal-error"),A.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,r,n);return()=>{s=!0,i()}}{let r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ey(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&d(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function eR(e){return(0,i.m9)(e)}class eT{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(e){return ek.loadJS(e)}function eF(){return ek.recaptchaEnterpriseScript}let eL="recaptcha-enterprise",eM="NO_RECAPTCHA";class e_{constructor(e){this.type=eL,this.auth=eR(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{G(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new V(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}}).catch(e=>{r(e)})})}function n(t,r,n){let i=window.grecaptcha;P(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(eM)})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{r(this.auth).then(r=>{if(!t&&P(window.grecaptcha))n(r,e,i);else{if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=eF();0!==t.length&&(t+=r),eN(t).then(()=>{n(r,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eU(e,t,r,n=!1){let i;let s=new e_(e);try{i=await s.verify(r)}catch(e){i=await s.verify(r,!0)}let A=Object.assign({},t);return n?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function eO(e,t,r,n){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return n(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eU(e,t,r,"getOobCode"===r);return n(e,i)}});{let i=await eU(e,t,r,"getOobCode"===r);return n(e,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e,t){let r=(0,n.qX)(e,"auth");if(r.isInitialized()){let e=r.getImmediate(),n=r.getOptions();if((0,i.vZ)(n,null!=t?t:{}))return e;f(e,"already-initialized")}return r.initialize({options:t})}function eP(e,t){let r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ec);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}function eV(e,t,r){let n=eR(e);m(n._canInitEmulator,n,"emulator-config-failed"),m(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let i=!!(null==r?void 0:r.disableWarnings),s=eG(t),{host:A,port:o}=eY(t),a=null===o?"":`:${o}`;n.config.emulator={url:`${s}//${A}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:A,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eH()}function eG(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eY(e){let t=eG(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};let n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){let e=i[1];return{host:e,port:eJ(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:eJ(t)}}}function eJ(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function eH(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Q("not implemented")}_getIdTokenResponse(e){return Q("not implemented")}_linkToIdToken(e,t){return Q("not implemented")}_getReauthenticationResolver(e){return Q("not implemented")}}async function eW(e,t){return F(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}async function eK(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX extends eq{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new eX(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new eX(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eO(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ej);case"emailLink":return ez(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eO(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eW);case"emailLink":return eK(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$="http://localhost";class e0 extends eq{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new e0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,i=s(t,["providerId","signInMethod"]);if(!r||!n)return null;let A=new e0(r,n);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){return eZ(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,eZ(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eZ(e,t)}buildRequest(){let e={requestUri:e$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2(e){let t=(0,i.zd)((0,i.pd)(e)).link,r=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,n=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(n?(0,i.zd)((0,i.pd)(n)).link:null)||n||r||t||e}class e9{constructor(e){var t,r,n,s,A,o;let a=(0,i.zd)((0,i.pd)(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(r=a.oobCode)&&void 0!==r?r:null,h=e1(null!==(n=a.mode)&&void 0!==n?n:null);m(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(s=a.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(A=a.languageCode)&&void 0!==A?A:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=e2(e);try{return new e9(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.providerId=e3.PROVIDER_ID}static credential(e,t){return eX._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=e9.parseLink(t);return m(r,"argument-error"),eX._fromEmailAndCode(e,r.code,r.tenantId)}}e3.PROVIDER_ID="password",e3.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e3.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5 extends e4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8 extends e5{constructor(){super("facebook.com")}static credential(e){return e0._fromParams({providerId:e8.PROVIDER_ID,signInMethod:e8.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e8.credentialFromTaggedObject(e)}static credentialFromError(e){return e8.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e8.credential(e.oauthAccessToken)}catch(e){return null}}}e8.FACEBOOK_SIGN_IN_METHOD="facebook.com",e8.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6 extends e5{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return e0._fromParams({providerId:e6.PROVIDER_ID,signInMethod:e6.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e6.credentialFromTaggedObject(e)}static credentialFromError(e){return e6.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return e6.credential(t,r)}catch(e){return null}}}e6.GOOGLE_SIGN_IN_METHOD="google.com",e6.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7 extends e5{constructor(){super("github.com")}static credential(e){return e0._fromParams({providerId:e7.PROVIDER_ID,signInMethod:e7.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e7.credentialFromTaggedObject(e)}static credentialFromError(e){return e7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e7.credential(e.oauthAccessToken)}catch(e){return null}}}e7.GITHUB_SIGN_IN_METHOD="github.com",e7.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te extends e5{constructor(){super("twitter.com")}static credential(e,t){return e0._fromParams({providerId:te.PROVIDER_ID,signInMethod:te.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return te.credentialFromTaggedObject(e)}static credentialFromError(e){return te.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return te.credential(t,r)}catch(e){return null}}}te.TWITTER_SIGN_IN_METHOD="twitter.com",te.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){return new tt({user:await ea._fromIdTokenResponse(e,r,n),providerId:tr(r),_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){return await e._updateTokensIfNecessary(r,!0),new tt({user:e,providerId:tr(r),_tokenResponse:r,operationType:t})}}function tr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends i.ZR{constructor(e,t,r,n){var i;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,tn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new tn(e,t,r,n)}}function ti(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw tn._fromErrorAndOperation(e,r,t,n);throw r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(e,t,r=!1){if((0,n.rh)(e.app))return Promise.reject(C(e));let i="signIn",s=await ti(e,i,t),A=await tt._fromIdTokenResponse(e,i,s);return r||await e._updateCurrentUser(A.user),A}async function tA(e,t){return ts(eR(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ta._fromServerResponse(e,t):"totpInfo"in t?tl._fromServerResponse(e,t):f(e,"internal-error")}}class ta extends null{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ta(t)}}class tl extends null{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new tl(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e){let t=eR(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function th(e,t,r){return(0,n.rh)(e.app)?Promise.reject(C(e)):tA((0,i.m9)(e),e3.credential(t,r)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&tc(e),t})}function tu(e,t,r,n){return(0,i.m9)(e).onAuthStateChanged(t,r,n)}function td(e){return(0,i.m9)(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new tg("enroll",e,t)}static _fromMfaPendingCredential(e){return new tg("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return tg._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return tg._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){let r=eR(e),n=t.customData._serverResponse,i=(n.mfaInfo||[]).map(e=>to._fromServerResponse(r,e));m(n.mfaPendingCredential,r,"internal-error");let s=tg._fromMfaPendingCredential(n.mfaPendingCredential);return new tf(s,i,async e=>{let i=await e._process(r,s);delete n.mfaInfo,delete n.mfaPendingCredential;let A=Object.assign(Object.assign({},n),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let o=await tt._fromIdTokenResponse(r,t.operationType,A);return await r._updateCurrentUser(o.user),o;case"reauthenticate":return m(t.user,r,"internal-error"),tt._forOperation(t.user,t.operationType,A);default:f(r,"internal-error")}})}async resolveSignIn(e){let t=e;return this.signInResolver(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}function tp(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}function tC(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:withdraw",N(e,t))}class tI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>to._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new tI(e)}async getSession(){return tg._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let r=e,n=await this.getSession(),i=await K(this.user,r._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,r=await this.user.getIdToken();try{let e=await K(this.user,tC(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;var tm="@firebase/auth",tQ="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tw(e){(0,n.Xd)(new A.wA("auth",(t,{options:r})=>{let n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:A,authDomain:o}=n.options;m(A&&!A.includes(":"),"invalid-api-key",{appName:n.name});let a=new eD(n,i,s,{apiKey:A,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ey(e)});return eP(a,r),a},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,n.Xd)(new A.wA("auth-internal",e=>new tB(eR(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,n.KN)(tm,tQ,ty(e)),(0,n.KN)(tm,tQ,"esm2017")}function tb(e=(0,n.Mq)()){let t=(0,n.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let r=ex(e),s=(0,i.q4)("auth");return s&&eV(r,`http://${s}`),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */R.initialize(o.he,o.Headers,o.Response),tw("Node"),E("operation-not-supported-in-this-environment"),eD.prototype.setPersistence=async()=>{};class tS{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Q("unexpected MultiFactorSessionType")}}}class tD{static assertionForEnrollment(e,t){return tR._fromSecret(e,t)}static assertionForSignIn(e,t){return tR._fromEnrollmentId(e,t)}static async generateSecret(e){var t;let r=e;m(void 0!==(null===(t=r.user)||void 0===t?void 0:t.auth),"internal-error");let n=await tE(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return tT._fromStartTotpMfaEnrollmentResponse(n,r.user.auth)}}tD.FACTOR_ID="totp";class tR extends tS{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new tR(t,void 0,e)}static _fromEnrollmentId(e,t){return new tR(t,e)}async _finalizeEnroll(e,t,r){return m(void 0!==this.secret,e,"argument-error"),tp(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){m(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return tv(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class tT{constructor(e,t,r,n,i,s,A){this.sessionInfo=s,this.auth=A,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new tT(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let n=!1;return(tk(e)||tk(t))&&(n=!0),n&&(tk(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),tk(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function tk(e){return void 0===e||(null==e?void 0:e.length)===0}},29127:(e,t,r)=>{"use strict";r.d(t,{ET:()=>n.ET,IO:()=>n.IO,PL:()=>n.PL,ad:()=>n.ad,ar:()=>n.ar,hJ:()=>n.hJ,pl:()=>n.pl});var n=r(65023)},73424:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>tE,cF:()=>tC,iH:()=>tp,KV:()=>tf});var n,i,s=r(95285),A=r(36348);r(12781);var o=r(29730),a=r(47059);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l="firebasestorage.googleapis.com",c="storageBucket",h=12e4,u=6e5,d=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g extends A.ZR{constructor(e,t,r=0){super(f(e),`Firebase Storage: ${t} (${f(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,g.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function f(e){return"storage/"+e}function E(){let e="An unknown error occurred, please check the error payload for server response.";return new g(n.UNKNOWN,e)}function p(e){return new g(n.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function C(e){return new g(n.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new g(n.UNAUTHENTICATED,e)}function m(){return new g(n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q(e){return new g(n.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function B(){return new g(n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y(){return new g(n.CANCELED,"User canceled the upload/download.")}function w(e){return new g(n.INVALID_URL,"Invalid URL '"+e+"'.")}function b(e){return new g(n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function v(){return new g(n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+c+"' property when initializing the app?")}function S(){return new g(n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function D(){return new g(n.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function R(){return new g(n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T(e){return new g(n.INVALID_ARGUMENT,e)}function k(){return new g(n.APP_DELETED,"The Firebase app was deleted.")}function N(e){return new g(n.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function F(e,t){return new g(n.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function L(e){throw new g(n.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(n||(n={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=M.makeFromUrl(e,t)}catch(t){return new M(e,"")}if(""===r.path)return r;throw b(e)}static makeFromUrl(e,t){let r=null,n="([A-Za-z0-9.\\-_]+)";function i(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}let s=RegExp("^gs://"+n+"(/(.*))?$","i"),A={bucket:1,path:3};function o(e){e.path_=decodeURIComponent(e.path)}let a="v[A-Za-z0-9_]+",c=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",u=RegExp(`^https?://${c}/${a}/b/${n}/o${h}`,"i"),d=t===l?"(?:storage.googleapis.com|storage.cloud.google.com)":t,g="([^?#]*)",f=[{regex:s,indices:A,postModify:i},{regex:u,indices:{bucket:1,path:3},postModify:o},{regex:RegExp(`^https?://${d}/${n}/${g}`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<f.length;t++){let n=f[t],i=n.regex.exec(e);if(i){let e=i[n.indices.bucket],t=i[n.indices.path];t||(t=""),r=new M(e,t),n.postModify(r);break}}if(null==r)throw w(e);return r}}class _{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e,t,r){let n=1,i=null,s=null,A=!1,o=0;function a(){return 2===o}let l=!1;function c(...e){l||(l=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(d,a())},t)}function u(){s&&clearTimeout(s)}function d(e,...t){let r;if(l){u();return}if(e||a()||A){u(),c.call(null,e,...t);return}n<64&&(n*=2),1===o?(o=2,r=0):r=(n+Math.random())*1e3,h(r)}let g=!1;function f(e){!g&&(g=!0,u(),!l&&(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout(()=>{A=!0,f(!0)},r),f}function O(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e){return void 0!==e}function P(e){return"function"==typeof e}function V(e){return"object"==typeof e&&!Array.isArray(e)}function G(e){return"string"==typeof e||e instanceof String}function Y(e){return J()&&e instanceof Blob}function J(){return"undefined"!=typeof Blob}function H(e,t,r,n){if(n<t)throw T(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw T(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t,r){let n=t;return null==r&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function W(e){let t=encodeURIComponent,r="?";for(let n in e)e.hasOwnProperty(n)&&(r=r+(t(n)+"=")+t(e[n])+"&");return r.slice(0,-1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e,t){let r=e>=500&&e<600,n=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return r||n||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(i||(i={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,t,r,n,i,s,A,o,a,l,c,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=A,this.errorCallback_=o,this.timeout_=a,this.progressCallback_=l,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new K(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let n=e=>{let t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(n),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(n),this.pendingConnection_=null;let t=r.getErrorCode()===i.NO_ERROR,s=r.getStatus();if(!t||j(s,this.additionalRetryCodes_)&&this.retry){e(!1,new K(!1,null,r.getErrorCode()===i.ABORT));return}e(!0,new K(-1!==this.successCodes_.indexOf(s),r))})},t=(e,t)=>{let r=this.resolve_,n=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());x(e)?r(e):r()}catch(e){n(e)}else if(null!==i){let e=E();e.serverResponse=i.getErrorText(),n(this.errorCallback_?this.errorCallback_(i,e):e)}else n(t.canceled?this.appDelete_?k():y():B())};this.canceled_?t(!1,new K(!1,null,!0)):this.backoffId_=U(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&O(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class K{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function X(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Z(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}function $(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ee(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function et(e,t,r,n,i,s,A=!0){let o=W(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return $(l,t),X(l,r),Z(l,s),ee(l,n),new z(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function en(...e){let t=er();if(void 0!==t){let r=new t;for(let t=0;t<e.length;t++)r.append(e[t]);return r.getBlob()}if(J())return new Blob(e);throw new g(n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ei(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){if(/[^-A-Za-z0-9+/=]/.test(e))throw F("base64","Invalid character found");return Buffer.from(e,"base64").toString("binary")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eo{constructor(e,t){this.data=e,this.contentType=t||null}}function ea(e,t){switch(e){case eA.RAW:return new eo(el(t));case eA.BASE64:case eA.BASE64URL:return new eo(eh(e,t));case eA.DATA_URL:return new eo(ed(t),eg(t))}throw E()}function el(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):(64512&n)==55296?r<e.length-1&&(64512&e.charCodeAt(r+1))==56320?(n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):t.push(239,191,189):(64512&n)==56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function ec(e){let t;try{t=decodeURIComponent(e)}catch(e){throw F(eA.DATA_URL,"Malformed data URL.")}return el(t)}function eh(e,t){let r;switch(e){case eA.BASE64:{let r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n)throw F(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case eA.BASE64URL:{let r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/");if(r||n)throw F(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{r=es(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw F(e,"Invalid character found")}let n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n}class eu{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(null===t)throw F(eA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;null!=r&&(this.base64=ef(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ed(e){let t=new eu(e);return t.base64?eh(eA.BASE64,t.rest):ec(t.rest)}function eg(e){return new eu(e).contentType}function ef(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){let r=0,n="";Y(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(!Y(this.data_))return new eE(new Uint8Array(this.data_.buffer,e,t-e),!0);{let r=ei(this.data_,e,t);return null===r?null:new eE(r)}}static getBlob(...e){if(J()){let t=e.map(e=>e instanceof eE?e.data_:e);return new eE(en.apply(null,t))}{let t=e.map(e=>G(e)?ea(eA.RAW,e).data:e.data_),r=0;t.forEach(e=>{r+=e.byteLength});let n=new Uint8Array(r),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)n[i++]=e[t]}),new eE(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e){let t;try{t=JSON.parse(e)}catch(e){return null}return V(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}function eI(e,t){let r=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?r:e+"/"+r}function em(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(e,t){return t}class eB{constructor(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||eQ}}let ey=null;function ew(e){return!G(e)||e.length<2?e:em(e)}function eb(){if(ey)return ey;let e=[];function t(e,t){return ew(t)}e.push(new eB("bucket")),e.push(new eB("generation")),e.push(new eB("metageneration")),e.push(new eB("name","fullPath",!0));let r=new eB("name");function n(e,t){return void 0!==t?Number(t):t}r.xform=t,e.push(r);let i=new eB("size");return i.xform=n,e.push(i),e.push(new eB("timeCreated")),e.push(new eB("updated")),e.push(new eB("md5Hash",null,!0)),e.push(new eB("cacheControl",null,!0)),e.push(new eB("contentDisposition",null,!0)),e.push(new eB("contentEncoding",null,!0)),e.push(new eB("contentLanguage",null,!0)),e.push(new eB("contentType",null,!0)),e.push(new eB("metadata","customMetadata",!0)),ey=e}function ev(e,t){function r(){let r=new M(e.bucket,e.fullPath);return t._makeStorageReference(r)}Object.defineProperty(e,"ref",{get:r})}function eS(e,t,r){let n={};n.type="file";let i=r.length;for(let e=0;e<i;e++){let i=r[e];n[i.local]=i.xform(n,t[i.server])}return ev(n,e),n}function eD(e,t,r){let n=ep(t);return null===n?null:eS(e,n,r)}function eR(e,t,r,n){let i=ep(t);if(null===i||!G(i.downloadTokens))return null;let s=i.downloadTokens;if(0===s.length)return null;let A=encodeURIComponent;return s.split(",").map(t=>{let i=e.bucket,s=e.fullPath;return q("/b/"+A(i)+"/o/"+A(s),r,n)+W({alt:"media",token:t})})[0]}function eT(e,t){let r={},n=t.length;for(let i=0;i<n;i++){let n=t[i];n.writable&&(r[n.server]=e[n.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek="prefixes",eN="items";function eF(e,t,r){let n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[ek])for(let i of r[ek]){let r=i.replace(/\/$/,""),s=e._makeStorageReference(new M(t,r));n.prefixes.push(s)}if(r[eN])for(let i of r[eN]){let r=e._makeStorageReference(new M(t,i.name));n.items.push(r)}return n}function eL(e,t,r){let n=ep(r);return null===n?null:eF(e,t,n)}class eM{constructor(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(e){if(!e)throw E()}function eU(e,t){return function(r,n){let i=eD(e,n,t);return e_(null!==i),i}}function eO(e,t){return function(r,n){let i=eL(e,t,n);return e_(null!==i),i}}function ex(e,t){return function(r,n){let i=eD(e,n,t);return e_(null!==i),eR(i,n,e.host,e._protocol)}}function eP(e){return function(t,r){let n;return(n=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?m():I():402===t.getStatus()?C(e.bucket):403===t.getStatus()?Q(e.path):r).status=t.getStatus(),n.serverResponse=r.serverResponse,n}}function eV(e){let t=eP(e);return function(r,n){let i=t(r,n);return 404===r.getStatus()&&(i=p(e.path)),i.serverResponse=n.serverResponse,i}}function eG(e,t,r){let n=q(t.fullServerUrl(),e.host,e._protocol),i="GET",s=e.maxOperationRetryTime,A=new eM(n,i,eU(e,r),s);return A.errorHandler=eV(t),A}function eY(e,t,r,n,i){let s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",r&&r.length>0&&(s.delimiter=r),n&&(s.pageToken=n),i&&(s.maxResults=i);let A=q(t.bucketOnlyServerUrl(),e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,l=new eM(A,o,eO(e,t.bucket),a);return l.urlParams=s,l.errorHandler=eP(t),l}function eJ(e,t,r){let n=q(t.fullServerUrl(),e.host,e._protocol),i="GET",s=e.maxOperationRetryTime,A=new eM(n,i,ex(e,r),s);return A.errorHandler=eV(t),A}function eH(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function eq(e,t,r){let n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=eH(null,t)),n}function eW(e,t,r,n,i){let s=t.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();A["Content-Type"]="multipart/related; boundary="+o;let a=eq(t,n,i),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+eT(a,r)+"\r\n--"+o+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",c="\r\n--"+o+"--",h=eE.getBlob(l,n,c);if(null===h)throw S();let u={name:a.fullPath},d=q(s,e.host,e._protocol),g="POST",f=e.maxUploadRetryTime,E=new eM(d,g,eU(e,r),f);return E.urlParams=u,E.headers=A,E.body=h.uploadData(),E.errorHandler=eP(t),E}class ej{constructor(e,t,r,n){this.current=e,this.total=t,this.finalized=!!r,this.metadata=n||null}}function ez(e,t){let r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){e_(!1)}let n=t||["active"];return e_(!!r&&-1!==n.indexOf(r)),r}function eK(e,t,r,n,i){let s=t.bucketOnlyServerUrl(),A=eq(t,n,i),o={name:A.fullPath},a=q(s,e.host,e._protocol),l="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},h=eT(A,r),u=new eM(a,l,function(e){let t;ez(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){e_(!1)}return e_(G(t)),t},e.maxUploadRetryTime);return u.urlParams=o,u.headers=c,u.body=h,u.errorHandler=eP(t),u}function eX(e,t,r,n){let i={"X-Goog-Upload-Command":"query"},s=new eM(r,"POST",function(e){let t=ez(e,["active","final"]),r=null;try{r=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){e_(!1)}r||e_(!1);let i=Number(r);return e_(!isNaN(i)),new ej(i,n.size(),"final"===t)},e.maxUploadRetryTime);return s.headers=i,s.errorHandler=eP(t),s}let eZ=null;function e$(e,t,r,n,i,s,A,o){let a=new ej(0,0);if(A?(a.current=A.current,a.total=A.total):(a.current=0,a.total=n.size()),n.size()!==a.total)throw D();let l=a.total-a.current,c=l;i>0&&(c=Math.min(c,i));let h=a.current,u=h+c,d="",g={"X-Goog-Upload-Command":d=0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${a.current}`},f=n.slice(h,u);if(null===f)throw S();let E=new eM(r,"POST",function(e,r){let i;let A=ez(e,["active","final"]),o=a.current+c,l=n.size();return i="final"===A?eU(t,s)(e,r):null,new ej(o,l,"final"===A,i)},t.maxUploadRetryTime);return E.headers=g,E.body=f.uploadData(),E.progressCallback=o||null,E.errorHandler=eP(e),E}let e0={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function e1(e){switch(e){case"running":case"pausing":case"canceling":return e0.RUNNING;case"paused":return e0.PAUSED;case"success":return e0.SUCCESS;case"canceled":return e0.CANCELED;default:return e0.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,r){if(P(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{let t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3=null;class e4{constructor(){this.errorText_="",this.sent_=!1,this.fetch_=o.he,this.errorCode_=i.NO_ERROR}async send(e,t,r,n){if(this.sent_)throw L("cannot .send() more than once");this.sent_=!0;try{let s=await this.fetch_(e,{method:t,headers:n||{},body:r});this.headers_=s.headers,this.statusCode_=s.status,this.errorCode_=i.NO_ERROR,this.body_=await s.arrayBuffer()}catch(e){this.errorText_=null==e?void 0:e.message,this.statusCode_=0,this.errorCode_=i.NETWORK_ERROR}}getErrorCode(){if(void 0===this.errorCode_)throw L("cannot .getErrorCode() before receiving response");return this.errorCode_}getStatus(){if(void 0===this.statusCode_)throw L("cannot .getStatus() before receiving response");return this.statusCode_}getErrorText(){return this.errorText_}abort(){}getResponseHeader(e){if(!this.headers_)throw L("cannot .getResponseHeader() before receiving response");return this.headers_.get(e)}addUploadProgressListener(e){}removeUploadProgressListener(e){}}class e5 extends e4{getResponse(){if(!this.body_)throw L("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}}function e8(){return e3?e3():new e5}class e6 extends null{getResponse(){if(!this.body_)throw L("cannot .getResponse() before sending");return this.body_}}class e7 extends null{constructor(){super(...arguments),this.stream_=null}async send(e,t,r,n){if(this.sent_)throw L("cannot .send() more than once");this.sent_=!0;try{let s=await this.fetch_(e,{method:t,headers:n||{},body:r});this.headers_=s.headers,this.statusCode_=s.status,this.errorCode_=i.NO_ERROR,this.stream_=s.body}catch(e){this.errorText_=null==e?void 0:e.message,this.statusCode_=0,this.errorCode_=i.NETWORK_ERROR}}getResponse(){if(!this.stream_)throw L("cannot .getResponse() before sending");return this.stream_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,t){this._service=e,t instanceof M?this._location=t:this._location=M.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new te(e,t)}get root(){let e=new M(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return em(this._location.path)}get storage(){return this._service}get parent(){let e=eC(this._location.path);if(null===e)return null;let t=new M(this._location.bucket,e);return new te(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw N(e)}}function tt(e,t,r){e._throwIfRoot("uploadBytes");let n=eW(e.storage,e._location,eb(),new eE(t,!0),r);return e.storage.makeRequestWithTokens(n,e8).then(t=>({metadata:t,ref:e}))}function tr(e,t){null!=t&&"number"==typeof t.maxResults&&H("options.maxResults",1,1e3,t.maxResults);let r=t||{},n=eY(e.storage,e._location,"/",r.pageToken,r.maxResults);return e.storage.makeRequestWithTokens(n,e8)}function tn(e){e._throwIfRoot("getDownloadURL");let t=eJ(e.storage,e._location,eb());return e.storage.makeRequestWithTokens(t,e8).then(e=>{if(null===e)throw R();return e})}function ti(e,t){let r=eI(e._location.path,t),n=new M(e._location.bucket,r);return new te(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e){return/^[A-Za-z]+:\/\//.test(e)}function tA(e,t){return new te(e,t)}function to(e,t){if(e instanceof th){let r=e;if(null==r._bucket)throw v();let n=new te(r,r._bucket);return null!=t?to(n,t):n}return void 0!==t?ti(e,t):e}function ta(e,t){if(!(t&&ts(t)))return to(e,t);if(e instanceof th)return tA(e,t);throw T("To use ref(service, url), the first argument must be a Storage instance.")}function tl(e,t){let r=null==t?void 0:t[c];return null==r?null:M.makeFromBucketSpec(r,e)}function tc(e,t,r,n={}){e.host=`${t}:${r}`,e._protocol="http";let{mockUserToken:i}=n;i&&(e._overrideAuthToken="string"==typeof i?i:(0,A.Sg)(i,e.app.options.projectId))}class th{constructor(e,t,r,n,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=l,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h,this._maxUploadRetryTime=u,this._requests=new Set,null!=n?this._bucket=M.makeFromBucketSpec(n,this._host):this._bucket=tl(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=M.makeFromBucketSpec(this._url,e):this._bucket=tl(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new te(this,e)}_makeRequest(e,t,r,n,i=!0){if(this._deleted)return new _(k());{let s=et(e,this._appId,r,n,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[r,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,n).getPromise()}}let tu="@firebase/storage",td="0.12.6",tg="storage";function tf(e,t,r){return tt(e=(0,A.m9)(e),t,r)}function tE(e){return tn(e=(0,A.m9)(e))}function tp(e,t){return ta(e=(0,A.m9)(e),t)}function tC(e=(0,s.Mq)(),t){e=(0,A.m9)(e);let r=(0,s.qX)(e,tg).getImmediate({identifier:t}),n=(0,A.P0)("storage");return n&&tI(r,...n),r}function tI(e,t,r,n={}){tc(e,t,r,n)}function tm(e,{instanceIdentifier:t}){return new th(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,s.Jn)}(function(){(0,s.Xd)(new a.wA(tg,tm,"PUBLIC").setMultipleInstances(!0)),(0,s.KN)(tu,td)})()},81513:e=>{"use strict";e.exports={i8:"1.9.15"}},56541:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},89987:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},57674:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},73795:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}};