(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2302],{5485:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var a=s(7437),i=s(8456),n=s(4752),l=s(3145),d=s(7648),c=s(2265),r=s(9206),o=s(7818),h=function(e){let{isAllArticlesPage:t,highlightedEditors:s,totalPagesCount:h,editorsArticles:x=[]}=e,[,u]=(0,c.useState)([]),[m,g]=(0,c.useState)(null),[p,j]=(0,c.useState)(!1),[,y]=(0,c.useState)(null),[b,f]=(0,c.useState)({}),[N,k]=(0,c.useState)({}),[w,S]=(0,c.useState)(1),[v,F]=(0,c.useState)(h||1),[E,C]=(0,c.useState)(new Set),[J,I]=(0,c.useState)(null),P=(0,c.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!E.has(e)){j(!0),I(null),console.log("Fetching data for page: ".concat(e));try{let t=(0,i.hJ)(o.Fs,"editors-picks"),s=(0,i.IO)(t,(0,i.Xo)("timestamp","desc"),(0,i.b9)(6));e>1&&N[e-1]&&(s=(0,i.IO)(s,(0,i.TQ)(N[e-1])));let a=await (0,i.PL)(s),n=a.docs.map(e=>({id:e.id,...e.data()})),l=a.docs[a.docs.length-1]||null;k(l),k(t=>({...t,[e]:l})),u(e=>{let t=n.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]}),C(t=>new Set(t).add(e))}catch(t){console.error("Error fetching articles:",t),I("Failed to fetch articles. Please try again."),C(t=>{let s=new Set(t);return s.delete(e),s})}finally{j(!1)}}},[E,N]);(0,c.useEffect)(()=>{(async()=>{let e=(0,i.hJ)(o.Fs,"editors-picks");F(Math.ceil((await (0,i.Yp)(e)).data().count/6)),P(1)})()},[P]),(0,c.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{g(e)});return P(w),()=>{t()}},[w,P]);let H=async e=>{if(t){let t=(0,i.JU)(o.Fs,"news",e);await (0,i.oe)(t),u(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},L=async e=>{try{let t=(0,i.JU)(o.Fs,"centeredStates",e),s=await (0,i.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,i.r7)(t,{centeredState:!e})}else await (0,i.pl)(t,{centeredState:!0});let a=await U();f(a)}catch(e){console.error("Error toggling centered state:",e)}},M=async e=>{try{await (0,i.pl)((0,i.JU)(o.Fs,"highlighted","highlightedEditors"),{articleId:e}),y(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},U=async()=>{let e=(0,i.hJ)(o.Fs,"centeredStates"),t=await (0,i.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},A=x.length,D=(w-1)*6,O=x.slice(D,Math.min(D+6,A));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(l.default,{src:"/newspaper-folded.png",alt:"Editors icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,a.jsx)("h1",{children:"Editor's Picks"})]}),(0,a.jsx)("div",{className:"flex-contents",children:(0,a.jsxs)("div",{className:"page-contents",children:[p&&(0,a.jsx)(r.Z,{}),!p&&O.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(d.default,{href:m&&t&&!e.isHighlight?"#":"editors-picks/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(b[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[m&&t&&(0,a.jsx)("button",{onClick:()=>H(e.id),children:"Delete"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>L(e.id),children:"Change Center"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>M(e.id),children:"Set as Editors Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},s)},s))]})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{S(e=>Math.max(e-1,1))},disabled:1===w,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{className:"page-number",children:["Page ",w," of ",v]}),(0,a.jsx)("button",{onClick:()=>{S(e=>e+1)},disabled:w===v,className:"page-button",children:"Next"})]})]})}},1860:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var a=s(7437),i=s(8456),n=s(4752),l=s(3145),d=s(7648),c=s(2265),r=s(7818);s(315),s(9824);var o=s(9206),h=e=>{let{isAllArticlesPage:t,fetchNewsData:s,initialNewsArticles:h,totalPagesCount:x}=e,[u,m]=(0,c.useState)(h||[]),[g,p]=(0,c.useState)(null),[,j]=(0,c.useState)(null),[y,b]=(0,c.useState)(!1),[f,N]=(0,c.useState)({}),[k,w]=(0,c.useState)({}),[S,v]=(0,c.useState)(1),[F,E]=(0,c.useState)(x||1),[C,J]=(0,c.useState)(new Set),[I,P]=(0,c.useState)(null),H=(0,c.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!C.has(e)){b(!0),P(null),console.log("Fetching data for page: ".concat(e));try{let t=(0,i.hJ)(r.Fs,"news"),s=(0,i.IO)(t,(0,i.Xo)("timestamp","desc"),(0,i.b9)(6));e>1&&k[e-1]&&(s=(0,i.IO)(s,(0,i.TQ)(k[e-1])));let a=await (0,i.PL)(s),n=a.docs.map(e=>({id:e.id,...e.data()})),l=a.docs[a.docs.length-1]||null;w(l),w(t=>({...t,[e]:l})),m(e=>{let t=n.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]}),J(t=>new Set(t).add(e))}catch(t){console.error("Error fetching articles:",t),P("Failed to fetch articles. Please try again."),J(t=>{let s=new Set(t);return s.delete(e),s})}finally{b(!1)}}},[C,k]);(0,c.useEffect)(()=>{(async()=>{let e=(0,i.hJ)(r.Fs,"news");E(Math.ceil((await (0,i.Yp)(e)).data().count/6)),H(1)})()},[H]),(0,c.useEffect)(()=>{let e=(0,n.v0)(),t=(0,n.Aj)(e,e=>{p(e)});return H(S),()=>{t()}},[S,H]);let L=async e=>{if(t){let t=(0,i.JU)(r.Fs,"news",e);await (0,i.oe)(t),m(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},M=async e=>{try{let t=(0,i.JU)(r.Fs,"centeredStates",e),s=await (0,i.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,i.r7)(t,{centeredState:!e})}else await (0,i.pl)(t,{centeredState:!0});let a=await A();N(a)}catch(e){console.error("Error toggling centered state:",e)}},U=async e=>{try{await (0,i.pl)((0,i.JU)(r.Fs,"highlighted","highlightedNews"),{articleId:e}),j(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},A=async()=>{let e=(0,i.hJ)(r.Fs,"centeredStates"),t=await (0,i.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},D=u.length,O=(S-1)*6,B=u.slice(O,Math.min(O+6,D));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(l.default,{src:"/newspaper-folded.png",alt:"News icon",className:"news-icon",width:10,height:10,unoptimized:!0,priority:!0}),(0,a.jsx)("h1",{children:"NEWS"})]}),(0,a.jsx)("div",{className:"flex-contents",children:(0,a.jsxs)("div",{className:"page-contents",children:[y&&(0,a.jsx)(o.Z,{}),!y&&B.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(d.default,{href:g&&t&&!e.isHighlight?"#":"news/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(f[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[g&&t&&(0,a.jsx)("button",{onClick:()=>L(e.id),children:"Delete"}),g&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>M(e.id),children:"Change Center"}),g&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>U(e.id),children:"Set as News Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},s)},s))]})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{v(e=>Math.max(e-1,1))},disabled:1===S,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{className:"page-number",children:["Page ",S," of ",F]}),(0,a.jsx)("button",{onClick:()=>{v(e=>e+1)},disabled:S===F,className:"page-button",children:"Next"})]})]})}},9206:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex-contents"}),(0,a.jsxs)("div",{className:"page-contents skeleton-cards",children:[(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]}),(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]}),(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]}),(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]}),(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]}),(0,a.jsxs)("div",{className:"content-card card-skeleton",children:[(0,a.jsx)("p",{className:"editor-text-header editor-skeleton-text-header"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body2"}),(0,a.jsx)("p",{className:"editor-text-body editor-skeleton-text-body3"})]})]})]})},7818:function(e,t,s){"use strict";s.d(t,{Fs:function(){return c},I8:function(){return r},tO:function(){return o}});var a=s(738),i=s(5978),n=s(4752),l=s(62);let d=(0,a.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),c=(0,i.ad)(d),r=(0,n.v0)(d),o=(0,l.cF)(d)},315:function(){},9824:function(){}}]);