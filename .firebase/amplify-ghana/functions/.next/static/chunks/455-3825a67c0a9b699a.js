(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{561:function(e,t,s){"use strict";s.r(t);var a=s(7437),c=s(8501),n=s(9009),i=s(7065),l=s(703),r=s(8792),d=s(2265),o=s(7668),h=s(3951);t.default=function(e){let{isAllArticlesPage:t,highlightedEditors:s,editorsArticles:u=[]}=e,[,g]=(0,d.useState)([]),[A,x]=(0,d.useState)(null),[m,j]=(0,d.useState)(!1),[,f]=(0,d.useState)(null),[p,N]=(0,d.useState)({}),w=async e=>{try{console.log("clicked",e);let t=(0,n.JU)(h.Fs,"centeredStates",e),s=await (0,n.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,n.r7)(t,{centeredState:!e})}else await (0,n.pl)(t,{centeredState:!0});let a=await b();N(a)}catch(e){console.error("Error toggling centered state:",e)}},b=async()=>{let e=(0,n.hJ)(h.Fs,"centeredStates"),t=await (0,n.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},k=async e=>{try{await (0,n.pl)((0,n.JU)(h.Fs,"highlighted","highlightedEditors"),{articleId:e}),f(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}};(0,d.useEffect)(()=>{let e=(0,i.v0)(),t=(0,i.Aj)(e,e=>{x(e)});return()=>t()},[]);let v=async e=>{let t=(0,n.JU)(h.Fs,"editors-picks",e);await (0,n.oe)(t),g(t=>t.filter(t=>t.id!==e))},[S,y]=(0,d.useState)(1),E=u.length,C=(S-1)*6,U=u.slice(C,Math.min(C+6,E));return(0,a.jsxs)("section",{className:"editor-page",id:"editors-pick",children:[(0,a.jsx)("div",{className:"editor_space"}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(l.default,{src:c.Z,alt:"News icon",className:"news-icon",width:10,height:10}),(0,a.jsx)("h1",{children:"Editor's Picks"})]}),(0,a.jsx)("div",{className:"flex-contents",children:m?(0,a.jsx)(o.Z,{}):(0,a.jsx)("div",{className:"page-contents",children:U.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(r.default,{href:A&&t&&!e.isHighlight?"#":"editors-picks/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(p[e.id]?"centered":""),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[A&&t&&(0,a.jsx)("button",{onClick:()=>v(e.id),children:"Delete"}),A&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>w(e.id),children:"Change Center"}),!e.isHighlight&&t&&(0,a.jsx)("button",{onClick:()=>k(e.id),children:"Set as Editor's Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]},"col--row-".concat(s))},"col--row-".concat(s))},s))})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{y(e=>Math.max(e-1,1))},disabled:1===S,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{children:["Page ",S," of ",Math.ceil(E/6)]}),(0,a.jsx)("button",{onClick:()=>{y(e=>Math.min(e+1,Math.ceil(E/6)))},disabled:S===Math.ceil(E/6),className:"page-button",children:"Next"})]})]})}},8996:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(7437),c=s(8501),n=s(9009),i=s(7065),l=s(703),r=s(8792),d=s(2265),o=s(3951);s(7826),s(4273);var h=s(7668),u=e=>{let{isAllArticlesPage:t,fetchNewsData:s,initialNewsArticles:u,totalPagesCount:g}=e,[A,x]=(0,d.useState)(u),[m,j]=(0,d.useState)(null),[,f]=(0,d.useState)(null),[p,N]=(0,d.useState)(!1),[w,b]=(0,d.useState)({}),[k,v]=(0,d.useState)(null),[S,y]=(0,d.useState)(1),[E,C]=(0,d.useState)(g||1),U=(0,d.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let t=(0,n.hJ)(o.Fs,"news"),s=(0,n.IO)(t,(0,n.Xo)("timestamp","desc"),(0,n.b9)(6)),a=s;e>1&&k&&(a=(0,n.IO)(s,(0,n.TQ)(k)));let c=await (0,n.PL)(a),i=c.docs.map(e=>({id:e.id,...e.data()})),l=c.docs[c.docs.length-1]||null;if(v(l),1===e){let e=i.slice(0,6);x(e)}else x(e=>{let t=i.filter(t=>!e.some(e=>e.id===t.id));return[...e,...t]})}catch(e){console.error("Error fetching news articles",e)}finally{N(!1)}},[k]);(0,d.useEffect)(()=>{let e=(0,i.v0)(),t=(0,i.Aj)(e,e=>{j(e)});return()=>t()},[S,U]),(0,d.useEffect)(()=>{S>1&&U(S)},[S,U]);let F=async e=>{if(t){let t=(0,n.JU)(o.Fs,"news",e);await (0,n.oe)(t),x(t=>t.filter(t=>t.id!==e))}else alert("You are not allowed to delete any article here")},I=async e=>{try{let t=(0,n.JU)(o.Fs,"centeredStates",e),s=await (0,n.QT)(t);if(s.exists()){let e=s.data().centeredState;await (0,n.r7)(t,{centeredState:!e})}else await (0,n.pl)(t,{centeredState:!0});let a=await D();b(a)}catch(e){console.error("Error toggling centered state:",e)}},J=async e=>{try{await (0,n.pl)((0,n.JU)(o.Fs,"highlighted","highlightedNews"),{articleId:e}),f(e),alert("Article set as highlight successfully!")}catch(e){console.error("Error setting highlight:",e)}},D=async()=>{let e=(0,n.hJ)(o.Fs,"centeredStates"),t=await (0,n.PL)(e),s={};return t.forEach(e=>{s[e.id]=e.data().centeredState}),s},M=A.length,B=(S-1)*6,Z=A.slice(B,Math.min(B+6,M));return(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)(h.Z,{}),children:(0,a.jsxs)("section",{className:"news-container",id:"news",children:[(0,a.jsx)("div",{className:"spacer"}),(0,a.jsxs)("div",{className:"page-header",children:[(0,a.jsx)(l.default,{src:c.Z,alt:"News icon",className:"news-icon",width:10,height:10}),(0,a.jsx)("h1",{children:"NEWS"})]}),(0,a.jsx)("div",{className:"flex-contents",children:(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)(h.Z,{}),children:(0,a.jsx)("div",{className:"page-contents",children:Z.map((e,s)=>(0,a.jsx)("div",{className:"news-row",children:(0,a.jsx)(r.default,{href:m&&t&&!e.isHighlight?"#":"news/".concat(e.id),prefetch:!0,children:(0,a.jsxs)("div",{className:"content-card ".concat(w[e.id]?"centered":""," "),style:{backgroundImage:"url(".concat(e?e.image:"",")")},children:[(0,a.jsxs)("div",{className:"card-manager",children:[m&&t&&(0,a.jsx)("button",{onClick:()=>F(e.id),children:"Delete"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>I(e.id),children:"Change Center"}),m&&t&&!e.isHighlight&&(0,a.jsx)("button",{onClick:()=>J(e.id),children:"Set as News Highlight"})]}),(0,a.jsxs)("div",{className:"content-text",children:[(0,a.jsx)("h2",{className:"content-text-header",children:e.title}),(0,a.jsx)("p",{className:"content-text-body",children:e.summary})]})]})},s)},s))})})}),(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{onClick:()=>{y(e=>Math.max(e-1,1))},disabled:1===S,className:"page-button",children:"Back"}),(0,a.jsxs)("span",{className:"page-number",children:["Page ",S," of ",E]}),(0,a.jsx)("button",{onClick:()=>{y(e=>e+1)},disabled:S===E,className:"page-button",children:"Next"})]})]})})}},7668:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex-contents"}),(0,a.jsxs)("div",{className:"page-contents skeleton-cards",children:[(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"}),(0,a.jsx)("div",{className:"content-card card-skeleton"})]})]})},3951:function(e,t,s){"use strict";s.d(t,{Fs:function(){return r},I8:function(){return d},tO:function(){return o}});var a=s(6142),c=s(8121),n=s(7065),i=s(4905);let l=(0,a.ZF)({apiKey:"AIzaSyBDLPgELwiKWxGj9ajDEJ2liiMsl2aL3F0",authDomain:"amplify-ghana.firebaseapp.com",projectId:"amplify-ghana",storageBucket:"amplify-ghana.appspot.com",messagingSenderId:"278790838056",appId:"1:278790838056:web:d12687053f59e33ecc621d"}),r=(0,c.ad)(l),d=(0,n.v0)(l),o=(0,i.cF)(l)},7826:function(){},4273:function(){},8501:function(e,t){"use strict";t.Z={src:"/_next/static/media/newspaper-folded.b5df89c4.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt0UjBAAAAC3RSTlNJZF1VOW+DQyuYEFFDp/QAAAAJcEhZcwAAEAgAABAIAbUXIX8AAAA1SURBVHicLYtBDsAwDMIMJE27/z946jROli0wd37okZUslEapRbNt1zUaXfD0/pPKqfOdIbwaxgC7bo5DAgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}}]);